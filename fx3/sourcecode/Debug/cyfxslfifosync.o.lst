   1              		.cpu arm926ej-s
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 0
  11              		.eabi_attribute 18, 4
  12              		.file	"cyfxslfifosync.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.global	CyFxGpifTransition
  17              		.data
  18              		.align	2
  21              	CyFxGpifTransition:
  22 0000 0000     		.short	0
  23 0002 8080     		.short	-32640
  24 0004 2222     		.short	8738
  25 0006 5555     		.short	21845
  26 0008 7F7F     		.short	32639
  27 000a 1F1F     		.short	7967
  28 000c 8888     		.short	-30584
  29              		.global	CyFxGpifWavedata
  30 000e 0000     		.align	2
  33              	CyFxGpifWavedata:
  34 0010 0160081E 		.word	503865345
  35 0014 C4020300 		.word	197316
  36 0018 00000080 		.word	-2147483648
  37 001c 00000000 		.word	0
  38 0020 00000000 		.word	0
  39 0024 00000000 		.word	0
  40 0028 0203084E 		.word	1309147906
  41 002c 00030000 		.word	768
  42 0030 00000080 		.word	-2147483648
  43 0034 0660081E 		.word	503865350
  44 0038 C4020300 		.word	197316
  45 003c 00000080 		.word	-2147483648
  46 0040 0160081E 		.word	503865345
  47 0044 C4020300 		.word	197316
  48 0048 00000080 		.word	-2147483648
  49 004c 0407044E 		.word	1308886788
  50 0050 00030020 		.word	536871680
  51 0054 000010C0 		.word	-1072693248
  52 0058 0203084E 		.word	1309147906
  53 005c 00030000 		.word	768
  54 0060 00000080 		.word	-2147483648
  55 0064 0160081E 		.word	503865345
  56 0068 C4020300 		.word	197316
  57 006c 00000080 		.word	-2147483648
  58 0070 00000000 		.word	0
  59 0074 00000000 		.word	0
  60 0078 00000000 		.word	0
  61 007c 00000000 		.word	0
  62 0080 00000000 		.word	0
  63 0084 00000000 		.word	0
  64 0088 00000000 		.word	0
  65 008c 00000000 		.word	0
  66 0090 00000000 		.word	0
  67 0094 0587733E 		.word	1047758597
  68 0098 00030000 		.word	768
  69 009c 000010C0 		.word	-1072693248
  70 00a0 00000000 		.word	0
  71 00a4 00000000 		.word	0
  72 00a8 00000000 		.word	0
  73 00ac 0327005E 		.word	1577068291
  74 00b0 0C030320 		.word	537068300
  75 00b4 00000080 		.word	-2147483648
  76 00b8 00000000 		.word	0
  77 00bc 00000000 		.word	0
  78 00c0 00000000 		.word	0
  79 00c4 0407044E 		.word	1308886788
  80 00c8 00030020 		.word	536871680
  81 00cc 000010C0 		.word	-1072693248
  82              		.global	CyFxGpifWavedataPosition
  83              		.align	2
  86              	CyFxGpifWavedataPosition:
  87 00d0 00       		.byte	0
  88 00d1 01       		.byte	1
  89 00d2 00       		.byte	0
  90 00d3 02       		.byte	2
  91 00d4 00       		.byte	0
  92 00d5 00       		.byte	0
  93 00d6 03       		.byte	3
  94 00d7 04       		.byte	4
  95 00d8 04       		.byte	4
  96 00d9 04       		.byte	4
  97 00da 04       		.byte	4
  98 00db 04       		.byte	4
  99 00dc 04       		.byte	4
 100 00dd 04       		.byte	4
 101 00de 04       		.byte	4
 102 00df 04       		.byte	4
 103 00e0 04       		.byte	4
 104 00e1 04       		.byte	4
 105 00e2 04       		.byte	4
 106 00e3 04       		.byte	4
 107 00e4 04       		.byte	4
 108 00e5 04       		.byte	4
 109 00e6 04       		.byte	4
 110 00e7 04       		.byte	4
 111 00e8 04       		.byte	4
 112 00e9 04       		.byte	4
 113 00ea 04       		.byte	4
 114 00eb 04       		.byte	4
 115 00ec 04       		.byte	4
 116 00ed 04       		.byte	4
 117 00ee 04       		.byte	4
 118 00ef 04       		.byte	4
 119 00f0 04       		.byte	4
 120 00f1 04       		.byte	4
 121 00f2 04       		.byte	4
 122 00f3 04       		.byte	4
 123 00f4 04       		.byte	4
 124 00f5 04       		.byte	4
 125 00f6 04       		.byte	4
 126 00f7 04       		.byte	4
 127 00f8 04       		.byte	4
 128 00f9 04       		.byte	4
 129 00fa 04       		.byte	4
 130 00fb 04       		.byte	4
 131 00fc 04       		.byte	4
 132 00fd 04       		.byte	4
 133 00fe 04       		.byte	4
 134 00ff 04       		.byte	4
 135 0100 04       		.byte	4
 136 0101 04       		.byte	4
 137 0102 04       		.byte	4
 138 0103 04       		.byte	4
 139 0104 04       		.byte	4
 140 0105 04       		.byte	4
 141 0106 04       		.byte	4
 142 0107 04       		.byte	4
 143 0108 04       		.byte	4
 144 0109 04       		.byte	4
 145 010a 04       		.byte	4
 146 010b 04       		.byte	4
 147 010c 04       		.byte	4
 148 010d 04       		.byte	4
 149 010e 04       		.byte	4
 150 010f 04       		.byte	4
 151 0110 00       		.byte	0
 152 0111 05       		.byte	5
 153 0112 00       		.byte	0
 154 0113 02       		.byte	2
 155 0114 00       		.byte	0
 156 0115 00       		.byte	0
 157 0116 05       		.byte	5
 158 0117 04       		.byte	4
 159 0118 04       		.byte	4
 160 0119 04       		.byte	4
 161 011a 04       		.byte	4
 162 011b 04       		.byte	4
 163 011c 04       		.byte	4
 164 011d 04       		.byte	4
 165 011e 04       		.byte	4
 166 011f 04       		.byte	4
 167 0120 04       		.byte	4
 168 0121 04       		.byte	4
 169 0122 04       		.byte	4
 170 0123 04       		.byte	4
 171 0124 04       		.byte	4
 172 0125 04       		.byte	4
 173 0126 04       		.byte	4
 174 0127 04       		.byte	4
 175 0128 04       		.byte	4
 176 0129 04       		.byte	4
 177 012a 04       		.byte	4
 178 012b 04       		.byte	4
 179 012c 04       		.byte	4
 180 012d 04       		.byte	4
 181 012e 04       		.byte	4
 182 012f 04       		.byte	4
 183 0130 04       		.byte	4
 184 0131 04       		.byte	4
 185 0132 04       		.byte	4
 186 0133 04       		.byte	4
 187 0134 04       		.byte	4
 188 0135 04       		.byte	4
 189 0136 04       		.byte	4
 190 0137 04       		.byte	4
 191 0138 04       		.byte	4
 192 0139 04       		.byte	4
 193 013a 04       		.byte	4
 194 013b 04       		.byte	4
 195 013c 04       		.byte	4
 196 013d 04       		.byte	4
 197 013e 04       		.byte	4
 198 013f 04       		.byte	4
 199 0140 04       		.byte	4
 200 0141 04       		.byte	4
 201 0142 04       		.byte	4
 202 0143 04       		.byte	4
 203 0144 04       		.byte	4
 204 0145 04       		.byte	4
 205 0146 04       		.byte	4
 206 0147 04       		.byte	4
 207 0148 04       		.byte	4
 208 0149 04       		.byte	4
 209 014a 04       		.byte	4
 210 014b 04       		.byte	4
 211 014c 04       		.byte	4
 212 014d 04       		.byte	4
 213 014e 04       		.byte	4
 214 014f 04       		.byte	4
 215 0150 00       		.byte	0
 216 0151 06       		.byte	6
 217 0152 00       		.byte	0
 218 0153 02       		.byte	2
 219 0154 00       		.byte	0
 220 0155 00       		.byte	0
 221 0156 06       		.byte	6
 222 0157 04       		.byte	4
 223 0158 04       		.byte	4
 224 0159 04       		.byte	4
 225 015a 04       		.byte	4
 226 015b 04       		.byte	4
 227 015c 04       		.byte	4
 228 015d 04       		.byte	4
 229 015e 04       		.byte	4
 230 015f 04       		.byte	4
 231 0160 04       		.byte	4
 232 0161 04       		.byte	4
 233 0162 04       		.byte	4
 234 0163 04       		.byte	4
 235 0164 04       		.byte	4
 236 0165 04       		.byte	4
 237 0166 04       		.byte	4
 238 0167 04       		.byte	4
 239 0168 04       		.byte	4
 240 0169 04       		.byte	4
 241 016a 04       		.byte	4
 242 016b 04       		.byte	4
 243 016c 04       		.byte	4
 244 016d 04       		.byte	4
 245 016e 04       		.byte	4
 246 016f 04       		.byte	4
 247 0170 04       		.byte	4
 248 0171 04       		.byte	4
 249 0172 04       		.byte	4
 250 0173 04       		.byte	4
 251 0174 04       		.byte	4
 252 0175 04       		.byte	4
 253 0176 04       		.byte	4
 254 0177 04       		.byte	4
 255 0178 04       		.byte	4
 256 0179 04       		.byte	4
 257 017a 04       		.byte	4
 258 017b 04       		.byte	4
 259 017c 04       		.byte	4
 260 017d 04       		.byte	4
 261 017e 04       		.byte	4
 262 017f 04       		.byte	4
 263 0180 04       		.byte	4
 264 0181 04       		.byte	4
 265 0182 04       		.byte	4
 266 0183 04       		.byte	4
 267 0184 04       		.byte	4
 268 0185 04       		.byte	4
 269 0186 04       		.byte	4
 270 0187 04       		.byte	4
 271 0188 04       		.byte	4
 272 0189 04       		.byte	4
 273 018a 04       		.byte	4
 274 018b 04       		.byte	4
 275 018c 04       		.byte	4
 276 018d 04       		.byte	4
 277 018e 04       		.byte	4
 278 018f 04       		.byte	4
 279 0190 00       		.byte	0
 280 0191 07       		.byte	7
 281 0192 00       		.byte	0
 282 0193 02       		.byte	2
 283 0194 00       		.byte	0
 284 0195 00       		.byte	0
 285 0196 07       		.byte	7
 286              		.global	CyFxGpifRegValue
 287 0197 00       		.align	2
 290              	CyFxGpifRegValue:
 291 0198 80030080 		.word	-2147482752
 292 019c A7100000 		.word	4263
 293 01a0 02000701 		.word	17235970
 294 01a4 44000000 		.word	68
 295 01a8 00000000 		.word	0
 296 01ac 00000000 		.word	0
 297 01b0 00000000 		.word	0
 298 01b4 82000000 		.word	130
 299 01b8 82070000 		.word	1922
 300 01bc 00150100 		.word	70912
 301 01c0 8FFE0000 		.word	65167
 302 01c4 FF010000 		.word	511
 303 01c8 00000000 		.word	0
 304 01cc 00000000 		.word	0
 305 01d0 00000000 		.word	0
 306 01d4 00000000 		.word	0
 307 01d8 00000000 		.word	0
 308 01dc 10000000 		.word	16
 309 01e0 14000000 		.word	20
 310 01e4 13000000 		.word	19
 311 01e8 00000000 		.word	0
 312 01ec 17000000 		.word	23
 313 01f0 00000000 		.word	0
 314 01f4 00000000 		.word	0
 315 01f8 00000000 		.word	0
 316 01fc 00000000 		.word	0
 317 0200 00000000 		.word	0
 318 0204 00000000 		.word	0
 319 0208 00000000 		.word	0
 320 020c 06000000 		.word	6
 321 0210 00000000 		.word	0
 322 0214 FFFF0000 		.word	65535
 323 0218 0A010000 		.word	266
 324 021c 00000000 		.word	0
 325 0220 FFFF0000 		.word	65535
 326 0224 00000000 		.word	0
 327 0228 FFFF0000 		.word	65535
 328 022c 0A010000 		.word	266
 329 0230 00000000 		.word	0
 330 0234 FFFF0000 		.word	65535
 331 0238 00000000 		.word	0
 332 023c 00000000 		.word	0
 333 0240 00000000 		.word	0
 334 0244 00000000 		.word	0
 335 0248 00000000 		.word	0
 336 024c 00000000 		.word	0
 337 0250 00000000 		.word	0
 338 0254 00000000 		.word	0
 339 0258 00000000 		.word	0
 340 025c 00000000 		.word	0
 341 0260 00000000 		.word	0
 342 0264 00000000 		.word	0
 343 0268 00000000 		.word	0
 344 026c 00000000 		.word	0
 345 0270 00000000 		.word	0
 346 0274 00000000 		.word	0
 347 0278 00000000 		.word	0
 348 027c 00000000 		.word	0
 349 0280 00000000 		.word	0
 350 0284 00000000 		.word	0
 351 0288 00000000 		.word	0
 352 028c 00000000 		.word	0
 353 0290 00000000 		.word	0
 354 0294 00040180 		.word	-2147417088
 355 0298 01040180 		.word	-2147417087
 356 029c 02040180 		.word	-2147417086
 357 02a0 03040180 		.word	-2147417085
 358 02a4 00000000 		.word	0
 359 02a8 00000000 		.word	0
 360 02ac 00000000 		.word	0
 361 02b0 00000C00 		.word	786432
 362 02b4 00000000 		.word	0
 363 02b8 00000000 		.word	0
 364 02bc 00000000 		.word	0
 365 02c0 00000000 		.word	0
 366 02c4 C1FFFFFF 		.word	-63
 367              		.global	CyFxGpifConfig
 368              		.section	.rodata
 369              		.align	2
 372              	CyFxGpifConfig:
 373 0000 C700     		.short	199
 374 0002 0000     		.space	2
 375 0004 00000000 		.word	CyFxGpifWavedata
 376 0008 00000000 		.word	CyFxGpifWavedataPosition
 377 000c 0700     		.short	7
 378 000e 0000     		.space	2
 379 0010 00000000 		.word	CyFxGpifTransition
 380 0014 4C00     		.short	76
 381 0016 0000     		.space	2
 382 0018 00000000 		.word	CyFxGpifRegValue
 383              		.comm	test,1,1
 384              		.comm	dac_val,1,1
 385              		.comm	block,1,1
 386              		.comm	cmd_errors,1,1
 387              		.comm	glEp0Buffer,64,4
 388              		.comm	glEp0Buffer_Rx,64,4
 389              		.comm	glEp0Buffer_Tx,64,32
 390              		.comm	wiper_pos,4,4
 391              		.comm	tx_id,4,4
 392              		.global	LMS_Ctrl_Packet_Tx
 393              		.data
 394              		.align	2
 397              	LMS_Ctrl_Packet_Tx:
 398 02c8 00000000 		.word	glEp0Buffer_Tx
 399              		.global	LMS_Ctrl_Packet_Rx
 400              		.align	2
 403              	LMS_Ctrl_Packet_Rx:
 404 02cc 00000000 		.word	glEp0Buffer_Rx
 405              		.global	flash_page
 406              		.bss
 407              		.align	2
 410              	flash_page:
 411 0000 00000000 		.space	4
 412              		.global	flash_page_data_cnt
 413              		.align	2
 416              	flash_page_data_cnt:
 417 0004 00000000 		.space	4
 418              		.global	flash_data_cnt_free
 419              		.align	2
 422              	flash_data_cnt_free:
 423 0008 00000000 		.space	4
 424              		.global	flash_data_counter_to_copy
 425              		.align	2
 428              	flash_data_counter_to_copy:
 429 000c 00000000 		.space	4
 430              		.comm	flash_page_data,256,4
 431              		.global	FPGA_config_thread_runnning
 434              	FPGA_config_thread_runnning:
 435 0010 00       		.space	1
 436              		.global	LED_mode
 437 0011 000000   		.align	2
 440              	LED_mode:
 441 0014 000000   		.space	3
 442              		.comm	LED_timeout,3,4
 443              		.comm	temp_byte,1,1
 444              		.global	need_fx3_reset
 447              	need_fx3_reset:
 448 0017 00       		.space	1
 449              		.comm	current_portion,4,4
 450              		.comm	fpga_data,4,4
 451              		.comm	data_cnt,1,1
 452              		.global	Board_Config_FPGA
 453              		.data
 454              		.align	2
 457              	Board_Config_FPGA:
 458 02d0 00000000 		.word	flash_page_data
 459              		.comm	finish_flash_page,1,1
 460              		.comm	flash_word,2,2
 461              		.comm	flash_byte,2,2
 462              		.comm	phy_err_cnt,2,2
 463              		.comm	lnk_err_cnt,2,2
 464              		.global	phy_err_cnt_total
 465              		.bss
 466              		.align	2
 469              	phy_err_cnt_total:
 470 0018 00000000 		.space	4
 471              		.global	lnk_err_cnt_total
 472              		.align	2
 475              	lnk_err_cnt_total:
 476 001c 00000000 		.space	4
 477              		.comm	slFifoAppThread,168,4
 478              		.comm	glChHandleSlFifoUtoP,172,4
 479              		.comm	glChHandleSlFifoPtoU,172,4
 480              		.global	FPGA_config_thread_ptr
 481              		.align	2
 484              	FPGA_config_thread_ptr:
 485 0020 00000000 		.space	4
 486              		.comm	FPGA_config_thread_st,168,4
 487              		.global	glDMARxCount
 488              		.align	2
 491              	glDMARxCount:
 492 0024 00000000 		.space	4
 493              		.global	glDMATxCount
 494              		.align	2
 497              	glDMATxCount:
 498 0028 00000000 		.space	4
 499              		.global	glIsApplnActive
 500              		.align	2
 503              	glIsApplnActive:
 504 002c 00000000 		.space	4
 505              		.global	burstLength
 508              	burstLength:
 509 0030 00       		.space	1
 510              		.comm	fpga_byte,4,4
 511              		.global	config_size
 512 0031 000000   		.data
 513              		.align	2
 516              	config_size:
 517 02d4 00010000 		.word	256
 518              		.comm	fpga_bitstream_size,4,4
 519              		.text
 520              		.align	2
 521              		.global	Set_LED_mode
 523              	Set_LED_mode:
 524              	.LFB0:
 525              		.file 1 "../cyfxslfifosync.c"
   1:../cyfxslfifosync.c **** /*
   2:../cyfxslfifosync.c ****  ## Cypress USB 3.0 Platform source file (cyfxslfifosync.c)
   3:../cyfxslfifosync.c ****  ## ===========================
   4:../cyfxslfifosync.c ****  ##
   5:../cyfxslfifosync.c ****  ##  Copyright Cypress Semiconductor Corporation, 2010-2011,
   6:../cyfxslfifosync.c ****  ##  All Rights Reserved
   7:../cyfxslfifosync.c ****  ##  UNPUBLISHED, LICENSED SOFTWARE.
   8:../cyfxslfifosync.c ****  ##
   9:../cyfxslfifosync.c ****  ##  CONFIDENTIAL AND PROPRIETARY INFORMATION
  10:../cyfxslfifosync.c ****  ##  WHICH IS THE PROPERTY OF CYPRESS.
  11:../cyfxslfifosync.c ****  ##
  12:../cyfxslfifosync.c ****  ##  Use of this file is governed
  13:../cyfxslfifosync.c ****  ##  by the license agreement included in the file
  14:../cyfxslfifosync.c ****  ##
  15:../cyfxslfifosync.c ****  ##     <install>/license/license.txt
  16:../cyfxslfifosync.c ****  ##
  17:../cyfxslfifosync.c ****  ##  where <install> is the Cypress software
  18:../cyfxslfifosync.c ****  ##  installation root directory path.
  19:../cyfxslfifosync.c ****  ##
  20:../cyfxslfifosync.c ****  ## ===========================
  21:../cyfxslfifosync.c **** */
  22:../cyfxslfifosync.c **** 
  23:../cyfxslfifosync.c **** /* This file illustrates the Slave FIFO Synchronous mode example */
  24:../cyfxslfifosync.c **** 
  25:../cyfxslfifosync.c **** /*
  26:../cyfxslfifosync.c ****    This example comprises of two USB bulk endpoints. A bulk OUT endpoint acts as the
  27:../cyfxslfifosync.c ****    producer of data from the host. A bulk IN endpoint acts as the consumer of data to
  28:../cyfxslfifosync.c ****    the host. Appropriate vendor class USB enumeration descriptors with these two bulk
  29:../cyfxslfifosync.c ****    endpoints are implemented.
  30:../cyfxslfifosync.c **** 
  31:../cyfxslfifosync.c ****    The GPIF configuration data for the Synchronous Slave FIFO operation is loaded onto
  32:../cyfxslfifosync.c ****    the appropriate GPIF registers. The p-port data transfers are done via the producer
  33:../cyfxslfifosync.c ****    p-port socket and the consumer p-port socket.
  34:../cyfxslfifosync.c **** 
  35:../cyfxslfifosync.c ****    This example implements two DMA Channels in MANUAL mode one for P to U data transfer
  36:../cyfxslfifosync.c ****    and one for U to P data transfer.
  37:../cyfxslfifosync.c **** 
  38:../cyfxslfifosync.c ****    The U to P DMA channel connects the USB producer (OUT) endpoint to the consumer p-port
  39:../cyfxslfifosync.c ****    socket. And the P to U DMA channel connects the producer p-port socket to the USB 
  40:../cyfxslfifosync.c ****    consumer (IN) endpoint.
  41:../cyfxslfifosync.c **** 
  42:../cyfxslfifosync.c ****    Upon every reception of data in the DMA buffer from the host or from the p-port, the
  43:../cyfxslfifosync.c ****    CPU is signalled using DMA callbacks. There are two DMA callback functions implemented
  44:../cyfxslfifosync.c ****    each for U to P and P to U data paths. The CPU then commits the DMA buffer received so
  45:../cyfxslfifosync.c ****    that the data is transferred to the consumer.
  46:../cyfxslfifosync.c **** 
  47:../cyfxslfifosync.c ****    The DMA buffer size for each channel is defined based on the USB speed. 64 for full
  48:../cyfxslfifosync.c ****    speed, 512 for high speed and 1024 for super speed. CY_FX_SLFIFO_DMA_BUF_COUNT in the
  49:../cyfxslfifosync.c ****    header file defines the number of DMA buffers per channel.
  50:../cyfxslfifosync.c **** 
  51:../cyfxslfifosync.c ****    The constant CY_FX_SLFIFO_GPIF_16_32BIT_CONF_SELECT in the header file is used to
  52:../cyfxslfifosync.c ****    select 16bit or 32bit GPIF data bus configuration.
  53:../cyfxslfifosync.c ****  */
  54:../cyfxslfifosync.c **** 
  55:../cyfxslfifosync.c **** #include "cyu3system.h"
  56:../cyfxslfifosync.c **** #include "cyu3os.h"
  57:../cyfxslfifosync.c **** #include "cyu3dma.h"
  58:../cyfxslfifosync.c **** #include "cyu3error.h"
  59:../cyfxslfifosync.c **** #include "cyu3usb.h"
  60:../cyfxslfifosync.c **** //#include "cyu3uart.h"
  61:../cyfxslfifosync.c **** #include "cyfxslfifosync.h"
  62:../cyfxslfifosync.c **** #include "cyu3gpif.h"
  63:../cyfxslfifosync.c **** #include "cyu3pib.h"
  64:../cyfxslfifosync.c **** #include "pib_regs.h"
  65:../cyfxslfifosync.c **** #include <cyu3gpio.h>
  66:../cyfxslfifosync.c **** 
  67:../cyfxslfifosync.c **** /* This file should be included only once as it contains
  68:../cyfxslfifosync.c ****  * structure definitions. Including it in multiple places
  69:../cyfxslfifosync.c ****  * can result in linker error. */
  70:../cyfxslfifosync.c **** //#include "cyfxgpif_syncsf.h"
  71:../cyfxslfifosync.c **** #include "cyfxgpif2config.h"
  72:../cyfxslfifosync.c **** 
  73:../cyfxslfifosync.c **** #include "cyu3gpio.h"
  74:../cyfxslfifosync.c **** #include "cyu3i2c.h"
  75:../cyfxslfifosync.c **** #include "cyu3spi.h"
  76:../cyfxslfifosync.c **** #include "LMS64C_protocol.h"
  77:../cyfxslfifosync.c **** #include "stream_brd.h"
  78:../cyfxslfifosync.c **** #include "spi_flash_lib.h"
  79:../cyfxslfifosync.c **** 
  80:../cyfxslfifosync.c **** #include <stdio.h>
  81:../cyfxslfifosync.c **** 
  82:../cyfxslfifosync.c **** //get info
  83:../cyfxslfifosync.c **** #define FW_VER				2
  84:../cyfxslfifosync.c **** 
  85:../cyfxslfifosync.c **** #define sbi(p,n) ((p) |= (1UL << (n)))
  86:../cyfxslfifosync.c **** #define cbi(p,n) ((p) &= ~(1 << (n)))
  87:../cyfxslfifosync.c **** 
  88:../cyfxslfifosync.c **** #define sadd16(a, b)  (uint16_t)( ((uint32_t)(a)+(uint32_t)(b)) > 0xffff ? 0xffff : ((a)+(b)))
  89:../cyfxslfifosync.c **** #define sadd32(a, b)  (uint32_t)( ((uint64_t)(a)+(uint64_t)(b)) > 0xffffffff ? 0xffffffff : ((a)+(b
  90:../cyfxslfifosync.c **** 
  91:../cyfxslfifosync.c **** #define TRUE			CyTrue
  92:../cyfxslfifosync.c **** #define FALSE			CyFalse
  93:../cyfxslfifosync.c **** 
  94:../cyfxslfifosync.c **** #define LED_WINK_PERIOD		18
  95:../cyfxslfifosync.c **** #define LED_BLINK1_PERIOD	20
  96:../cyfxslfifosync.c **** #define LED_BLINK2_PERIOD	10
  97:../cyfxslfifosync.c **** 
  98:../cyfxslfifosync.c **** 
  99:../cyfxslfifosync.c **** //BRD_SPI map
 100:../cyfxslfifosync.c **** 
 101:../cyfxslfifosync.c **** #define BRD_SPI_REG_SS_CTRL  0x12
 102:../cyfxslfifosync.c **** 
 103:../cyfxslfifosync.c **** #define TCXO_ADF_SS		0 //SS0
 104:../cyfxslfifosync.c **** #define TCXO_DAC_SS		1 //SS1
 105:../cyfxslfifosync.c **** #define POT1_SS			2 //SS1
 106:../cyfxslfifosync.c **** 
 107:../cyfxslfifosync.c **** #define BRD_SPI_REG_LMS1_LMS2_CTRL  0x13
 108:../cyfxslfifosync.c **** 
 109:../cyfxslfifosync.c **** #define LMS1_SS			0
 110:../cyfxslfifosync.c **** #define LMS1_RESET		1
 111:../cyfxslfifosync.c **** 
 112:../cyfxslfifosync.c **** #define LMS2_SS			8
 113:../cyfxslfifosync.c **** #define LMS2_RESET		9
 114:../cyfxslfifosync.c **** 
 115:../cyfxslfifosync.c **** //prototypes
 116:../cyfxslfifosync.c **** void Modify_BRDSPI16_Reg_bits (unsigned short int SPI_reg_addr, unsigned char MSB_bit, unsigned cha
 117:../cyfxslfifosync.c **** 
 118:../cyfxslfifosync.c **** enum {LED_MODE_OFF, LED_MODE_ON, LED_MODE_WINK, LED_MODE_BLINK1, LED_MODE_BLINK2};
 119:../cyfxslfifosync.c **** 
 120:../cyfxslfifosync.c **** uint8_t test, dac_val, block, cmd_errors, glEp0Buffer[64], glEp0Buffer_Rx[64], glEp0Buffer_Tx[64] _
 121:../cyfxslfifosync.c **** uint16_t wiper_pos[2];
 122:../cyfxslfifosync.c **** CyBool_t tx_id;
 123:../cyfxslfifosync.c **** 
 124:../cyfxslfifosync.c **** tLMS_Ctrl_Packet *LMS_Ctrl_Packet_Tx = (tLMS_Ctrl_Packet*)glEp0Buffer_Tx;
 125:../cyfxslfifosync.c **** tLMS_Ctrl_Packet *LMS_Ctrl_Packet_Rx = (tLMS_Ctrl_Packet*)glEp0Buffer_Rx;
 126:../cyfxslfifosync.c **** 
 127:../cyfxslfifosync.c **** long unsigned int flash_page = 0, flash_page_data_cnt = 0, flash_data_cnt_free = 0, flash_data_coun
 128:../cyfxslfifosync.c **** unsigned char flash_page_data[FLASH_PAGE_SIZE], FPGA_config_thread_runnning = 0, LED_mode[3] = {LED
 129:../cyfxslfifosync.c **** 
 130:../cyfxslfifosync.c **** //FPGA conf
 131:../cyfxslfifosync.c **** unsigned long int current_portion, fpga_data;
 132:../cyfxslfifosync.c **** unsigned char data_cnt;
 133:../cyfxslfifosync.c **** tBoard_Config_FPGA *Board_Config_FPGA = (tBoard_Config_FPGA*) flash_page_data;
 134:../cyfxslfifosync.c **** 
 135:../cyfxslfifosync.c **** //MYRIAD_FW
 136:../cyfxslfifosync.c **** unsigned char finish_flash_page;
 137:../cyfxslfifosync.c **** unsigned short flash_word, flash_byte;
 138:../cyfxslfifosync.c **** 
 139:../cyfxslfifosync.c **** uint16_t phy_err_cnt, lnk_err_cnt;
 140:../cyfxslfifosync.c **** uint32_t phy_err_cnt_total = 0, lnk_err_cnt_total = 0;
 141:../cyfxslfifosync.c **** 
 142:../cyfxslfifosync.c **** CyU3PThread slFifoAppThread;	        /* Slave FIFO application thread structure */
 143:../cyfxslfifosync.c **** CyU3PDmaChannel glChHandleSlFifoUtoP;   /* DMA Channel handle for U2P transfer. */
 144:../cyfxslfifosync.c **** CyU3PDmaChannel glChHandleSlFifoPtoU;   /* DMA Channel handle for P2U transfer. */
 145:../cyfxslfifosync.c **** 
 146:../cyfxslfifosync.c **** void *FPGA_config_thread_ptr = NULL;
 147:../cyfxslfifosync.c **** CyU3PThread FPGA_config_thread_st;	        /* Slave FIFO application thread structure */
 148:../cyfxslfifosync.c **** 
 149:../cyfxslfifosync.c **** uint32_t glDMARxCount = 0;               /* Counter to track the number of buffers received from US
 150:../cyfxslfifosync.c **** uint32_t glDMATxCount = 0;               /* Counter to track the number of buffers sent to USB. */
 151:../cyfxslfifosync.c **** CyBool_t glIsApplnActive = CyFalse;      /* Whether the loopback application is active or not. */
 152:../cyfxslfifosync.c **** uint8_t burstLength =0;
 153:../cyfxslfifosync.c **** 
 154:../cyfxslfifosync.c **** unsigned long int fpga_byte, config_size = 256, fpga_bitstream_size;;
 155:../cyfxslfifosync.c **** 
 156:../cyfxslfifosync.c **** extern CyU3PReturnStatus_t CyU3PUsbSetTxSwing (uint32_t swing);
 157:../cyfxslfifosync.c **** 
 158:../cyfxslfifosync.c **** #ifdef FPGA_PS_METHOD_GPIO //FPGA PS over GPIO
 159:../cyfxslfifosync.c **** void FPGA_PS_GPIO_Transmit (uint8_t *gateware, uint32_t data_cnt)
 160:../cyfxslfifosync.c **** {
 161:../cyfxslfifosync.c **** 	//set data
 162:../cyfxslfifosync.c **** 	uint8_t Byte, i;
 163:../cyfxslfifosync.c **** 	uint32_t byte_transmitted;
 164:../cyfxslfifosync.c **** 
 165:../cyfxslfifosync.c **** 	for (byte_transmitted = 0; byte_transmitted < data_cnt; byte_transmitted++)
 166:../cyfxslfifosync.c **** 	{
 167:../cyfxslfifosync.c **** 		Byte = *gateware;
 168:../cyfxslfifosync.c **** 
 169:../cyfxslfifosync.c **** 		for(i = 0; i < 8; i++) //MSB First
 170:../cyfxslfifosync.c **** 		{
 171:../cyfxslfifosync.c **** 			if((Byte >> i)&1)	//if current bit is 1
 172:../cyfxslfifosync.c **** 				CyU3PGpioSimpleSetValue  (FPGA_PS_DATA0, CyTrue); //Set Output High
 173:../cyfxslfifosync.c **** 			else
 174:../cyfxslfifosync.c **** 				CyU3PGpioSimpleSetValue  (FPGA_PS_DATA0, CyFalse); //Set Output Low
 175:../cyfxslfifosync.c **** 
 176:../cyfxslfifosync.c **** 			//generate clock
 177:../cyfxslfifosync.c **** 			CyU3PGpioSimpleSetValue  (FPGA_PS_DCLK, CyTrue); //set Clock high
 178:../cyfxslfifosync.c **** 			CyU3PGpioSimpleSetValue  (FPGA_PS_DCLK, CyFalse); //set Clock low
 179:../cyfxslfifosync.c **** 		}
 180:../cyfxslfifosync.c **** 
 181:../cyfxslfifosync.c **** 		gateware++;
 182:../cyfxslfifosync.c **** 	}
 183:../cyfxslfifosync.c **** }
 184:../cyfxslfifosync.c **** #endif
 185:../cyfxslfifosync.c **** 
 186:../cyfxslfifosync.c **** /**	Function to control LED mode. */
 187:../cyfxslfifosync.c **** void Set_LED_mode (unsigned char LED, unsigned char mode)
 188:../cyfxslfifosync.c **** {
 526              		.loc 1 188 0
 527              		.cfi_startproc
 528              		@ args = 0, pretend = 0, frame = 16
 529              		@ frame_needed = 1, uses_anonymous_args = 0
 530 0000 00482DE9 		stmfd	sp!, {fp, lr}
 531              	.LCFI0:
 532              		.cfi_def_cfa_offset 8
 533              		.cfi_offset 11, -8
 534              		.cfi_offset 14, -4
 535 0004 04B08DE2 		add	fp, sp, #4
 536              	.LCFI1:
 537              		.cfi_def_cfa 11, 4
 538 0008 10D04DE2 		sub	sp, sp, #16
 539 000c 0020A0E1 		mov	r2, r0
 540 0010 0130A0E1 		mov	r3, r1
 541 0014 0D204BE5 		strb	r2, [fp, #-13]
 542 0018 0E304BE5 		strb	r3, [fp, #-14]
 189:../cyfxslfifosync.c **** 	unsigned char LED_GPIO;
 190:../cyfxslfifosync.c **** 	LED_mode[LED] = mode;//save new LED mode
 543              		.loc 1 190 0
 544 001c 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 545 0020 B4209FE5 		ldr	r2, .L10
 546 0024 0E105BE5 		ldrb	r1, [fp, #-14]
 547 0028 0310C2E7 		strb	r1, [r2, r3]
 191:../cyfxslfifosync.c **** 
 192:../cyfxslfifosync.c **** 	switch(LED)
 548              		.loc 1 192 0
 549 002c 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 550 0030 010053E3 		cmp	r3, #1
 551 0034 0400000A 		beq	.L3
 552 0038 020053E3 		cmp	r3, #2
 553 003c 0500000A 		beq	.L4
 193:../cyfxslfifosync.c **** 	{
 194:../cyfxslfifosync.c **** 		default:
 195:../cyfxslfifosync.c **** 		case 0:
 196:../cyfxslfifosync.c **** 			LED_GPIO = FX3_LED0;
 554              		.loc 1 196 0
 555 0040 2130A0E3 		mov	r3, #33
 556 0044 05304BE5 		strb	r3, [fp, #-5]
 197:../cyfxslfifosync.c **** 			break;
 557              		.loc 1 197 0
 558 0048 050000EA 		b	.L5
 559              	.L3:
 198:../cyfxslfifosync.c **** 		case 1:
 199:../cyfxslfifosync.c **** 			LED_GPIO = FX3_LED1;
 560              		.loc 1 199 0
 561 004c 2230A0E3 		mov	r3, #34
 562 0050 05304BE5 		strb	r3, [fp, #-5]
 200:../cyfxslfifosync.c **** 			break;
 563              		.loc 1 200 0
 564 0054 020000EA 		b	.L5
 565              	.L4:
 201:../cyfxslfifosync.c **** 		case 2:
 202:../cyfxslfifosync.c **** 			LED_GPIO = FX3_LED2;
 566              		.loc 1 202 0
 567 0058 2330A0E3 		mov	r3, #35
 568 005c 05304BE5 		strb	r3, [fp, #-5]
 203:../cyfxslfifosync.c **** 			break;
 569              		.loc 1 203 0
 570 0060 0000A0E1 		mov	r0, r0	@ nop
 571              	.L5:
 204:../cyfxslfifosync.c **** 	}
 205:../cyfxslfifosync.c **** 
 206:../cyfxslfifosync.c **** 	switch (LED_mode[LED])
 572              		.loc 1 206 0
 573 0064 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 574 0068 6C209FE5 		ldr	r2, .L10
 575 006c 0330D2E7 		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 576 0070 010053E3 		cmp	r3, #1
 577 0074 0800000A 		beq	.L7
 578 0078 020053E3 		cmp	r3, #2
 579 007c 0B00000A 		beq	.L8
 580 0080 000053E3 		cmp	r3, #0
 581 0084 1200001A 		bne	.L1
 207:../cyfxslfifosync.c **** 	{
 208:../cyfxslfifosync.c **** 		case LED_MODE_OFF:
 209:../cyfxslfifosync.c **** 			CyU3PGpioSimpleSetValue (LED_GPIO, CyFalse); //turn off led
 582              		.loc 1 209 0
 583 0088 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 584 008c 0300A0E1 		mov	r0, r3
 585 0090 0010A0E3 		mov	r1, #0
 586 0094 FEFFFFEB 		bl	CyU3PGpioSimpleSetValue
 210:../cyfxslfifosync.c **** 			break;
 587              		.loc 1 210 0
 588 0098 0D0000EA 		b	.L1
 589              	.L7:
 211:../cyfxslfifosync.c **** 
 212:../cyfxslfifosync.c **** 		case LED_MODE_ON:
 213:../cyfxslfifosync.c **** 			CyU3PGpioSimpleSetValue (LED_GPIO, CyTrue); //turn on led
 590              		.loc 1 213 0
 591 009c 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 592 00a0 0300A0E1 		mov	r0, r3
 593 00a4 0110A0E3 		mov	r1, #1
 594 00a8 FEFFFFEB 		bl	CyU3PGpioSimpleSetValue
 214:../cyfxslfifosync.c **** 			break;
 595              		.loc 1 214 0
 596 00ac 080000EA 		b	.L1
 597              	.L8:
 215:../cyfxslfifosync.c **** 
 216:../cyfxslfifosync.c **** 		case LED_MODE_WINK:
 217:../cyfxslfifosync.c **** 			CyU3PGpioSimpleSetValue (LED_GPIO, CyTrue); //turn on led
 598              		.loc 1 217 0
 599 00b0 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 600 00b4 0300A0E1 		mov	r0, r3
 601 00b8 0110A0E3 		mov	r1, #1
 602 00bc FEFFFFEB 		bl	CyU3PGpioSimpleSetValue
 218:../cyfxslfifosync.c **** 			LED_timeout[LED] = LED_WINK_PERIOD; //set LED timeout
 603              		.loc 1 218 0
 604 00c0 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 605 00c4 14209FE5 		ldr	r2, .L10+4
 606 00c8 1210A0E3 		mov	r1, #18
 607 00cc 0310C2E7 		strb	r1, [r2, r3]
 219:../cyfxslfifosync.c **** 			break;
 608              		.loc 1 219 0
 609 00d0 0000A0E1 		mov	r0, r0	@ nop
 610              	.L1:
 220:../cyfxslfifosync.c **** 	}
 221:../cyfxslfifosync.c **** }
 611              		.loc 1 221 0
 612 00d4 04D04BE2 		sub	sp, fp, #4
 613              		@ sp needed
 614 00d8 0088BDE8 		ldmfd	sp!, {fp, pc}
 615              	.L11:
 616              		.align	2
 617              	.L10:
 618 00dc 00000000 		.word	LED_mode
 619 00e0 00000000 		.word	LED_timeout
 620              		.cfi_endproc
 621              	.LFE0:
 623              		.global	__aeabi_uidiv
 624              		.align	2
 625              		.global	Check_many_blocks
 627              	Check_many_blocks:
 628              	.LFB1:
 222:../cyfxslfifosync.c **** 
 223:../cyfxslfifosync.c **** /* unsigned char Configure_FPGA (unsigned char *gateware, unsigned long int current_portion, unsign
 224:../cyfxslfifosync.c ****  *
 225:../cyfxslfifosync.c ****  * Function for configuring Altera FPGA (Cyclone).
 226:../cyfxslfifosync.c ****  *
 227:../cyfxslfifosync.c ****  * Parameters:
 228:../cyfxslfifosync.c ****  *
 229:../cyfxslfifosync.c ****  * unsigned char *gateware: pointer to FPGA configuration data (RBF file content)
 230:../cyfxslfifosync.c ****  * unsigned long int current_portion: indicates configuring sequence. Configuring must begin with c
 231:../cyfxslfifosync.c ****  * unsigned int data_cnt: indicates how many data to configure in current cycle. data_cnt = 0 indic
 232:../cyfxslfifosync.c ****  *
 233:../cyfxslfifosync.c ****  * Returns TRUE if no problems occurred.
 234:../cyfxslfifosync.c ****  *
 235:../cyfxslfifosync.c ****  */
 236:../cyfxslfifosync.c **** 
 237:../cyfxslfifosync.c **** /**	This function checks if all blocks could fit in data field.
 238:../cyfxslfifosync.c **** *	If blocks will not fit, function returns TRUE. */
 239:../cyfxslfifosync.c **** unsigned char Check_many_blocks (unsigned char block_size)
 240:../cyfxslfifosync.c **** {
 629              		.loc 1 240 0
 630              		.cfi_startproc
 631              		@ args = 0, pretend = 0, frame = 8
 632              		@ frame_needed = 1, uses_anonymous_args = 0
 633 00e4 10482DE9 		stmfd	sp!, {r4, fp, lr}
 634              	.LCFI2:
 635              		.cfi_def_cfa_offset 12
 636              		.cfi_offset 4, -12
 637              		.cfi_offset 11, -8
 638              		.cfi_offset 14, -4
 639 00e8 08B08DE2 		add	fp, sp, #8
 640              	.LCFI3:
 641              		.cfi_def_cfa 11, 4
 642 00ec 0CD04DE2 		sub	sp, sp, #12
 643 00f0 0030A0E1 		mov	r3, r0
 644 00f4 0D304BE5 		strb	r3, [fp, #-13]
 241:../cyfxslfifosync.c **** 	if (LMS_Ctrl_Packet_Rx->Header.Data_blocks > (sizeof(LMS_Ctrl_Packet_Tx->Data_field)/block_size))
 645              		.loc 1 241 0
 646 00f8 4C309FE5 		ldr	r3, .L15
 647 00fc 003093E5 		ldr	r3, [r3]
 648 0100 0240D3E5 		ldrb	r4, [r3, #2]	@ zero_extendqisi2
 649 0104 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 650 0108 3800A0E3 		mov	r0, #56
 651 010c 0310A0E1 		mov	r1, r3
 652 0110 FEFFFFEB 		bl	__aeabi_uidiv
 653 0114 0030A0E1 		mov	r3, r0
 654 0118 FF3003E2 		and	r3, r3, #255
 655 011c 030054E1 		cmp	r4, r3
 656 0120 0500009A 		bls	.L13
 242:../cyfxslfifosync.c **** 	{
 243:../cyfxslfifosync.c **** 		LMS_Ctrl_Packet_Tx->Header.Status = STATUS_BLOCKS_ERROR_CMD;
 657              		.loc 1 243 0
 658 0124 24309FE5 		ldr	r3, .L15+4
 659 0128 003093E5 		ldr	r3, [r3]
 660 012c 0420A0E3 		mov	r2, #4
 661 0130 0120C3E5 		strb	r2, [r3, #1]
 244:../cyfxslfifosync.c **** 		return TRUE;
 662              		.loc 1 244 0
 663 0134 0130A0E3 		mov	r3, #1
 664 0138 000000EA 		b	.L14
 665              	.L13:
 245:../cyfxslfifosync.c **** 	}
 246:../cyfxslfifosync.c **** 	else return FALSE;
 666              		.loc 1 246 0
 667 013c 0030A0E3 		mov	r3, #0
 668              	.L14:
 247:../cyfxslfifosync.c **** 	return FALSE;
 248:../cyfxslfifosync.c **** }
 669              		.loc 1 248 0
 670 0140 0300A0E1 		mov	r0, r3
 671 0144 08D04BE2 		sub	sp, fp, #8
 672              		@ sp needed
 673 0148 1088BDE8 		ldmfd	sp!, {r4, fp, pc}
 674              	.L16:
 675              		.align	2
 676              	.L15:
 677 014c 00000000 		.word	LMS_Ctrl_Packet_Rx
 678 0150 00000000 		.word	LMS_Ctrl_Packet_Tx
 679              		.cfi_endproc
 680              	.LFE1:
 682              		.align	2
 683              		.global	Check_Periph_ID
 685              	Check_Periph_ID:
 686              	.LFB2:
 249:../cyfxslfifosync.c **** 
 250:../cyfxslfifosync.c **** /** Cchecks if peripheral ID is valid.
 251:../cyfxslfifosync.c ****  Returns 1 if valid, else 0. */
 252:../cyfxslfifosync.c **** unsigned char Check_Periph_ID (unsigned char max_periph_id, unsigned char Periph_ID)
 253:../cyfxslfifosync.c **** {
 687              		.loc 1 253 0
 688              		.cfi_startproc
 689              		@ args = 0, pretend = 0, frame = 8
 690              		@ frame_needed = 1, uses_anonymous_args = 0
 691              		@ link register save eliminated.
 692 0154 04B02DE5 		str	fp, [sp, #-4]!
 693              	.LCFI4:
 694              		.cfi_def_cfa_offset 4
 695              		.cfi_offset 11, -4
 696 0158 00B08DE2 		add	fp, sp, #0
 697              	.LCFI5:
 698              		.cfi_def_cfa_register 11
 699 015c 0CD04DE2 		sub	sp, sp, #12
 700 0160 0020A0E1 		mov	r2, r0
 701 0164 0130A0E1 		mov	r3, r1
 702 0168 05204BE5 		strb	r2, [fp, #-5]
 703 016c 06304BE5 		strb	r3, [fp, #-6]
 254:../cyfxslfifosync.c **** 		if (LMS_Ctrl_Packet_Rx->Header.Periph_ID > max_periph_id)
 704              		.loc 1 254 0
 705 0170 3C309FE5 		ldr	r3, .L20
 706 0174 003093E5 		ldr	r3, [r3]
 707 0178 0330D3E5 		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 708 017c 05205BE5 		ldrb	r2, [fp, #-5]	@ zero_extendqisi2
 709 0180 030052E1 		cmp	r2, r3
 710 0184 0500002A 		bcs	.L18
 255:../cyfxslfifosync.c **** 		{
 256:../cyfxslfifosync.c **** 		LMS_Ctrl_Packet_Tx->Header.Status = STATUS_INVALID_PERIPH_ID_CMD;
 711              		.loc 1 256 0
 712 0188 28309FE5 		ldr	r3, .L20+4
 713 018c 003093E5 		ldr	r3, [r3]
 714 0190 0820A0E3 		mov	r2, #8
 715 0194 0120C3E5 		strb	r2, [r3, #1]
 257:../cyfxslfifosync.c **** 		return FALSE;
 716              		.loc 1 257 0
 717 0198 0030A0E3 		mov	r3, #0
 718 019c 000000EA 		b	.L19
 719              	.L18:
 258:../cyfxslfifosync.c **** 		}
 259:../cyfxslfifosync.c **** 	else return TRUE;
 720              		.loc 1 259 0
 721 01a0 0130A0E3 		mov	r3, #1
 722              	.L19:
 260:../cyfxslfifosync.c **** }
 723              		.loc 1 260 0
 724 01a4 0300A0E1 		mov	r0, r3
 725 01a8 00D04BE2 		sub	sp, fp, #0
 726              		@ sp needed
 727 01ac 04B09DE4 		ldr	fp, [sp], #4
 728 01b0 1EFF2FE1 		bx	lr
 729              	.L21:
 730              		.align	2
 731              	.L20:
 732 01b4 00000000 		.word	LMS_Ctrl_Packet_Rx
 733 01b8 00000000 		.word	LMS_Ctrl_Packet_Tx
 734              		.cfi_endproc
 735              	.LFE2:
 737              		.align	2
 738              		.global	Configure_LM75
 740              	Configure_LM75:
 741              	.LFB3:
 261:../cyfxslfifosync.c **** 
 262:../cyfxslfifosync.c **** /**
 263:../cyfxslfifosync.c ****  *	@brief Function to configure LM75 temperature sensor (OS polarity, THYST, TOS)
 264:../cyfxslfifosync.c ****  */
 265:../cyfxslfifosync.c **** void Configure_LM75 (void)
 266:../cyfxslfifosync.c **** {
 742              		.loc 1 266 0
 743              		.cfi_startproc
 744              		@ args = 0, pretend = 0, frame = 16
 745              		@ frame_needed = 1, uses_anonymous_args = 0
 746 01bc 00482DE9 		stmfd	sp!, {fp, lr}
 747              	.LCFI6:
 748              		.cfi_def_cfa_offset 8
 749              		.cfi_offset 11, -8
 750              		.cfi_offset 14, -4
 751 01c0 04B08DE2 		add	fp, sp, #4
 752              	.LCFI7:
 753              		.cfi_def_cfa 11, 4
 754 01c4 10D04DE2 		sub	sp, sp, #16
 267:../cyfxslfifosync.c ****     uint8_t   I2C_Addr, LM75_data[2];
 268:../cyfxslfifosync.c **** 	CyU3PI2cPreamble_t preamble;
 269:../cyfxslfifosync.c **** 
 270:../cyfxslfifosync.c **** 	//configure LM75
 271:../cyfxslfifosync.c **** 
 272:../cyfxslfifosync.c **** 	I2C_Addr = LM75_I2C_ADDR;
 755              		.loc 1 272 0
 756 01c8 6F30E0E3 		mvn	r3, #111
 757 01cc 05304BE5 		strb	r3, [fp, #-5]
 273:../cyfxslfifosync.c **** 
 274:../cyfxslfifosync.c **** 	//write byte
 275:../cyfxslfifosync.c **** 	preamble.length = 2;
 758              		.loc 1 275 0
 759 01d0 0230A0E3 		mov	r3, #2
 760 01d4 0C304BE5 		strb	r3, [fp, #-12]
 276:../cyfxslfifosync.c **** 	preamble.buffer[0] = I2C_Addr;
 761              		.loc 1 276 0
 762 01d8 05305BE5 		ldrb	r3, [fp, #-5]
 763 01dc 14304BE5 		strb	r3, [fp, #-20]
 277:../cyfxslfifosync.c **** 	preamble.buffer[1] = 0x01; //Configuration addr
 764              		.loc 1 277 0
 765 01e0 0130A0E3 		mov	r3, #1
 766 01e4 13304BE5 		strb	r3, [fp, #-19]
 278:../cyfxslfifosync.c **** 	preamble.ctrlMask  = 0x0000;
 767              		.loc 1 278 0
 768 01e8 0030A0E3 		mov	r3, #0
 769 01ec BA304BE1 		strh	r3, [fp, #-10]	@ movhi
 279:../cyfxslfifosync.c **** 
 280:../cyfxslfifosync.c **** 	LM75_data[0] = 0x04;//Configuration = OS polarity = 1, Comparator/int = 0, Shutdown = 0
 770              		.loc 1 280 0
 771 01f0 0430A0E3 		mov	r3, #4
 772 01f4 08304BE5 		strb	r3, [fp, #-8]
 281:../cyfxslfifosync.c **** 
 282:../cyfxslfifosync.c **** 	if( CyU3PI2cTransmitBytes (&preamble, &LM75_data[0], 1, 0)  != CY_U3P_SUCCESS)  cmd_errors++;
 773              		.loc 1 282 0
 774 01f8 14204BE2 		sub	r2, fp, #20
 775 01fc 08304BE2 		sub	r3, fp, #8
 776 0200 0200A0E1 		mov	r0, r2
 777 0204 0310A0E1 		mov	r1, r3
 778 0208 0120A0E3 		mov	r2, #1
 779 020c 0030A0E3 		mov	r3, #0
 780 0210 FEFFFFEB 		bl	CyU3PI2cTransmitBytes
 781 0214 0030A0E1 		mov	r3, r0
 782 0218 000053E3 		cmp	r3, #0
 783 021c 0500000A 		beq	.L23
 784              		.loc 1 282 0 is_stmt 0 discriminator 1
 785 0220 F8309FE5 		ldr	r3, .L26
 786 0224 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 787 0228 013083E2 		add	r3, r3, #1
 788 022c FF2003E2 		and	r2, r3, #255
 789 0230 E8309FE5 		ldr	r3, .L26
 790 0234 0020C3E5 		strb	r2, [r3]
 791              	.L23:
 283:../cyfxslfifosync.c **** 
 284:../cyfxslfifosync.c **** 	//write byte
 285:../cyfxslfifosync.c **** 	preamble.length = 2;
 792              		.loc 1 285 0 is_stmt 1
 793 0238 0230A0E3 		mov	r3, #2
 794 023c 0C304BE5 		strb	r3, [fp, #-12]
 286:../cyfxslfifosync.c **** 	preamble.buffer[0] = I2C_Addr;
 795              		.loc 1 286 0
 796 0240 05305BE5 		ldrb	r3, [fp, #-5]
 797 0244 14304BE5 		strb	r3, [fp, #-20]
 287:../cyfxslfifosync.c **** 	preamble.buffer[1] = 0x02; //THYST addr
 798              		.loc 1 287 0
 799 0248 0230A0E3 		mov	r3, #2
 800 024c 13304BE5 		strb	r3, [fp, #-19]
 288:../cyfxslfifosync.c **** 	preamble.ctrlMask  = 0x0000;
 801              		.loc 1 288 0
 802 0250 0030A0E3 		mov	r3, #0
 803 0254 BA304BE1 		strh	r3, [fp, #-10]	@ movhi
 289:../cyfxslfifosync.c **** 
 290:../cyfxslfifosync.c **** 	LM75_data[0] = 45;//THYST H
 804              		.loc 1 290 0
 805 0258 2D30A0E3 		mov	r3, #45
 806 025c 08304BE5 		strb	r3, [fp, #-8]
 291:../cyfxslfifosync.c **** 	LM75_data[1] = 0;//THYST L
 807              		.loc 1 291 0
 808 0260 0030A0E3 		mov	r3, #0
 809 0264 07304BE5 		strb	r3, [fp, #-7]
 292:../cyfxslfifosync.c **** 
 293:../cyfxslfifosync.c **** 	if( CyU3PI2cTransmitBytes (&preamble, &LM75_data[0], 2, 0)  != CY_U3P_SUCCESS)  cmd_errors++;
 810              		.loc 1 293 0
 811 0268 14204BE2 		sub	r2, fp, #20
 812 026c 08304BE2 		sub	r3, fp, #8
 813 0270 0200A0E1 		mov	r0, r2
 814 0274 0310A0E1 		mov	r1, r3
 815 0278 0220A0E3 		mov	r2, #2
 816 027c 0030A0E3 		mov	r3, #0
 817 0280 FEFFFFEB 		bl	CyU3PI2cTransmitBytes
 818 0284 0030A0E1 		mov	r3, r0
 819 0288 000053E3 		cmp	r3, #0
 820 028c 0500000A 		beq	.L24
 821              		.loc 1 293 0 is_stmt 0 discriminator 1
 822 0290 88309FE5 		ldr	r3, .L26
 823 0294 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 824 0298 013083E2 		add	r3, r3, #1
 825 029c FF2003E2 		and	r2, r3, #255
 826 02a0 78309FE5 		ldr	r3, .L26
 827 02a4 0020C3E5 		strb	r2, [r3]
 828              	.L24:
 294:../cyfxslfifosync.c **** 
 295:../cyfxslfifosync.c **** 	//write byte
 296:../cyfxslfifosync.c **** 	preamble.length = 2;
 829              		.loc 1 296 0 is_stmt 1
 830 02a8 0230A0E3 		mov	r3, #2
 831 02ac 0C304BE5 		strb	r3, [fp, #-12]
 297:../cyfxslfifosync.c **** 	preamble.buffer[0] = I2C_Addr;
 832              		.loc 1 297 0
 833 02b0 05305BE5 		ldrb	r3, [fp, #-5]
 834 02b4 14304BE5 		strb	r3, [fp, #-20]
 298:../cyfxslfifosync.c **** 	preamble.buffer[1] = 0x03; //TOS addr
 835              		.loc 1 298 0
 836 02b8 0330A0E3 		mov	r3, #3
 837 02bc 13304BE5 		strb	r3, [fp, #-19]
 299:../cyfxslfifosync.c **** 	preamble.ctrlMask  = 0x0000;
 838              		.loc 1 299 0
 839 02c0 0030A0E3 		mov	r3, #0
 840 02c4 BA304BE1 		strh	r3, [fp, #-10]	@ movhi
 300:../cyfxslfifosync.c **** 
 301:../cyfxslfifosync.c **** 	LM75_data[0] = 55;//TOS H
 841              		.loc 1 301 0
 842 02c8 3730A0E3 		mov	r3, #55
 843 02cc 08304BE5 		strb	r3, [fp, #-8]
 302:../cyfxslfifosync.c **** 	LM75_data[1] = 0;//TOS L
 844              		.loc 1 302 0
 845 02d0 0030A0E3 		mov	r3, #0
 846 02d4 07304BE5 		strb	r3, [fp, #-7]
 303:../cyfxslfifosync.c **** 
 304:../cyfxslfifosync.c **** 	if( CyU3PI2cTransmitBytes (&preamble, &LM75_data[0], 2, 0)  != CY_U3P_SUCCESS)  cmd_errors++;
 847              		.loc 1 304 0
 848 02d8 14204BE2 		sub	r2, fp, #20
 849 02dc 08304BE2 		sub	r3, fp, #8
 850 02e0 0200A0E1 		mov	r0, r2
 851 02e4 0310A0E1 		mov	r1, r3
 852 02e8 0220A0E3 		mov	r2, #2
 853 02ec 0030A0E3 		mov	r3, #0
 854 02f0 FEFFFFEB 		bl	CyU3PI2cTransmitBytes
 855 02f4 0030A0E1 		mov	r3, r0
 856 02f8 000053E3 		cmp	r3, #0
 857 02fc 0500000A 		beq	.L22
 858              		.loc 1 304 0 is_stmt 0 discriminator 1
 859 0300 18309FE5 		ldr	r3, .L26
 860 0304 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 861 0308 013083E2 		add	r3, r3, #1
 862 030c FF2003E2 		and	r2, r3, #255
 863 0310 08309FE5 		ldr	r3, .L26
 864 0314 0020C3E5 		strb	r2, [r3]
 865              	.L22:
 305:../cyfxslfifosync.c **** }
 866              		.loc 1 305 0 is_stmt 1
 867 0318 04D04BE2 		sub	sp, fp, #4
 868              		@ sp needed
 869 031c 0088BDE8 		ldmfd	sp!, {fp, pc}
 870              	.L27:
 871              		.align	2
 872              	.L26:
 873 0320 00000000 		.word	cmd_errors
 874              		.cfi_endproc
 875              	.LFE3:
 877              		.align	2
 878              		.global	Control_TCXO_DAC
 880              	Control_TCXO_DAC:
 881              	.LFB4:
 306:../cyfxslfifosync.c **** 
 307:../cyfxslfifosync.c **** /**
 308:../cyfxslfifosync.c ****  *	@brief Function to control DAC for TCXO frequency control
 309:../cyfxslfifosync.c ****  *	@param oe output enable control: 0 - output disabled, 1 - output enabled
 310:../cyfxslfifosync.c ****  *	@param data pointer to DAC value (1 byte)
 311:../cyfxslfifosync.c ****  */
 312:../cyfxslfifosync.c **** void Control_TCXO_DAC (unsigned char oe, unsigned char *data) //control DAC (AD5601)
 313:../cyfxslfifosync.c **** {
 882              		.loc 1 313 0
 883              		.cfi_startproc
 884              		@ args = 0, pretend = 0, frame = 16
 885              		@ frame_needed = 1, uses_anonymous_args = 0
 886 0324 00482DE9 		stmfd	sp!, {fp, lr}
 887              	.LCFI8:
 888              		.cfi_def_cfa_offset 8
 889              		.cfi_offset 11, -8
 890              		.cfi_offset 14, -4
 891 0328 04B08DE2 		add	fp, sp, #4
 892              	.LCFI9:
 893              		.cfi_def_cfa 11, 4
 894 032c 10D04DE2 		sub	sp, sp, #16
 895 0330 0030A0E1 		mov	r3, r0
 896 0334 14100BE5 		str	r1, [fp, #-20]
 897 0338 0D304BE5 		strb	r3, [fp, #-13]
 314:../cyfxslfifosync.c **** 	unsigned char DAC_data[2];
 315:../cyfxslfifosync.c **** 
 316:../cyfxslfifosync.c **** 	Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, TCXO_DAC_SS, TCXO_DAC_SS, 0); //select
 898              		.loc 1 316 0
 899 033c 1200A0E3 		mov	r0, #18
 900 0340 0110A0E3 		mov	r1, #1
 901 0344 0120A0E3 		mov	r2, #1
 902 0348 0030A0E3 		mov	r3, #0
 903 034c FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 317:../cyfxslfifosync.c **** 
 318:../cyfxslfifosync.c **** 	if (oe == 0) //set DAC out to three-state
 904              		.loc 1 318 0
 905 0350 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 906 0354 000053E3 		cmp	r3, #0
 907 0358 0900001A 		bne	.L29
 908              	.LBB2:
 319:../cyfxslfifosync.c **** 	{
 320:../cyfxslfifosync.c **** 		DAC_data[0] = 0xC0; //POWER-DOWN MODE = THREE-STATE (MSB bits = 11) + MSB data
 909              		.loc 1 320 0
 910 035c 3F30E0E3 		mvn	r3, #63
 911 0360 08304BE5 		strb	r3, [fp, #-8]
 321:../cyfxslfifosync.c **** 		DAC_data[1] = 0x00; //LSB data
 912              		.loc 1 321 0
 913 0364 0030A0E3 		mov	r3, #0
 914 0368 07304BE5 		strb	r3, [fp, #-7]
 322:../cyfxslfifosync.c **** 
 323:../cyfxslfifosync.c **** 		Reconfigure_SPI_for_AD5601 ();
 915              		.loc 1 323 0
 916 036c FEFFFFEB 		bl	Reconfigure_SPI_for_AD5601
 324:../cyfxslfifosync.c **** 		CyU3PSpiTransmitWords (&DAC_data[0], 2);
 917              		.loc 1 324 0
 918 0370 08304BE2 		sub	r3, fp, #8
 919 0374 0300A0E1 		mov	r0, r3
 920 0378 0210A0E3 		mov	r1, #2
 921 037c FEFFFFEB 		bl	CyU3PSpiTransmitWords
 922              	.LBE2:
 923 0380 0E0000EA 		b	.L30
 924              	.L29:
 925              	.LBB3:
 325:../cyfxslfifosync.c **** 	}
 326:../cyfxslfifosync.c **** 	else //enable DAC output, set new val
 327:../cyfxslfifosync.c **** 	{
 328:../cyfxslfifosync.c **** 		DAC_data[0] = (*data) >>2; //POWER-DOWN MODE = NORMAL OPERATION (MSB bits =00) + MSB data
 926              		.loc 1 328 0
 927 0384 14301BE5 		ldr	r3, [fp, #-20]
 928 0388 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 929 038c 2331A0E1 		mov	r3, r3, lsr #2
 930 0390 FF3003E2 		and	r3, r3, #255
 931 0394 08304BE5 		strb	r3, [fp, #-8]
 329:../cyfxslfifosync.c **** 		DAC_data[1] = (*data) <<6; //LSB data
 932              		.loc 1 329 0
 933 0398 14301BE5 		ldr	r3, [fp, #-20]
 934 039c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 935 03a0 0333A0E1 		mov	r3, r3, asl #6
 936 03a4 FF3003E2 		and	r3, r3, #255
 937 03a8 07304BE5 		strb	r3, [fp, #-7]
 330:../cyfxslfifosync.c **** 
 331:../cyfxslfifosync.c **** 		Reconfigure_SPI_for_AD5601 ();
 938              		.loc 1 331 0
 939 03ac FEFFFFEB 		bl	Reconfigure_SPI_for_AD5601
 332:../cyfxslfifosync.c **** 		CyU3PSpiTransmitWords (&DAC_data[0], 2);
 940              		.loc 1 332 0
 941 03b0 08304BE2 		sub	r3, fp, #8
 942 03b4 0300A0E1 		mov	r0, r3
 943 03b8 0210A0E3 		mov	r1, #2
 944 03bc FEFFFFEB 		bl	CyU3PSpiTransmitWords
 945              	.L30:
 946              	.LBE3:
 333:../cyfxslfifosync.c **** 	}
 334:../cyfxslfifosync.c **** 
 335:../cyfxslfifosync.c **** 	Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, TCXO_DAC_SS, TCXO_DAC_SS, 1); //deselect
 947              		.loc 1 335 0
 948 03c0 1200A0E3 		mov	r0, #18
 949 03c4 0110A0E3 		mov	r1, #1
 950 03c8 0120A0E3 		mov	r2, #1
 951 03cc 0130A0E3 		mov	r3, #1
 952 03d0 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 336:../cyfxslfifosync.c **** }
 953              		.loc 1 336 0
 954 03d4 04D04BE2 		sub	sp, fp, #4
 955              		@ sp needed
 956 03d8 0088BDE8 		ldmfd	sp!, {fp, pc}
 957              		.cfi_endproc
 958              	.LFE4:
 960              		.align	2
 961              		.global	Control_TCXO_ADF
 963              	Control_TCXO_ADF:
 964              	.LFB5:
 337:../cyfxslfifosync.c **** 
 338:../cyfxslfifosync.c **** /**
 339:../cyfxslfifosync.c ****  *	@brief Function to control ADF for TCXO frequency control
 340:../cyfxslfifosync.c ****  *	@param oe output enable control: 0 - output disabled, 1 - output enabled
 341:../cyfxslfifosync.c ****  *	@param data pointer to ADF data block (3 bytes)
 342:../cyfxslfifosync.c ****  */
 343:../cyfxslfifosync.c **** void Control_TCXO_ADF (unsigned char oe, unsigned char *data) //control ADF4002
 344:../cyfxslfifosync.c **** {
 965              		.loc 1 344 0
 966              		.cfi_startproc
 967              		@ args = 0, pretend = 0, frame = 16
 968              		@ frame_needed = 1, uses_anonymous_args = 0
 969 03dc 00482DE9 		stmfd	sp!, {fp, lr}
 970              	.LCFI10:
 971              		.cfi_def_cfa_offset 8
 972              		.cfi_offset 11, -8
 973              		.cfi_offset 14, -4
 974 03e0 04B08DE2 		add	fp, sp, #4
 975              	.LCFI11:
 976              		.cfi_def_cfa 11, 4
 977 03e4 10D04DE2 		sub	sp, sp, #16
 978 03e8 0030A0E1 		mov	r3, r0
 979 03ec 14100BE5 		str	r1, [fp, #-20]
 980 03f0 0D304BE5 		strb	r3, [fp, #-13]
 345:../cyfxslfifosync.c **** 	unsigned char ADF_data[3];
 346:../cyfxslfifosync.c **** 
 347:../cyfxslfifosync.c **** 	if (oe == 0) //set ADF4002 CP to three-state and MUX_OUT to DGND
 981              		.loc 1 347 0
 982 03f4 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 983 03f8 000053E3 		cmp	r3, #0
 984 03fc 5100001A 		bne	.L32
 985              	.LBB4:
 348:../cyfxslfifosync.c **** 	{
 349:../cyfxslfifosync.c **** 		Reconfigure_SPI_for_LMS();
 986              		.loc 1 349 0
 987 0400 FEFFFFEB 		bl	Reconfigure_SPI_for_LMS
 350:../cyfxslfifosync.c **** 
 351:../cyfxslfifosync.c **** 		ADF_data[0] = 0x1f;
 988              		.loc 1 351 0
 989 0404 1F30A0E3 		mov	r3, #31
 990 0408 08304BE5 		strb	r3, [fp, #-8]
 352:../cyfxslfifosync.c **** 		ADF_data[1] = 0x81;
 991              		.loc 1 352 0
 992 040c 7E30E0E3 		mvn	r3, #126
 993 0410 07304BE5 		strb	r3, [fp, #-7]
 353:../cyfxslfifosync.c **** 		ADF_data[2] = 0xf3;
 994              		.loc 1 353 0
 995 0414 0C30E0E3 		mvn	r3, #12
 996 0418 06304BE5 		strb	r3, [fp, #-6]
 354:../cyfxslfifosync.c **** 
 355:../cyfxslfifosync.c **** 		Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, TCXO_ADF_SS, TCXO_ADF_SS, 0); //Enable ADF's SPI
 997              		.loc 1 355 0
 998 041c 1200A0E3 		mov	r0, #18
 999 0420 0010A0E3 		mov	r1, #0
 1000 0424 0020A0E3 		mov	r2, #0
 1001 0428 0030A0E3 		mov	r3, #0
 1002 042c FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 356:../cyfxslfifosync.c **** 		CyU3PSpiTransmitWords (&ADF_data[0], 3);
 1003              		.loc 1 356 0
 1004 0430 08304BE2 		sub	r3, fp, #8
 1005 0434 0300A0E1 		mov	r0, r3
 1006 0438 0310A0E3 		mov	r1, #3
 1007 043c FEFFFFEB 		bl	CyU3PSpiTransmitWords
 357:../cyfxslfifosync.c **** 		Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, TCXO_ADF_SS, TCXO_ADF_SS, 1); //Disable ADF's SPI
 1008              		.loc 1 357 0
 1009 0440 1200A0E3 		mov	r0, #18
 1010 0444 0010A0E3 		mov	r1, #0
 1011 0448 0020A0E3 		mov	r2, #0
 1012 044c 0130A0E3 		mov	r3, #1
 1013 0450 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 358:../cyfxslfifosync.c **** 
 359:../cyfxslfifosync.c **** 		ADF_data[0] = 0x1f;
 1014              		.loc 1 359 0
 1015 0454 1F30A0E3 		mov	r3, #31
 1016 0458 08304BE5 		strb	r3, [fp, #-8]
 360:../cyfxslfifosync.c **** 		ADF_data[1] = 0x81;
 1017              		.loc 1 360 0
 1018 045c 7E30E0E3 		mvn	r3, #126
 1019 0460 07304BE5 		strb	r3, [fp, #-7]
 361:../cyfxslfifosync.c **** 		ADF_data[2] = 0xf2;
 1020              		.loc 1 361 0
 1021 0464 0D30E0E3 		mvn	r3, #13
 1022 0468 06304BE5 		strb	r3, [fp, #-6]
 362:../cyfxslfifosync.c **** 
 363:../cyfxslfifosync.c **** 		Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, TCXO_ADF_SS, TCXO_ADF_SS, 0); //Enable ADF's SPI
 1023              		.loc 1 363 0
 1024 046c 1200A0E3 		mov	r0, #18
 1025 0470 0010A0E3 		mov	r1, #0
 1026 0474 0020A0E3 		mov	r2, #0
 1027 0478 0030A0E3 		mov	r3, #0
 1028 047c FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 364:../cyfxslfifosync.c **** 		CyU3PSpiTransmitWords (&ADF_data[0], 3);
 1029              		.loc 1 364 0
 1030 0480 08304BE2 		sub	r3, fp, #8
 1031 0484 0300A0E1 		mov	r0, r3
 1032 0488 0310A0E3 		mov	r1, #3
 1033 048c FEFFFFEB 		bl	CyU3PSpiTransmitWords
 365:../cyfxslfifosync.c **** 		Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, TCXO_ADF_SS, TCXO_ADF_SS, 1); //Disable ADF's SPI
 1034              		.loc 1 365 0
 1035 0490 1200A0E3 		mov	r0, #18
 1036 0494 0010A0E3 		mov	r1, #0
 1037 0498 0020A0E3 		mov	r2, #0
 1038 049c 0130A0E3 		mov	r3, #1
 1039 04a0 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 366:../cyfxslfifosync.c **** 
 367:../cyfxslfifosync.c **** 		ADF_data[0] = 0x00;
 1040              		.loc 1 367 0
 1041 04a4 0030A0E3 		mov	r3, #0
 1042 04a8 08304BE5 		strb	r3, [fp, #-8]
 368:../cyfxslfifosync.c **** 		ADF_data[1] = 0x01;
 1043              		.loc 1 368 0
 1044 04ac 0130A0E3 		mov	r3, #1
 1045 04b0 07304BE5 		strb	r3, [fp, #-7]
 369:../cyfxslfifosync.c **** 		ADF_data[2] = 0xf4;
 1046              		.loc 1 369 0
 1047 04b4 0B30E0E3 		mvn	r3, #11
 1048 04b8 06304BE5 		strb	r3, [fp, #-6]
 370:../cyfxslfifosync.c **** 
 371:../cyfxslfifosync.c **** 		Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, TCXO_ADF_SS, TCXO_ADF_SS, 0); //Enable ADF's SPI
 1049              		.loc 1 371 0
 1050 04bc 1200A0E3 		mov	r0, #18
 1051 04c0 0010A0E3 		mov	r1, #0
 1052 04c4 0020A0E3 		mov	r2, #0
 1053 04c8 0030A0E3 		mov	r3, #0
 1054 04cc FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 372:../cyfxslfifosync.c **** 		CyU3PSpiTransmitWords (&ADF_data[0], 3);
 1055              		.loc 1 372 0
 1056 04d0 08304BE2 		sub	r3, fp, #8
 1057 04d4 0300A0E1 		mov	r0, r3
 1058 04d8 0310A0E3 		mov	r1, #3
 1059 04dc FEFFFFEB 		bl	CyU3PSpiTransmitWords
 373:../cyfxslfifosync.c **** 		Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, TCXO_ADF_SS, TCXO_ADF_SS, 1); //Disable ADF's SPI
 1060              		.loc 1 373 0
 1061 04e0 1200A0E3 		mov	r0, #18
 1062 04e4 0010A0E3 		mov	r1, #0
 1063 04e8 0020A0E3 		mov	r2, #0
 1064 04ec 0130A0E3 		mov	r3, #1
 1065 04f0 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 374:../cyfxslfifosync.c **** 
 375:../cyfxslfifosync.c **** 		ADF_data[0] = 0x01;
 1066              		.loc 1 375 0
 1067 04f4 0130A0E3 		mov	r3, #1
 1068 04f8 08304BE5 		strb	r3, [fp, #-8]
 376:../cyfxslfifosync.c **** 		ADF_data[1] = 0x80;
 1069              		.loc 1 376 0
 1070 04fc 7F30E0E3 		mvn	r3, #127
 1071 0500 07304BE5 		strb	r3, [fp, #-7]
 377:../cyfxslfifosync.c **** 		ADF_data[2] = 0x01;
 1072              		.loc 1 377 0
 1073 0504 0130A0E3 		mov	r3, #1
 1074 0508 06304BE5 		strb	r3, [fp, #-6]
 378:../cyfxslfifosync.c **** 
 379:../cyfxslfifosync.c **** 		Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, TCXO_ADF_SS, TCXO_ADF_SS, 0); //Enable ADF's SPI
 1075              		.loc 1 379 0
 1076 050c 1200A0E3 		mov	r0, #18
 1077 0510 0010A0E3 		mov	r1, #0
 1078 0514 0020A0E3 		mov	r2, #0
 1079 0518 0030A0E3 		mov	r3, #0
 1080 051c FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 380:../cyfxslfifosync.c **** 		CyU3PSpiTransmitWords (&ADF_data[0], 3);
 1081              		.loc 1 380 0
 1082 0520 08304BE2 		sub	r3, fp, #8
 1083 0524 0300A0E1 		mov	r0, r3
 1084 0528 0310A0E3 		mov	r1, #3
 1085 052c FEFFFFEB 		bl	CyU3PSpiTransmitWords
 381:../cyfxslfifosync.c **** 		Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, TCXO_ADF_SS, TCXO_ADF_SS, 1); //Disable ADF's SPI
 1086              		.loc 1 381 0
 1087 0530 1200A0E3 		mov	r0, #18
 1088 0534 0010A0E3 		mov	r1, #0
 1089 0538 0020A0E3 		mov	r2, #0
 1090 053c 0130A0E3 		mov	r3, #1
 1091 0540 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 1092              	.LBE4:
 1093 0544 0C0000EA 		b	.L31
 1094              	.L32:
 382:../cyfxslfifosync.c **** 	}
 383:../cyfxslfifosync.c **** 	else //set PLL parameters
 384:../cyfxslfifosync.c **** 	{
 385:../cyfxslfifosync.c **** 		Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, TCXO_ADF_SS, TCXO_ADF_SS, 0); //Enable ADF's SPI
 1095              		.loc 1 385 0
 1096 0548 1200A0E3 		mov	r0, #18
 1097 054c 0010A0E3 		mov	r1, #0
 1098 0550 0020A0E3 		mov	r2, #0
 1099 0554 0030A0E3 		mov	r3, #0
 1100 0558 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 386:../cyfxslfifosync.c **** 		CyU3PSpiTransmitWords (data, 3);
 1101              		.loc 1 386 0
 1102 055c 14001BE5 		ldr	r0, [fp, #-20]
 1103 0560 0310A0E3 		mov	r1, #3
 1104 0564 FEFFFFEB 		bl	CyU3PSpiTransmitWords
 387:../cyfxslfifosync.c **** 		Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, TCXO_ADF_SS, TCXO_ADF_SS, 1); //Disable ADF's SPI
 1105              		.loc 1 387 0
 1106 0568 1200A0E3 		mov	r0, #18
 1107 056c 0010A0E3 		mov	r1, #0
 1108 0570 0020A0E3 		mov	r2, #0
 1109 0574 0130A0E3 		mov	r3, #1
 1110 0578 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 1111              	.L31:
 388:../cyfxslfifosync.c **** 	}
 389:../cyfxslfifosync.c **** }
 1112              		.loc 1 389 0
 1113 057c 04D04BE2 		sub	sp, fp, #4
 1114              		@ sp needed
 1115 0580 0088BDE8 		ldmfd	sp!, {fp, pc}
 1116              		.cfi_endproc
 1117              	.LFE5:
 1119              		.align	2
 1120              		.global	SPI_SendByte
 1122              	SPI_SendByte:
 1123              	.LFB6:
 390:../cyfxslfifosync.c **** 
 391:../cyfxslfifosync.c **** void SPI_SendByte(unsigned char write_byte)
 392:../cyfxslfifosync.c **** {
 1124              		.loc 1 392 0
 1125              		.cfi_startproc
 1126              		@ args = 0, pretend = 0, frame = 8
 1127              		@ frame_needed = 1, uses_anonymous_args = 0
 1128 0584 00482DE9 		stmfd	sp!, {fp, lr}
 1129              	.LCFI12:
 1130              		.cfi_def_cfa_offset 8
 1131              		.cfi_offset 11, -8
 1132              		.cfi_offset 14, -4
 1133 0588 04B08DE2 		add	fp, sp, #4
 1134              	.LCFI13:
 1135              		.cfi_def_cfa 11, 4
 1136 058c 08D04DE2 		sub	sp, sp, #8
 1137 0590 0030A0E1 		mov	r3, r0
 1138 0594 05304BE5 		strb	r3, [fp, #-5]
 393:../cyfxslfifosync.c **** 	CyU3PSpiTransmitWords (&write_byte, 1);
 1139              		.loc 1 393 0
 1140 0598 05304BE2 		sub	r3, fp, #5
 1141 059c 0300A0E1 		mov	r0, r3
 1142 05a0 0110A0E3 		mov	r1, #1
 1143 05a4 FEFFFFEB 		bl	CyU3PSpiTransmitWords
 394:../cyfxslfifosync.c **** }
 1144              		.loc 1 394 0
 1145 05a8 04D04BE2 		sub	sp, fp, #4
 1146              		@ sp needed
 1147 05ac 0088BDE8 		ldmfd	sp!, {fp, pc}
 1148              		.cfi_endproc
 1149              	.LFE6:
 1151              		.align	2
 1152              		.global	SPI_TransferByte
 1154              	SPI_TransferByte:
 1155              	.LFB7:
 395:../cyfxslfifosync.c **** 
 396:../cyfxslfifosync.c **** unsigned char SPI_TransferByte(unsigned char dummy_byte)
 397:../cyfxslfifosync.c **** {
 1156              		.loc 1 397 0
 1157              		.cfi_startproc
 1158              		@ args = 0, pretend = 0, frame = 16
 1159              		@ frame_needed = 1, uses_anonymous_args = 0
 1160 05b0 00482DE9 		stmfd	sp!, {fp, lr}
 1161              	.LCFI14:
 1162              		.cfi_def_cfa_offset 8
 1163              		.cfi_offset 11, -8
 1164              		.cfi_offset 14, -4
 1165 05b4 04B08DE2 		add	fp, sp, #4
 1166              	.LCFI15:
 1167              		.cfi_def_cfa 11, 4
 1168 05b8 10D04DE2 		sub	sp, sp, #16
 1169 05bc 0030A0E1 		mov	r3, r0
 1170 05c0 0D304BE5 		strb	r3, [fp, #-13]
 398:../cyfxslfifosync.c **** 	unsigned char read_byte;
 399:../cyfxslfifosync.c **** 
 400:../cyfxslfifosync.c **** 	CyU3PSpiReceiveWords (&read_byte, 1);
 1171              		.loc 1 400 0
 1172 05c4 05304BE2 		sub	r3, fp, #5
 1173 05c8 0300A0E1 		mov	r0, r3
 1174 05cc 0110A0E3 		mov	r1, #1
 1175 05d0 FEFFFFEB 		bl	CyU3PSpiReceiveWords
 401:../cyfxslfifosync.c **** 
 402:../cyfxslfifosync.c **** 	return read_byte;
 1176              		.loc 1 402 0
 1177 05d4 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 403:../cyfxslfifosync.c **** }
 1178              		.loc 1 403 0
 1179 05d8 0300A0E1 		mov	r0, r3
 1180 05dc 04D04BE2 		sub	sp, fp, #4
 1181              		@ sp needed
 1182 05e0 0088BDE8 		ldmfd	sp!, {fp, pc}
 1183              		.cfi_endproc
 1184              	.LFE7:
 1186              		.align	2
 1187              		.global	Modify_BRDSPI16_Reg_bits
 1189              	Modify_BRDSPI16_Reg_bits:
 1190              	.LFB8:
 404:../cyfxslfifosync.c **** 
 405:../cyfxslfifosync.c **** /**
 406:../cyfxslfifosync.c ****  *	@brief Function to modify BRD (FPGA) spi register bits
 407:../cyfxslfifosync.c ****  *	@param SPI_reg_addr register address
 408:../cyfxslfifosync.c ****  *	@param MSB_bit MSB bit of range that will be modified
 409:../cyfxslfifosync.c ****  *	@param LSB_bit MSB bit of range that will be modified
 410:../cyfxslfifosync.c ****  */
 411:../cyfxslfifosync.c **** void Modify_BRDSPI16_Reg_bits (unsigned short int SPI_reg_addr, unsigned char MSB_bit, unsigned cha
 412:../cyfxslfifosync.c **** {
 1191              		.loc 1 412 0
 1192              		.cfi_startproc
 1193              		@ args = 0, pretend = 0, frame = 16
 1194              		@ frame_needed = 1, uses_anonymous_args = 0
 1195 05e4 00482DE9 		stmfd	sp!, {fp, lr}
 1196              	.LCFI16:
 1197              		.cfi_def_cfa_offset 8
 1198              		.cfi_offset 11, -8
 1199              		.cfi_offset 14, -4
 1200 05e8 04B08DE2 		add	fp, sp, #4
 1201              	.LCFI17:
 1202              		.cfi_def_cfa 11, 4
 1203 05ec 10D04DE2 		sub	sp, sp, #16
 1204 05f0 BE004BE1 		strh	r0, [fp, #-14]	@ movhi
 1205 05f4 0F104BE5 		strb	r1, [fp, #-15]
 1206 05f8 10204BE5 		strb	r2, [fp, #-16]
 1207 05fc B2314BE1 		strh	r3, [fp, #-18]	@ movhi
 413:../cyfxslfifosync.c **** 	unsigned short int mask, SPI_reg_data;
 414:../cyfxslfifosync.c **** 	unsigned char bits_number;
 415:../cyfxslfifosync.c **** 	uint8_t MSB_byte, LSB_byte;
 416:../cyfxslfifosync.c **** 
 417:../cyfxslfifosync.c **** 	Reconfigure_SPI_for_LMS();
 1208              		.loc 1 417 0
 1209 0600 FEFFFFEB 		bl	Reconfigure_SPI_for_LMS
 418:../cyfxslfifosync.c **** 
 419:../cyfxslfifosync.c **** 	bits_number = MSB_bit - LSB_bit + 1;
 1210              		.loc 1 419 0
 1211 0604 0F205BE5 		ldrb	r2, [fp, #-15]
 1212 0608 10305BE5 		ldrb	r3, [fp, #-16]
 1213 060c 023063E0 		rsb	r3, r3, r2
 1214 0610 FF3003E2 		and	r3, r3, #255
 1215 0614 013083E2 		add	r3, r3, #1
 1216 0618 05304BE5 		strb	r3, [fp, #-5]
 420:../cyfxslfifosync.c **** 
 421:../cyfxslfifosync.c **** 	mask = 0xFFFF;
 1217              		.loc 1 421 0
 1218 061c 0030E0E3 		mvn	r3, #0
 1219 0620 B8304BE1 		strh	r3, [fp, #-8]	@ movhi
 422:../cyfxslfifosync.c **** 
 423:../cyfxslfifosync.c **** 	//removing unnecessary bits from mask
 424:../cyfxslfifosync.c **** 	mask = mask << (16 - bits_number);
 1220              		.loc 1 424 0
 1221 0624 B8205BE1 		ldrh	r2, [fp, #-8]
 1222 0628 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 1223 062c 103063E2 		rsb	r3, r3, #16
 1224 0630 1233A0E1 		mov	r3, r2, asl r3
 1225 0634 B8304BE1 		strh	r3, [fp, #-8]	@ movhi
 425:../cyfxslfifosync.c **** 	mask = mask >> (16 - bits_number);
 1226              		.loc 1 425 0
 1227 0638 B8205BE1 		ldrh	r2, [fp, #-8]
 1228 063c 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 1229 0640 103063E2 		rsb	r3, r3, #16
 1230 0644 5233A0E1 		mov	r3, r2, asr r3
 1231 0648 B8304BE1 		strh	r3, [fp, #-8]	@ movhi
 426:../cyfxslfifosync.c **** 
 427:../cyfxslfifosync.c **** 	new_bits_data &= mask; //mask new data
 1232              		.loc 1 427 0
 1233 064c B2215BE1 		ldrh	r2, [fp, #-18]	@ movhi
 1234 0650 B8305BE1 		ldrh	r3, [fp, #-8]	@ movhi
 1235 0654 033002E0 		and	r3, r2, r3
 1236 0658 B2314BE1 		strh	r3, [fp, #-18]	@ movhi
 428:../cyfxslfifosync.c **** 
 429:../cyfxslfifosync.c **** 	new_bits_data = new_bits_data << LSB_bit; //shift new data
 1237              		.loc 1 429 0
 1238 065c B2215BE1 		ldrh	r2, [fp, #-18]
 1239 0660 10305BE5 		ldrb	r3, [fp, #-16]	@ zero_extendqisi2
 1240 0664 1233A0E1 		mov	r3, r2, asl r3
 1241 0668 B2314BE1 		strh	r3, [fp, #-18]	@ movhi
 430:../cyfxslfifosync.c **** 
 431:../cyfxslfifosync.c **** 	mask = mask << LSB_bit; //shift mask
 1242              		.loc 1 431 0
 1243 066c B8205BE1 		ldrh	r2, [fp, #-8]
 1244 0670 10305BE5 		ldrb	r3, [fp, #-16]	@ zero_extendqisi2
 1245 0674 1233A0E1 		mov	r3, r2, asl r3
 1246 0678 B8304BE1 		strh	r3, [fp, #-8]	@ movhi
 432:../cyfxslfifosync.c **** 	mask =~ mask;//invert mask
 1247              		.loc 1 432 0
 1248 067c B8305BE1 		ldrh	r3, [fp, #-8]	@ movhi
 1249 0680 0330E0E1 		mvn	r3, r3
 1250 0684 B8304BE1 		strh	r3, [fp, #-8]	@ movhi
 433:../cyfxslfifosync.c **** 
 434:../cyfxslfifosync.c **** 	MSB_byte = (SPI_reg_addr >> 8 ) & 0xFF;
 1251              		.loc 1 434 0
 1252 0688 BE305BE1 		ldrh	r3, [fp, #-14]
 1253 068c 2334A0E1 		mov	r3, r3, lsr #8
 1254 0690 0338A0E1 		mov	r3, r3, asl #16
 1255 0694 2338A0E1 		mov	r3, r3, lsr #16
 1256 0698 FF3003E2 		and	r3, r3, #255
 1257 069c 0B304BE5 		strb	r3, [fp, #-11]
 435:../cyfxslfifosync.c **** 	LSB_byte = SPI_reg_addr & 0xFF;
 1258              		.loc 1 435 0
 1259 06a0 BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 1260 06a4 FF3003E2 		and	r3, r3, #255
 1261 06a8 0C304BE5 		strb	r3, [fp, #-12]
 436:../cyfxslfifosync.c **** 
 437:../cyfxslfifosync.c **** 	CyU3PGpioSetValue (FX3_FPGA_SS, CyFalse); //Enable FPGA SPI
 1262              		.loc 1 437 0
 1263 06ac 2E00A0E3 		mov	r0, #46
 1264 06b0 0010A0E3 		mov	r1, #0
 1265 06b4 FEFFFFEB 		bl	CyU3PGpioSetValue
 438:../cyfxslfifosync.c **** 	cbi(MSB_byte, 7);  //clear write bit
 1266              		.loc 1 438 0
 1267 06b8 0B305BE5 		ldrb	r3, [fp, #-11]	@ zero_extendqisi2
 1268 06bc 7F3003E2 		and	r3, r3, #127
 1269 06c0 FF3003E2 		and	r3, r3, #255
 1270 06c4 0B304BE5 		strb	r3, [fp, #-11]
 439:../cyfxslfifosync.c **** 
 440:../cyfxslfifosync.c **** 	CyU3PSpiTransmitWords (&MSB_byte, 1); //reg addr MSB with write bit
 1271              		.loc 1 440 0
 1272 06c8 0B304BE2 		sub	r3, fp, #11
 1273 06cc 0300A0E1 		mov	r0, r3
 1274 06d0 0110A0E3 		mov	r1, #1
 1275 06d4 FEFFFFEB 		bl	CyU3PSpiTransmitWords
 441:../cyfxslfifosync.c **** 	CyU3PSpiTransmitWords (&LSB_byte, 1); //reg addr LSB
 1276              		.loc 1 441 0
 1277 06d8 0C304BE2 		sub	r3, fp, #12
 1278 06dc 0300A0E1 		mov	r0, r3
 1279 06e0 0110A0E3 		mov	r1, #1
 1280 06e4 FEFFFFEB 		bl	CyU3PSpiTransmitWords
 442:../cyfxslfifosync.c **** 
 443:../cyfxslfifosync.c **** 	//read reg data
 444:../cyfxslfifosync.c **** 	CyU3PSpiReceiveWords (&MSB_byte, 1); //reg data MSB
 1281              		.loc 1 444 0
 1282 06e8 0B304BE2 		sub	r3, fp, #11
 1283 06ec 0300A0E1 		mov	r0, r3
 1284 06f0 0110A0E3 		mov	r1, #1
 1285 06f4 FEFFFFEB 		bl	CyU3PSpiReceiveWords
 445:../cyfxslfifosync.c **** 	CyU3PSpiReceiveWords (&LSB_byte, 1); //reg data LSB
 1286              		.loc 1 445 0
 1287 06f8 0C304BE2 		sub	r3, fp, #12
 1288 06fc 0300A0E1 		mov	r0, r3
 1289 0700 0110A0E3 		mov	r1, #1
 1290 0704 FEFFFFEB 		bl	CyU3PSpiReceiveWords
 446:../cyfxslfifosync.c **** 
 447:../cyfxslfifosync.c **** 	SPI_reg_data = (MSB_byte << 8) + LSB_byte; //read current SPI reg data
 1291              		.loc 1 447 0
 1292 0708 0B305BE5 		ldrb	r3, [fp, #-11]	@ zero_extendqisi2
 1293 070c 0334A0E1 		mov	r3, r3, asl #8
 1294 0710 0338A0E1 		mov	r3, r3, asl #16
 1295 0714 2328A0E1 		mov	r2, r3, lsr #16
 1296 0718 0C305BE5 		ldrb	r3, [fp, #-12]	@ zero_extendqisi2
 1297 071c 033082E0 		add	r3, r2, r3
 1298 0720 BA304BE1 		strh	r3, [fp, #-10]	@ movhi
 448:../cyfxslfifosync.c **** 
 449:../cyfxslfifosync.c **** 	//modify reg data
 450:../cyfxslfifosync.c **** 	SPI_reg_data &= mask;//clear bits
 1299              		.loc 1 450 0
 1300 0724 BA205BE1 		ldrh	r2, [fp, #-10]	@ movhi
 1301 0728 B8305BE1 		ldrh	r3, [fp, #-8]	@ movhi
 1302 072c 033002E0 		and	r3, r2, r3
 1303 0730 BA304BE1 		strh	r3, [fp, #-10]	@ movhi
 451:../cyfxslfifosync.c **** 	SPI_reg_data |= new_bits_data; //set bits with new data
 1304              		.loc 1 451 0
 1305 0734 BA205BE1 		ldrh	r2, [fp, #-10]	@ movhi
 1306 0738 B2315BE1 		ldrh	r3, [fp, #-18]	@ movhi
 1307 073c 033082E1 		orr	r3, r2, r3
 1308 0740 BA304BE1 		strh	r3, [fp, #-10]	@ movhi
 452:../cyfxslfifosync.c **** 
 453:../cyfxslfifosync.c **** 	//write reg addr
 454:../cyfxslfifosync.c **** 	MSB_byte = (SPI_reg_addr >> 8 ) & 0xFF;
 1309              		.loc 1 454 0
 1310 0744 BE305BE1 		ldrh	r3, [fp, #-14]
 1311 0748 2334A0E1 		mov	r3, r3, lsr #8
 1312 074c 0338A0E1 		mov	r3, r3, asl #16
 1313 0750 2338A0E1 		mov	r3, r3, lsr #16
 1314 0754 FF3003E2 		and	r3, r3, #255
 1315 0758 0B304BE5 		strb	r3, [fp, #-11]
 455:../cyfxslfifosync.c **** 	LSB_byte = SPI_reg_addr & 0xFF;
 1316              		.loc 1 455 0
 1317 075c BE305BE1 		ldrh	r3, [fp, #-14]	@ movhi
 1318 0760 FF3003E2 		and	r3, r3, #255
 1319 0764 0C304BE5 		strb	r3, [fp, #-12]
 456:../cyfxslfifosync.c **** 
 457:../cyfxslfifosync.c **** 	sbi(MSB_byte, 7); //set write bit
 1320              		.loc 1 457 0
 1321 0768 0B305BE5 		ldrb	r3, [fp, #-11]	@ zero_extendqisi2
 1322 076c 833CE0E1 		mvn	r3, r3, asl #25
 1323 0770 A33CE0E1 		mvn	r3, r3, lsr #25
 1324 0774 FF3003E2 		and	r3, r3, #255
 1325 0778 0B304BE5 		strb	r3, [fp, #-11]
 458:../cyfxslfifosync.c **** 
 459:../cyfxslfifosync.c **** 	CyU3PSpiTransmitWords (&MSB_byte, 1); //reg addr MSB with write bit
 1326              		.loc 1 459 0
 1327 077c 0B304BE2 		sub	r3, fp, #11
 1328 0780 0300A0E1 		mov	r0, r3
 1329 0784 0110A0E3 		mov	r1, #1
 1330 0788 FEFFFFEB 		bl	CyU3PSpiTransmitWords
 460:../cyfxslfifosync.c **** 	CyU3PSpiTransmitWords (&LSB_byte, 1); //reg addr LSB
 1331              		.loc 1 460 0
 1332 078c 0C304BE2 		sub	r3, fp, #12
 1333 0790 0300A0E1 		mov	r0, r3
 1334 0794 0110A0E3 		mov	r1, #1
 1335 0798 FEFFFFEB 		bl	CyU3PSpiTransmitWords
 461:../cyfxslfifosync.c **** 
 462:../cyfxslfifosync.c **** 	////write modified data back to SPI reg
 463:../cyfxslfifosync.c **** 	MSB_byte = (SPI_reg_data >> 8 ) & 0xFF;
 1336              		.loc 1 463 0
 1337 079c BA305BE1 		ldrh	r3, [fp, #-10]
 1338 07a0 2334A0E1 		mov	r3, r3, lsr #8
 1339 07a4 0338A0E1 		mov	r3, r3, asl #16
 1340 07a8 2338A0E1 		mov	r3, r3, lsr #16
 1341 07ac FF3003E2 		and	r3, r3, #255
 1342 07b0 0B304BE5 		strb	r3, [fp, #-11]
 464:../cyfxslfifosync.c **** 	LSB_byte = SPI_reg_data & 0xFF;
 1343              		.loc 1 464 0
 1344 07b4 BA305BE1 		ldrh	r3, [fp, #-10]	@ movhi
 1345 07b8 FF3003E2 		and	r3, r3, #255
 1346 07bc 0C304BE5 		strb	r3, [fp, #-12]
 465:../cyfxslfifosync.c **** 
 466:../cyfxslfifosync.c **** 	CyU3PSpiTransmitWords (&MSB_byte, 1); //reg data MSB
 1347              		.loc 1 466 0
 1348 07c0 0B304BE2 		sub	r3, fp, #11
 1349 07c4 0300A0E1 		mov	r0, r3
 1350 07c8 0110A0E3 		mov	r1, #1
 1351 07cc FEFFFFEB 		bl	CyU3PSpiTransmitWords
 467:../cyfxslfifosync.c **** 	CyU3PSpiTransmitWords (&LSB_byte, 1); //reg data LSB
 1352              		.loc 1 467 0
 1353 07d0 0C304BE2 		sub	r3, fp, #12
 1354 07d4 0300A0E1 		mov	r0, r3
 1355 07d8 0110A0E3 		mov	r1, #1
 1356 07dc FEFFFFEB 		bl	CyU3PSpiTransmitWords
 468:../cyfxslfifosync.c **** 
 469:../cyfxslfifosync.c **** 	CyU3PGpioSetValue (FX3_FPGA_SS, CyTrue); //Disable FPGA SPI
 1357              		.loc 1 469 0
 1358 07e0 2E00A0E3 		mov	r0, #46
 1359 07e4 0110A0E3 		mov	r1, #1
 1360 07e8 FEFFFFEB 		bl	CyU3PGpioSetValue
 470:../cyfxslfifosync.c **** }
 1361              		.loc 1 470 0
 1362 07ec 04D04BE2 		sub	sp, fp, #4
 1363              		@ sp needed
 1364 07f0 0088BDE8 		ldmfd	sp!, {fp, pc}
 1365              		.cfi_endproc
 1366              	.LFE8:
 1368              		.align	2
 1369              		.global	Reconfigure_SPI_for_LMS
 1371              	Reconfigure_SPI_for_LMS:
 1372              	.LFB9:
 471:../cyfxslfifosync.c **** 
 472:../cyfxslfifosync.c **** /** Reconfigures SPI to match the current serial port settings issued by the host. */
 473:../cyfxslfifosync.c **** void Reconfigure_SPI_for_LMS(void)
 474:../cyfxslfifosync.c **** {
 1373              		.loc 1 474 0
 1374              		.cfi_startproc
 1375              		@ args = 0, pretend = 0, frame = 32
 1376              		@ frame_needed = 1, uses_anonymous_args = 0
 1377 07f4 00482DE9 		stmfd	sp!, {fp, lr}
 1378              	.LCFI18:
 1379              		.cfi_def_cfa_offset 8
 1380              		.cfi_offset 11, -8
 1381              		.cfi_offset 14, -4
 1382 07f8 04B08DE2 		add	fp, sp, #4
 1383              	.LCFI19:
 1384              		.cfi_def_cfa 11, 4
 1385 07fc 20D04DE2 		sub	sp, sp, #32
 475:../cyfxslfifosync.c ****     CyU3PSpiConfig_t spiConfig;
 476:../cyfxslfifosync.c ****     CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 1386              		.loc 1 476 0
 1387 0800 0030A0E3 		mov	r3, #0
 1388 0804 08300BE5 		str	r3, [fp, #-8]
 477:../cyfxslfifosync.c **** 
 478:../cyfxslfifosync.c ****     CyU3PMemSet ((uint8_t *)&spiConfig, 0, sizeof(spiConfig));
 1389              		.loc 1 478 0
 1390 0808 24304BE2 		sub	r3, fp, #36
 1391 080c 0300A0E1 		mov	r0, r3
 1392 0810 0010A0E3 		mov	r1, #0
 1393 0814 1C20A0E3 		mov	r2, #28
 1394 0818 FEFFFFEB 		bl	CyU3PMemSet
 479:../cyfxslfifosync.c ****     spiConfig.isLsbFirst = CyFalse;
 1395              		.loc 1 479 0
 1396 081c 0030A0E3 		mov	r3, #0
 1397 0820 24300BE5 		str	r3, [fp, #-36]
 480:../cyfxslfifosync.c ****     spiConfig.cpol       = CyFalse;
 1398              		.loc 1 480 0
 1399 0824 0030A0E3 		mov	r3, #0
 1400 0828 20300BE5 		str	r3, [fp, #-32]
 481:../cyfxslfifosync.c ****     spiConfig.ssnPol     = CyFalse;
 1401              		.loc 1 481 0
 1402 082c 0030A0E3 		mov	r3, #0
 1403 0830 18300BE5 		str	r3, [fp, #-24]
 482:../cyfxslfifosync.c ****     spiConfig.cpha       = CyFalse;
 1404              		.loc 1 482 0
 1405 0834 0030A0E3 		mov	r3, #0
 1406 0838 1C300BE5 		str	r3, [fp, #-28]
 483:../cyfxslfifosync.c ****     spiConfig.leadTime   = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 1407              		.loc 1 483 0
 1408 083c 0130A0E3 		mov	r3, #1
 1409 0840 13304BE5 		strb	r3, [fp, #-19]
 484:../cyfxslfifosync.c ****     spiConfig.lagTime    = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 1410              		.loc 1 484 0
 1411 0844 0130A0E3 		mov	r3, #1
 1412 0848 12304BE5 		strb	r3, [fp, #-18]
 485:../cyfxslfifosync.c ****     spiConfig.ssnCtrl    = CY_U3P_SPI_SSN_CTRL_NONE;
 1413              		.loc 1 485 0
 1414 084c 0430A0E3 		mov	r3, #4
 1415 0850 14304BE5 		strb	r3, [fp, #-20]
 486:../cyfxslfifosync.c ****     spiConfig.clock      = 1 *1000000; //1 MHz
 1416              		.loc 1 486 0
 1417 0854 24309FE5 		ldr	r3, .L39
 1418 0858 10300BE5 		str	r3, [fp, #-16]
 487:../cyfxslfifosync.c ****     spiConfig.wordLen    = 8;
 1419              		.loc 1 487 0
 1420 085c 0830A0E3 		mov	r3, #8
 1421 0860 0C304BE5 		strb	r3, [fp, #-12]
 488:../cyfxslfifosync.c **** 
 489:../cyfxslfifosync.c ****     status = CyU3PSpiSetConfig (&spiConfig, NULL);
 1422              		.loc 1 489 0
 1423 0864 24304BE2 		sub	r3, fp, #36
 1424 0868 0300A0E1 		mov	r0, r3
 1425 086c 0010A0E3 		mov	r1, #0
 1426 0870 FEFFFFEB 		bl	CyU3PSpiSetConfig
 1427 0874 08000BE5 		str	r0, [fp, #-8]
 490:../cyfxslfifosync.c **** }
 1428              		.loc 1 490 0
 1429 0878 04D04BE2 		sub	sp, fp, #4
 1430              		@ sp needed
 1431 087c 0088BDE8 		ldmfd	sp!, {fp, pc}
 1432              	.L40:
 1433              		.align	2
 1434              	.L39:
 1435 0880 40420F00 		.word	1000000
 1436              		.cfi_endproc
 1437              	.LFE9:
 1439              		.align	2
 1440              		.global	Reconfigure_SPI_for_Flash
 1442              	Reconfigure_SPI_for_Flash:
 1443              	.LFB10:
 491:../cyfxslfifosync.c **** 
 492:../cyfxslfifosync.c **** void Reconfigure_SPI_for_Flash(void)
 493:../cyfxslfifosync.c **** {
 1444              		.loc 1 493 0
 1445              		.cfi_startproc
 1446              		@ args = 0, pretend = 0, frame = 32
 1447              		@ frame_needed = 1, uses_anonymous_args = 0
 1448 0884 00482DE9 		stmfd	sp!, {fp, lr}
 1449              	.LCFI20:
 1450              		.cfi_def_cfa_offset 8
 1451              		.cfi_offset 11, -8
 1452              		.cfi_offset 14, -4
 1453 0888 04B08DE2 		add	fp, sp, #4
 1454              	.LCFI21:
 1455              		.cfi_def_cfa 11, 4
 1456 088c 20D04DE2 		sub	sp, sp, #32
 494:../cyfxslfifosync.c ****     CyU3PSpiConfig_t spiConfig;
 495:../cyfxslfifosync.c ****     CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 1457              		.loc 1 495 0
 1458 0890 0030A0E3 		mov	r3, #0
 1459 0894 08300BE5 		str	r3, [fp, #-8]
 496:../cyfxslfifosync.c **** 
 497:../cyfxslfifosync.c ****     CyU3PMemSet ((uint8_t *)&spiConfig, 0, sizeof(spiConfig));
 1460              		.loc 1 497 0
 1461 0898 24304BE2 		sub	r3, fp, #36
 1462 089c 0300A0E1 		mov	r0, r3
 1463 08a0 0010A0E3 		mov	r1, #0
 1464 08a4 1C20A0E3 		mov	r2, #28
 1465 08a8 FEFFFFEB 		bl	CyU3PMemSet
 498:../cyfxslfifosync.c ****     spiConfig.isLsbFirst = CyFalse;
 1466              		.loc 1 498 0
 1467 08ac 0030A0E3 		mov	r3, #0
 1468 08b0 24300BE5 		str	r3, [fp, #-36]
 499:../cyfxslfifosync.c ****     spiConfig.cpol       = CyFalse;
 1469              		.loc 1 499 0
 1470 08b4 0030A0E3 		mov	r3, #0
 1471 08b8 20300BE5 		str	r3, [fp, #-32]
 500:../cyfxslfifosync.c ****     spiConfig.ssnPol     = CyFalse;
 1472              		.loc 1 500 0
 1473 08bc 0030A0E3 		mov	r3, #0
 1474 08c0 18300BE5 		str	r3, [fp, #-24]
 501:../cyfxslfifosync.c ****     spiConfig.cpha       = CyFalse;
 1475              		.loc 1 501 0
 1476 08c4 0030A0E3 		mov	r3, #0
 1477 08c8 1C300BE5 		str	r3, [fp, #-28]
 502:../cyfxslfifosync.c ****     spiConfig.leadTime   = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 1478              		.loc 1 502 0
 1479 08cc 0130A0E3 		mov	r3, #1
 1480 08d0 13304BE5 		strb	r3, [fp, #-19]
 503:../cyfxslfifosync.c ****     spiConfig.lagTime    = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 1481              		.loc 1 503 0
 1482 08d4 0130A0E3 		mov	r3, #1
 1483 08d8 12304BE5 		strb	r3, [fp, #-18]
 504:../cyfxslfifosync.c ****     spiConfig.ssnCtrl    = CY_U3P_SPI_SSN_CTRL_NONE;
 1484              		.loc 1 504 0
 1485 08dc 0430A0E3 		mov	r3, #4
 1486 08e0 14304BE5 		strb	r3, [fp, #-20]
 505:../cyfxslfifosync.c ****     spiConfig.clock      = 5 *1000000; //50 MHz
 1487              		.loc 1 505 0
 1488 08e4 24309FE5 		ldr	r3, .L42
 1489 08e8 10300BE5 		str	r3, [fp, #-16]
 506:../cyfxslfifosync.c ****     spiConfig.wordLen    = 8;
 1490              		.loc 1 506 0
 1491 08ec 0830A0E3 		mov	r3, #8
 1492 08f0 0C304BE5 		strb	r3, [fp, #-12]
 507:../cyfxslfifosync.c **** 
 508:../cyfxslfifosync.c ****     status = CyU3PSpiSetConfig (&spiConfig, NULL);
 1493              		.loc 1 508 0
 1494 08f4 24304BE2 		sub	r3, fp, #36
 1495 08f8 0300A0E1 		mov	r0, r3
 1496 08fc 0010A0E3 		mov	r1, #0
 1497 0900 FEFFFFEB 		bl	CyU3PSpiSetConfig
 1498 0904 08000BE5 		str	r0, [fp, #-8]
 509:../cyfxslfifosync.c **** }
 1499              		.loc 1 509 0
 1500 0908 04D04BE2 		sub	sp, fp, #4
 1501              		@ sp needed
 1502 090c 0088BDE8 		ldmfd	sp!, {fp, pc}
 1503              	.L43:
 1504              		.align	2
 1505              	.L42:
 1506 0910 404B4C00 		.word	5000000
 1507              		.cfi_endproc
 1508              	.LFE10:
 1510              		.align	2
 1511              		.global	Reconfigure_SPI_for_AD5601
 1513              	Reconfigure_SPI_for_AD5601:
 1514              	.LFB11:
 510:../cyfxslfifosync.c **** 
 511:../cyfxslfifosync.c **** void Reconfigure_SPI_for_AD5601(void)
 512:../cyfxslfifosync.c **** {
 1515              		.loc 1 512 0
 1516              		.cfi_startproc
 1517              		@ args = 0, pretend = 0, frame = 32
 1518              		@ frame_needed = 1, uses_anonymous_args = 0
 1519 0914 00482DE9 		stmfd	sp!, {fp, lr}
 1520              	.LCFI22:
 1521              		.cfi_def_cfa_offset 8
 1522              		.cfi_offset 11, -8
 1523              		.cfi_offset 14, -4
 1524 0918 04B08DE2 		add	fp, sp, #4
 1525              	.LCFI23:
 1526              		.cfi_def_cfa 11, 4
 1527 091c 20D04DE2 		sub	sp, sp, #32
 513:../cyfxslfifosync.c ****     CyU3PSpiConfig_t spiConfig;
 514:../cyfxslfifosync.c ****     CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 1528              		.loc 1 514 0
 1529 0920 0030A0E3 		mov	r3, #0
 1530 0924 08300BE5 		str	r3, [fp, #-8]
 515:../cyfxslfifosync.c **** 
 516:../cyfxslfifosync.c ****     CyU3PMemSet ((uint8_t *)&spiConfig, 0, sizeof(spiConfig));
 1531              		.loc 1 516 0
 1532 0928 24304BE2 		sub	r3, fp, #36
 1533 092c 0300A0E1 		mov	r0, r3
 1534 0930 0010A0E3 		mov	r1, #0
 1535 0934 1C20A0E3 		mov	r2, #28
 1536 0938 FEFFFFEB 		bl	CyU3PMemSet
 517:../cyfxslfifosync.c ****     spiConfig.isLsbFirst = CyFalse;
 1537              		.loc 1 517 0
 1538 093c 0030A0E3 		mov	r3, #0
 1539 0940 24300BE5 		str	r3, [fp, #-36]
 518:../cyfxslfifosync.c ****     spiConfig.cpol       = CyFalse;
 1540              		.loc 1 518 0
 1541 0944 0030A0E3 		mov	r3, #0
 1542 0948 20300BE5 		str	r3, [fp, #-32]
 519:../cyfxslfifosync.c ****     spiConfig.ssnPol     = CyFalse;
 1543              		.loc 1 519 0
 1544 094c 0030A0E3 		mov	r3, #0
 1545 0950 18300BE5 		str	r3, [fp, #-24]
 520:../cyfxslfifosync.c ****     spiConfig.cpha       = CyTrue;
 1546              		.loc 1 520 0
 1547 0954 0130A0E3 		mov	r3, #1
 1548 0958 1C300BE5 		str	r3, [fp, #-28]
 521:../cyfxslfifosync.c ****     spiConfig.leadTime   = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 1549              		.loc 1 521 0
 1550 095c 0130A0E3 		mov	r3, #1
 1551 0960 13304BE5 		strb	r3, [fp, #-19]
 522:../cyfxslfifosync.c ****     spiConfig.lagTime    = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 1552              		.loc 1 522 0
 1553 0964 0130A0E3 		mov	r3, #1
 1554 0968 12304BE5 		strb	r3, [fp, #-18]
 523:../cyfxslfifosync.c ****     spiConfig.ssnCtrl    = CY_U3P_SPI_SSN_CTRL_NONE;
 1555              		.loc 1 523 0
 1556 096c 0430A0E3 		mov	r3, #4
 1557 0970 14304BE5 		strb	r3, [fp, #-20]
 524:../cyfxslfifosync.c ****     spiConfig.clock      = 1 *1000000; //1 MHz
 1558              		.loc 1 524 0
 1559 0974 24309FE5 		ldr	r3, .L45
 1560 0978 10300BE5 		str	r3, [fp, #-16]
 525:../cyfxslfifosync.c ****     spiConfig.wordLen    = 8;
 1561              		.loc 1 525 0
 1562 097c 0830A0E3 		mov	r3, #8
 1563 0980 0C304BE5 		strb	r3, [fp, #-12]
 526:../cyfxslfifosync.c **** 
 527:../cyfxslfifosync.c ****     status = CyU3PSpiSetConfig (&spiConfig, NULL);
 1564              		.loc 1 527 0
 1565 0984 24304BE2 		sub	r3, fp, #36
 1566 0988 0300A0E1 		mov	r0, r3
 1567 098c 0010A0E3 		mov	r1, #0
 1568 0990 FEFFFFEB 		bl	CyU3PSpiSetConfig
 1569 0994 08000BE5 		str	r0, [fp, #-8]
 528:../cyfxslfifosync.c **** }
 1570              		.loc 1 528 0
 1571 0998 04D04BE2 		sub	sp, fp, #4
 1572              		@ sp needed
 1573 099c 0088BDE8 		ldmfd	sp!, {fp, pc}
 1574              	.L46:
 1575              		.align	2
 1576              	.L45:
 1577 09a0 40420F00 		.word	1000000
 1578              		.cfi_endproc
 1579              	.LFE11:
 1581              		.align	2
 1582              		.global	Reconfigure_SPI_for_AVR
 1584              	Reconfigure_SPI_for_AVR:
 1585              	.LFB12:
 529:../cyfxslfifosync.c **** 
 530:../cyfxslfifosync.c **** void Reconfigure_SPI_for_AVR(unsigned char speed)
 531:../cyfxslfifosync.c **** {
 1586              		.loc 1 531 0
 1587              		.cfi_startproc
 1588              		@ args = 0, pretend = 0, frame = 40
 1589              		@ frame_needed = 1, uses_anonymous_args = 0
 1590 09a4 00482DE9 		stmfd	sp!, {fp, lr}
 1591              	.LCFI24:
 1592              		.cfi_def_cfa_offset 8
 1593              		.cfi_offset 11, -8
 1594              		.cfi_offset 14, -4
 1595 09a8 04B08DE2 		add	fp, sp, #4
 1596              	.LCFI25:
 1597              		.cfi_def_cfa 11, 4
 1598 09ac 28D04DE2 		sub	sp, sp, #40
 1599 09b0 0030A0E1 		mov	r3, r0
 1600 09b4 25304BE5 		strb	r3, [fp, #-37]
 532:../cyfxslfifosync.c ****     CyU3PSpiConfig_t spiConfig;
 533:../cyfxslfifosync.c ****     CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 1601              		.loc 1 533 0
 1602 09b8 0030A0E3 		mov	r3, #0
 1603 09bc 08300BE5 		str	r3, [fp, #-8]
 534:../cyfxslfifosync.c **** 
 535:../cyfxslfifosync.c ****     CyU3PMemSet ((uint8_t *)&spiConfig, 0, sizeof(spiConfig));
 1604              		.loc 1 535 0
 1605 09c0 24304BE2 		sub	r3, fp, #36
 1606 09c4 0300A0E1 		mov	r0, r3
 1607 09c8 0010A0E3 		mov	r1, #0
 1608 09cc 1C20A0E3 		mov	r2, #28
 1609 09d0 FEFFFFEB 		bl	CyU3PMemSet
 536:../cyfxslfifosync.c ****     spiConfig.isLsbFirst = CyFalse;
 1610              		.loc 1 536 0
 1611 09d4 0030A0E3 		mov	r3, #0
 1612 09d8 24300BE5 		str	r3, [fp, #-36]
 537:../cyfxslfifosync.c ****     spiConfig.cpol       = CyFalse;
 1613              		.loc 1 537 0
 1614 09dc 0030A0E3 		mov	r3, #0
 1615 09e0 20300BE5 		str	r3, [fp, #-32]
 538:../cyfxslfifosync.c ****     spiConfig.ssnPol     = CyFalse;
 1616              		.loc 1 538 0
 1617 09e4 0030A0E3 		mov	r3, #0
 1618 09e8 18300BE5 		str	r3, [fp, #-24]
 539:../cyfxslfifosync.c ****     spiConfig.cpha       = CyFalse;
 1619              		.loc 1 539 0
 1620 09ec 0030A0E3 		mov	r3, #0
 1621 09f0 1C300BE5 		str	r3, [fp, #-28]
 540:../cyfxslfifosync.c ****     spiConfig.leadTime   = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 1622              		.loc 1 540 0
 1623 09f4 0130A0E3 		mov	r3, #1
 1624 09f8 13304BE5 		strb	r3, [fp, #-19]
 541:../cyfxslfifosync.c ****     spiConfig.lagTime    = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 1625              		.loc 1 541 0
 1626 09fc 0130A0E3 		mov	r3, #1
 1627 0a00 12304BE5 		strb	r3, [fp, #-18]
 542:../cyfxslfifosync.c ****     spiConfig.ssnCtrl    = CY_U3P_SPI_SSN_CTRL_NONE;
 1628              		.loc 1 542 0
 1629 0a04 0430A0E3 		mov	r3, #4
 1630 0a08 14304BE5 		strb	r3, [fp, #-20]
 543:../cyfxslfifosync.c **** 
 544:../cyfxslfifosync.c **** 	switch (speed)
 1631              		.loc 1 544 0
 1632 0a0c 25305BE5 		ldrb	r3, [fp, #-37]	@ zero_extendqisi2
 1633 0a10 000053E3 		cmp	r3, #0
 1634 0a14 0200000A 		beq	.L49
 1635 0a18 010053E3 		cmp	r3, #1
 1636 0a1c 0300000A 		beq	.L50
 1637 0a20 050000EA 		b	.L48
 1638              	.L49:
 545:../cyfxslfifosync.c **** 	{
 546:../cyfxslfifosync.c **** 		case 0: //slow speed (62.5 kHz)
 547:../cyfxslfifosync.c **** 			spiConfig.clock      = 62500; //62.5 kHz
 1639              		.loc 1 547 0
 1640 0a24 34309FE5 		ldr	r3, .L51
 1641 0a28 10300BE5 		str	r3, [fp, #-16]
 548:../cyfxslfifosync.c **** 			break;
 1642              		.loc 1 548 0
 1643 0a2c 020000EA 		b	.L48
 1644              	.L50:
 549:../cyfxslfifosync.c **** 
 550:../cyfxslfifosync.c **** 		case 1:	//high speed (1MHz)
 551:../cyfxslfifosync.c **** 			spiConfig.clock      = 1 *1000000; //1 MHz
 1645              		.loc 1 551 0
 1646 0a30 2C309FE5 		ldr	r3, .L51+4
 1647 0a34 10300BE5 		str	r3, [fp, #-16]
 552:../cyfxslfifosync.c **** 			break;
 1648              		.loc 1 552 0
 1649 0a38 0000A0E1 		mov	r0, r0	@ nop
 1650              	.L48:
 553:../cyfxslfifosync.c **** 	}
 554:../cyfxslfifosync.c **** 
 555:../cyfxslfifosync.c ****     spiConfig.wordLen    = 8;
 1651              		.loc 1 555 0
 1652 0a3c 0830A0E3 		mov	r3, #8
 1653 0a40 0C304BE5 		strb	r3, [fp, #-12]
 556:../cyfxslfifosync.c **** 
 557:../cyfxslfifosync.c ****     status = CyU3PSpiSetConfig (&spiConfig, NULL);
 1654              		.loc 1 557 0
 1655 0a44 24304BE2 		sub	r3, fp, #36
 1656 0a48 0300A0E1 		mov	r0, r3
 1657 0a4c 0010A0E3 		mov	r1, #0
 1658 0a50 FEFFFFEB 		bl	CyU3PSpiSetConfig
 1659 0a54 08000BE5 		str	r0, [fp, #-8]
 558:../cyfxslfifosync.c **** }
 1660              		.loc 1 558 0
 1661 0a58 04D04BE2 		sub	sp, fp, #4
 1662              		@ sp needed
 1663 0a5c 0088BDE8 		ldmfd	sp!, {fp, pc}
 1664              	.L52:
 1665              		.align	2
 1666              	.L51:
 1667 0a60 24F40000 		.word	62500
 1668 0a64 40420F00 		.word	1000000
 1669              		.cfi_endproc
 1670              	.LFE12:
 1672              		.align	2
 1673              		.global	Reconfigure_SPI_for_HPM
 1675              	Reconfigure_SPI_for_HPM:
 1676              	.LFB13:
 559:../cyfxslfifosync.c **** 
 560:../cyfxslfifosync.c **** void Reconfigure_SPI_for_HPM(void)
 561:../cyfxslfifosync.c **** {
 1677              		.loc 1 561 0
 1678              		.cfi_startproc
 1679              		@ args = 0, pretend = 0, frame = 32
 1680              		@ frame_needed = 1, uses_anonymous_args = 0
 1681 0a68 00482DE9 		stmfd	sp!, {fp, lr}
 1682              	.LCFI26:
 1683              		.cfi_def_cfa_offset 8
 1684              		.cfi_offset 11, -8
 1685              		.cfi_offset 14, -4
 1686 0a6c 04B08DE2 		add	fp, sp, #4
 1687              	.LCFI27:
 1688              		.cfi_def_cfa 11, 4
 1689 0a70 20D04DE2 		sub	sp, sp, #32
 562:../cyfxslfifosync.c ****     CyU3PSpiConfig_t spiConfig;
 563:../cyfxslfifosync.c ****     CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 1690              		.loc 1 563 0
 1691 0a74 0030A0E3 		mov	r3, #0
 1692 0a78 08300BE5 		str	r3, [fp, #-8]
 564:../cyfxslfifosync.c **** 
 565:../cyfxslfifosync.c ****     CyU3PMemSet ((uint8_t *)&spiConfig, 0, sizeof(spiConfig));
 1693              		.loc 1 565 0
 1694 0a7c 24304BE2 		sub	r3, fp, #36
 1695 0a80 0300A0E1 		mov	r0, r3
 1696 0a84 0010A0E3 		mov	r1, #0
 1697 0a88 1C20A0E3 		mov	r2, #28
 1698 0a8c FEFFFFEB 		bl	CyU3PMemSet
 566:../cyfxslfifosync.c ****     spiConfig.isLsbFirst = CyFalse;
 1699              		.loc 1 566 0
 1700 0a90 0030A0E3 		mov	r3, #0
 1701 0a94 24300BE5 		str	r3, [fp, #-36]
 567:../cyfxslfifosync.c ****     spiConfig.cpol       = CyFalse;
 1702              		.loc 1 567 0
 1703 0a98 0030A0E3 		mov	r3, #0
 1704 0a9c 20300BE5 		str	r3, [fp, #-32]
 568:../cyfxslfifosync.c ****     spiConfig.ssnPol     = CyFalse;
 1705              		.loc 1 568 0
 1706 0aa0 0030A0E3 		mov	r3, #0
 1707 0aa4 18300BE5 		str	r3, [fp, #-24]
 569:../cyfxslfifosync.c ****     spiConfig.cpha       = CyFalse;
 1708              		.loc 1 569 0
 1709 0aa8 0030A0E3 		mov	r3, #0
 1710 0aac 1C300BE5 		str	r3, [fp, #-28]
 570:../cyfxslfifosync.c ****     spiConfig.leadTime   = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 1711              		.loc 1 570 0
 1712 0ab0 0130A0E3 		mov	r3, #1
 1713 0ab4 13304BE5 		strb	r3, [fp, #-19]
 571:../cyfxslfifosync.c ****     spiConfig.lagTime    = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 1714              		.loc 1 571 0
 1715 0ab8 0130A0E3 		mov	r3, #1
 1716 0abc 12304BE5 		strb	r3, [fp, #-18]
 572:../cyfxslfifosync.c ****     spiConfig.ssnCtrl    = CY_U3P_SPI_SSN_CTRL_NONE;
 1717              		.loc 1 572 0
 1718 0ac0 0430A0E3 		mov	r3, #4
 1719 0ac4 14304BE5 		strb	r3, [fp, #-20]
 573:../cyfxslfifosync.c ****     spiConfig.clock      = 1 *1000000; //1 MHz
 1720              		.loc 1 573 0
 1721 0ac8 24309FE5 		ldr	r3, .L54
 1722 0acc 10300BE5 		str	r3, [fp, #-16]
 574:../cyfxslfifosync.c ****     spiConfig.wordLen    = 8;
 1723              		.loc 1 574 0
 1724 0ad0 0830A0E3 		mov	r3, #8
 1725 0ad4 0C304BE5 		strb	r3, [fp, #-12]
 575:../cyfxslfifosync.c **** 
 576:../cyfxslfifosync.c ****     status = CyU3PSpiSetConfig (&spiConfig, NULL);
 1726              		.loc 1 576 0
 1727 0ad8 24304BE2 		sub	r3, fp, #36
 1728 0adc 0300A0E1 		mov	r0, r3
 1729 0ae0 0010A0E3 		mov	r1, #0
 1730 0ae4 FEFFFFEB 		bl	CyU3PSpiSetConfig
 1731 0ae8 08000BE5 		str	r0, [fp, #-8]
 577:../cyfxslfifosync.c **** }
 1732              		.loc 1 577 0
 1733 0aec 04D04BE2 		sub	sp, fp, #4
 1734              		@ sp needed
 1735 0af0 0088BDE8 		ldmfd	sp!, {fp, pc}
 1736              	.L55:
 1737              		.align	2
 1738              	.L54:
 1739 0af4 40420F00 		.word	1000000
 1740              		.cfi_endproc
 1741              	.LFE13:
 1743              		.align	2
 1744              		.global	CyFxSpiInit
 1746              	CyFxSpiInit:
 1747              	.LFB14:
 578:../cyfxslfifosync.c **** 
 579:../cyfxslfifosync.c **** /* SPI initialization for application. */
 580:../cyfxslfifosync.c **** CyU3PReturnStatus_t
 581:../cyfxslfifosync.c **** CyFxSpiInit (uint8_t wordLen)
 582:../cyfxslfifosync.c **** {
 1748              		.loc 1 582 0
 1749              		.cfi_startproc
 1750              		@ args = 0, pretend = 0, frame = 40
 1751              		@ frame_needed = 1, uses_anonymous_args = 0
 1752 0af8 00482DE9 		stmfd	sp!, {fp, lr}
 1753              	.LCFI28:
 1754              		.cfi_def_cfa_offset 8
 1755              		.cfi_offset 11, -8
 1756              		.cfi_offset 14, -4
 1757 0afc 04B08DE2 		add	fp, sp, #4
 1758              	.LCFI29:
 1759              		.cfi_def_cfa 11, 4
 1760 0b00 28D04DE2 		sub	sp, sp, #40
 1761 0b04 0030A0E1 		mov	r3, r0
 1762 0b08 25304BE5 		strb	r3, [fp, #-37]
 583:../cyfxslfifosync.c ****     CyU3PSpiConfig_t spiConfig;
 584:../cyfxslfifosync.c ****     CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 1763              		.loc 1 584 0
 1764 0b0c 0030A0E3 		mov	r3, #0
 1765 0b10 08300BE5 		str	r3, [fp, #-8]
 585:../cyfxslfifosync.c **** 
 586:../cyfxslfifosync.c ****     /* Start the SPI module and configure the master. */
 587:../cyfxslfifosync.c ****     status = CyU3PSpiInit();
 1766              		.loc 1 587 0
 1767 0b14 FEFFFFEB 		bl	CyU3PSpiInit
 1768 0b18 08000BE5 		str	r0, [fp, #-8]
 588:../cyfxslfifosync.c ****     if (status != CY_U3P_SUCCESS)
 1769              		.loc 1 588 0
 1770 0b1c 08301BE5 		ldr	r3, [fp, #-8]
 1771 0b20 000053E3 		cmp	r3, #0
 1772 0b24 0100000A 		beq	.L57
 589:../cyfxslfifosync.c ****     {
 590:../cyfxslfifosync.c ****         return status;
 1773              		.loc 1 590 0
 1774 0b28 08301BE5 		ldr	r3, [fp, #-8]
 1775 0b2c 1C0000EA 		b	.L59
 1776              	.L57:
 591:../cyfxslfifosync.c ****     }
 592:../cyfxslfifosync.c **** 
 593:../cyfxslfifosync.c ****     CyU3PMemSet ((uint8_t *)&spiConfig, 0, sizeof(spiConfig));
 1777              		.loc 1 593 0
 1778 0b30 24304BE2 		sub	r3, fp, #36
 1779 0b34 0300A0E1 		mov	r0, r3
 1780 0b38 0010A0E3 		mov	r1, #0
 1781 0b3c 1C20A0E3 		mov	r2, #28
 1782 0b40 FEFFFFEB 		bl	CyU3PMemSet
 594:../cyfxslfifosync.c ****     spiConfig.isLsbFirst = CyFalse;
 1783              		.loc 1 594 0
 1784 0b44 0030A0E3 		mov	r3, #0
 1785 0b48 24300BE5 		str	r3, [fp, #-36]
 595:../cyfxslfifosync.c ****     spiConfig.cpol       = CyFalse;
 1786              		.loc 1 595 0
 1787 0b4c 0030A0E3 		mov	r3, #0
 1788 0b50 20300BE5 		str	r3, [fp, #-32]
 596:../cyfxslfifosync.c ****     spiConfig.ssnPol     = CyFalse;
 1789              		.loc 1 596 0
 1790 0b54 0030A0E3 		mov	r3, #0
 1791 0b58 18300BE5 		str	r3, [fp, #-24]
 597:../cyfxslfifosync.c ****     spiConfig.cpha       = CyFalse;
 1792              		.loc 1 597 0
 1793 0b5c 0030A0E3 		mov	r3, #0
 1794 0b60 1C300BE5 		str	r3, [fp, #-28]
 598:../cyfxslfifosync.c ****     spiConfig.leadTime   = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 1795              		.loc 1 598 0
 1796 0b64 0130A0E3 		mov	r3, #1
 1797 0b68 13304BE5 		strb	r3, [fp, #-19]
 599:../cyfxslfifosync.c ****     spiConfig.lagTime    = CY_U3P_SPI_SSN_LAG_LEAD_HALF_CLK;
 1798              		.loc 1 599 0
 1799 0b6c 0130A0E3 		mov	r3, #1
 1800 0b70 12304BE5 		strb	r3, [fp, #-18]
 600:../cyfxslfifosync.c ****     spiConfig.ssnCtrl    = CY_U3P_SPI_SSN_CTRL_NONE;
 1801              		.loc 1 600 0
 1802 0b74 0430A0E3 		mov	r3, #4
 1803 0b78 14304BE5 		strb	r3, [fp, #-20]
 601:../cyfxslfifosync.c ****     spiConfig.clock      = 25000000;
 1804              		.loc 1 601 0
 1805 0b7c 2C309FE5 		ldr	r3, .L60
 1806 0b80 10300BE5 		str	r3, [fp, #-16]
 602:../cyfxslfifosync.c ****     spiConfig.wordLen    = wordLen;
 1807              		.loc 1 602 0
 1808 0b84 25305BE5 		ldrb	r3, [fp, #-37]
 1809 0b88 0C304BE5 		strb	r3, [fp, #-12]
 603:../cyfxslfifosync.c **** 
 604:../cyfxslfifosync.c ****     status = CyU3PSpiSetConfig (&spiConfig, NULL);
 1810              		.loc 1 604 0
 1811 0b8c 24304BE2 		sub	r3, fp, #36
 1812 0b90 0300A0E1 		mov	r0, r3
 1813 0b94 0010A0E3 		mov	r1, #0
 1814 0b98 FEFFFFEB 		bl	CyU3PSpiSetConfig
 1815 0b9c 08000BE5 		str	r0, [fp, #-8]
 605:../cyfxslfifosync.c **** 
 606:../cyfxslfifosync.c ****     return status;
 1816              		.loc 1 606 0
 1817 0ba0 08301BE5 		ldr	r3, [fp, #-8]
 1818              	.L59:
 607:../cyfxslfifosync.c **** }
 1819              		.loc 1 607 0
 1820 0ba4 0300A0E1 		mov	r0, r3
 1821 0ba8 04D04BE2 		sub	sp, fp, #4
 1822              		@ sp needed
 1823 0bac 0088BDE8 		ldmfd	sp!, {fp, pc}
 1824              	.L61:
 1825              		.align	2
 1826              	.L60:
 1827 0bb0 40787D01 		.word	25000000
 1828              		.cfi_endproc
 1829              	.LFE14:
 1831              		.align	2
 1832              		.global	CyFxAppErrorHandler
 1834              	CyFxAppErrorHandler:
 1835              	.LFB15:
 608:../cyfxslfifosync.c **** 
 609:../cyfxslfifosync.c **** /* Application Error Handler */
 610:../cyfxslfifosync.c **** void
 611:../cyfxslfifosync.c **** CyFxAppErrorHandler (
 612:../cyfxslfifosync.c ****         CyU3PReturnStatus_t apiRetStatus    /* API return status */
 613:../cyfxslfifosync.c ****         )
 614:../cyfxslfifosync.c **** {
 1836              		.loc 1 614 0
 1837              		.cfi_startproc
 1838              		@ args = 0, pretend = 0, frame = 8
 1839              		@ frame_needed = 1, uses_anonymous_args = 0
 1840 0bb4 00482DE9 		stmfd	sp!, {fp, lr}
 1841              	.LCFI30:
 1842              		.cfi_def_cfa_offset 8
 1843              		.cfi_offset 11, -8
 1844              		.cfi_offset 14, -4
 1845 0bb8 04B08DE2 		add	fp, sp, #4
 1846              	.LCFI31:
 1847              		.cfi_def_cfa 11, 4
 1848 0bbc 08D04DE2 		sub	sp, sp, #8
 1849 0bc0 08000BE5 		str	r0, [fp, #-8]
 1850              	.L63:
 615:../cyfxslfifosync.c ****     /* Application failed with the error code apiRetStatus */
 616:../cyfxslfifosync.c **** 
 617:../cyfxslfifosync.c ****     /* Add custom debug or recovery actions here */
 618:../cyfxslfifosync.c **** 
 619:../cyfxslfifosync.c ****     /* Loop Indefinitely */
 620:../cyfxslfifosync.c ****     for (;;)
 621:../cyfxslfifosync.c ****     {
 622:../cyfxslfifosync.c ****         /* Thread sleep : 100 ms */
 623:../cyfxslfifosync.c ****         CyU3PThreadSleep (100);
 1851              		.loc 1 623 0 discriminator 1
 1852 0bc4 6400A0E3 		mov	r0, #100
 1853 0bc8 FEFFFFEB 		bl	_tx_thread_sleep
 624:../cyfxslfifosync.c ****     }
 1854              		.loc 1 624 0 discriminator 1
 1855 0bcc FCFFFFEA 		b	.L63
 1856              		.cfi_endproc
 1857              	.LFE15:
 1859              		.align	2
 1860              		.global	CyFxI2cInit
 1862              	CyFxI2cInit:
 1863              	.LFB16:
 625:../cyfxslfifosync.c **** }
 626:../cyfxslfifosync.c **** 
 627:../cyfxslfifosync.c **** 
 628:../cyfxslfifosync.c **** /* I2c initialization . */
 629:../cyfxslfifosync.c **** CyU3PReturnStatus_t
 630:../cyfxslfifosync.c **** CyFxI2cInit ()
 631:../cyfxslfifosync.c **** {
 1864              		.loc 1 631 0
 1865              		.cfi_startproc
 1866              		@ args = 0, pretend = 0, frame = 24
 1867              		@ frame_needed = 1, uses_anonymous_args = 0
 1868 0bd0 00482DE9 		stmfd	sp!, {fp, lr}
 1869              	.LCFI32:
 1870              		.cfi_def_cfa_offset 8
 1871              		.cfi_offset 11, -8
 1872              		.cfi_offset 14, -4
 1873 0bd4 04B08DE2 		add	fp, sp, #4
 1874              	.LCFI33:
 1875              		.cfi_def_cfa 11, 4
 1876 0bd8 18D04DE2 		sub	sp, sp, #24
 632:../cyfxslfifosync.c ****     CyU3PI2cConfig_t i2cConfig;
 633:../cyfxslfifosync.c ****     CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 1877              		.loc 1 633 0
 1878 0bdc 0030A0E3 		mov	r3, #0
 1879 0be0 08300BE5 		str	r3, [fp, #-8]
 634:../cyfxslfifosync.c **** 
 635:../cyfxslfifosync.c ****     /* Initialize and configure the I2C master module. */
 636:../cyfxslfifosync.c ****     status = CyU3PI2cInit ();
 1880              		.loc 1 636 0
 1881 0be4 FEFFFFEB 		bl	CyU3PI2cInit
 1882 0be8 08000BE5 		str	r0, [fp, #-8]
 637:../cyfxslfifosync.c ****     if (status != CY_U3P_SUCCESS)
 1883              		.loc 1 637 0
 1884 0bec 08301BE5 		ldr	r3, [fp, #-8]
 1885 0bf0 000053E3 		cmp	r3, #0
 1886 0bf4 0100000A 		beq	.L65
 638:../cyfxslfifosync.c ****     {
 639:../cyfxslfifosync.c ****         return status;
 1887              		.loc 1 639 0
 1888 0bf8 08301BE5 		ldr	r3, [fp, #-8]
 1889 0bfc 120000EA 		b	.L67
 1890              	.L65:
 640:../cyfxslfifosync.c ****     }
 641:../cyfxslfifosync.c **** 
 642:../cyfxslfifosync.c ****     /* Start the I2C master block. The bit rate is set at 100KHz.
 643:../cyfxslfifosync.c ****      * The data transfer is done via DMA. */
 644:../cyfxslfifosync.c ****     CyU3PMemSet ((uint8_t *)&i2cConfig, 0, sizeof(i2cConfig));
 1891              		.loc 1 644 0
 1892 0c00 18304BE2 		sub	r3, fp, #24
 1893 0c04 0300A0E1 		mov	r0, r3
 1894 0c08 0010A0E3 		mov	r1, #0
 1895 0c0c 1020A0E3 		mov	r2, #16
 1896 0c10 FEFFFFEB 		bl	CyU3PMemSet
 645:../cyfxslfifosync.c ****     i2cConfig.bitRate    = 400000;//400 kHz
 1897              		.loc 1 645 0
 1898 0c14 3C309FE5 		ldr	r3, .L68
 1899 0c18 18300BE5 		str	r3, [fp, #-24]
 646:../cyfxslfifosync.c ****     i2cConfig.busTimeout = 0xFFFFFFFF;
 1900              		.loc 1 646 0
 1901 0c1c 0030E0E3 		mvn	r3, #0
 1902 0c20 10300BE5 		str	r3, [fp, #-16]
 647:../cyfxslfifosync.c ****     i2cConfig.dmaTimeout = 0xFFFF;
 1903              		.loc 1 647 0
 1904 0c24 0030E0E3 		mvn	r3, #0
 1905 0c28 BC304BE1 		strh	r3, [fp, #-12]	@ movhi
 648:../cyfxslfifosync.c ****     i2cConfig.isDma      = CyFalse;
 1906              		.loc 1 648 0
 1907 0c2c 0030A0E3 		mov	r3, #0
 1908 0c30 14300BE5 		str	r3, [fp, #-20]
 649:../cyfxslfifosync.c **** 
 650:../cyfxslfifosync.c ****     status = CyU3PI2cSetConfig (&i2cConfig, NULL);
 1909              		.loc 1 650 0
 1910 0c34 18304BE2 		sub	r3, fp, #24
 1911 0c38 0300A0E1 		mov	r0, r3
 1912 0c3c 0010A0E3 		mov	r1, #0
 1913 0c40 FEFFFFEB 		bl	CyU3PI2cSetConfig
 1914 0c44 08000BE5 		str	r0, [fp, #-8]
 651:../cyfxslfifosync.c ****     return status;
 1915              		.loc 1 651 0
 1916 0c48 08301BE5 		ldr	r3, [fp, #-8]
 1917              	.L67:
 652:../cyfxslfifosync.c **** }
 1918              		.loc 1 652 0
 1919 0c4c 0300A0E1 		mov	r0, r3
 1920 0c50 04D04BE2 		sub	sp, fp, #4
 1921              		@ sp needed
 1922 0c54 0088BDE8 		ldmfd	sp!, {fp, pc}
 1923              	.L69:
 1924              		.align	2
 1925              	.L68:
 1926 0c58 801A0600 		.word	400000
 1927              		.cfi_endproc
 1928              	.LFE16:
 1930              		.align	2
 1931              		.global	CyFxSlFifoApplnStart
 1933              	CyFxSlFifoApplnStart:
 1934              	.LFB17:
 653:../cyfxslfifosync.c **** 
 654:../cyfxslfifosync.c **** /* This function starts the slave FIFO loop application. This is called
 655:../cyfxslfifosync.c ****  * when a SET_CONF event is received from the USB host. The endpoints
 656:../cyfxslfifosync.c ****  * are configured and the DMA pipe is setup in this function. */
 657:../cyfxslfifosync.c **** void
 658:../cyfxslfifosync.c **** CyFxSlFifoApplnStart (
 659:../cyfxslfifosync.c ****         void)
 660:../cyfxslfifosync.c **** {
 1935              		.loc 1 660 0
 1936              		.cfi_startproc
 1937              		@ args = 0, pretend = 0, frame = 56
 1938              		@ frame_needed = 1, uses_anonymous_args = 0
 1939 0c5c 00482DE9 		stmfd	sp!, {fp, lr}
 1940              	.LCFI34:
 1941              		.cfi_def_cfa_offset 8
 1942              		.cfi_offset 11, -8
 1943              		.cfi_offset 14, -4
 1944 0c60 04B08DE2 		add	fp, sp, #4
 1945              	.LCFI35:
 1946              		.cfi_def_cfa 11, 4
 1947 0c64 38D04DE2 		sub	sp, sp, #56
 661:../cyfxslfifosync.c ****     uint16_t size = 0;
 1948              		.loc 1 661 0
 1949 0c68 0030A0E3 		mov	r3, #0
 1950 0c6c B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 662:../cyfxslfifosync.c ****     CyU3PEpConfig_t epCfg;
 663:../cyfxslfifosync.c ****     CyU3PDmaChannelConfig_t dmaCfg;
 664:../cyfxslfifosync.c ****     CyU3PReturnStatus_t apiRetStatus = CY_U3P_SUCCESS;
 1951              		.loc 1 664 0
 1952 0c70 0030A0E3 		mov	r3, #0
 1953 0c74 0C300BE5 		str	r3, [fp, #-12]
 665:../cyfxslfifosync.c ****     CyU3PUSBSpeed_t usbSpeed = CyU3PUsbGetSpeed();
 1954              		.loc 1 665 0
 1955 0c78 FEFFFFEB 		bl	CyU3PUsbGetSpeed
 1956 0c7c 0030A0E1 		mov	r3, r0
 1957 0c80 0D304BE5 		strb	r3, [fp, #-13]
 666:../cyfxslfifosync.c **** 
 667:../cyfxslfifosync.c ****     /* First identify the usb speed. Once that is identified,
 668:../cyfxslfifosync.c ****      * create a DMA channel and start the transfer on this. */
 669:../cyfxslfifosync.c **** 
 670:../cyfxslfifosync.c ****     /* Based on the Bus Speed configure the endpoint packet size */
 671:../cyfxslfifosync.c ****     switch (usbSpeed)
 1958              		.loc 1 671 0
 1959 0c84 0D305BE5 		ldrb	r3, [fp, #-13]	@ zero_extendqisi2
 1960 0c88 020053E3 		cmp	r3, #2
 1961 0c8c 0600000A 		beq	.L72
 1962 0c90 030053E3 		cmp	r3, #3
 1963 0c94 0A00000A 		beq	.L73
 1964 0c98 010053E3 		cmp	r3, #1
 1965 0c9c 0E00001A 		bne	.L82
 672:../cyfxslfifosync.c ****     {
 673:../cyfxslfifosync.c ****         case CY_U3P_FULL_SPEED:
 674:../cyfxslfifosync.c ****             size = 64;
 1966              		.loc 1 674 0
 1967 0ca0 4030A0E3 		mov	r3, #64
 1968 0ca4 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 675:../cyfxslfifosync.c ****             break;
 1969              		.loc 1 675 0
 1970 0ca8 0E0000EA 		b	.L75
 1971              	.L72:
 676:../cyfxslfifosync.c **** 
 677:../cyfxslfifosync.c ****         case CY_U3P_HIGH_SPEED:
 678:../cyfxslfifosync.c ****             size = 512;
 1972              		.loc 1 678 0
 1973 0cac 023CA0E3 		mov	r3, #512
 1974 0cb0 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 679:../cyfxslfifosync.c ****             burstLength=1;
 1975              		.loc 1 679 0
 1976 0cb4 08329FE5 		ldr	r3, .L83
 1977 0cb8 0120A0E3 		mov	r2, #1
 1978 0cbc 0020C3E5 		strb	r2, [r3]
 680:../cyfxslfifosync.c **** 
 681:../cyfxslfifosync.c ****             break;
 1979              		.loc 1 681 0
 1980 0cc0 080000EA 		b	.L75
 1981              	.L73:
 682:../cyfxslfifosync.c **** 
 683:../cyfxslfifosync.c ****         case  CY_U3P_SUPER_SPEED:
 684:../cyfxslfifosync.c ****             size = 1024;
 1982              		.loc 1 684 0
 1983 0cc4 013BA0E3 		mov	r3, #1024
 1984 0cc8 B6304BE1 		strh	r3, [fp, #-6]	@ movhi
 685:../cyfxslfifosync.c ****             burstLength=16;
 1985              		.loc 1 685 0
 1986 0ccc F0319FE5 		ldr	r3, .L83
 1987 0cd0 1020A0E3 		mov	r2, #16
 1988 0cd4 0020C3E5 		strb	r2, [r3]
 686:../cyfxslfifosync.c ****             break;
 1989              		.loc 1 686 0
 1990 0cd8 020000EA 		b	.L75
 1991              	.L82:
 687:../cyfxslfifosync.c **** 
 688:../cyfxslfifosync.c ****         default:
 689:../cyfxslfifosync.c ****             //CyU3PDebugPrint (4, "Error! Invalid USB speed.\n");
 690:../cyfxslfifosync.c ****             CyFxAppErrorHandler (CY_U3P_ERROR_FAILURE);
 1992              		.loc 1 690 0
 1993 0cdc 4A00A0E3 		mov	r0, #74
 1994 0ce0 FEFFFFEB 		bl	CyFxAppErrorHandler
 691:../cyfxslfifosync.c ****             break;
 1995              		.loc 1 691 0
 1996 0ce4 0000A0E1 		mov	r0, r0	@ nop
 1997              	.L75:
 692:../cyfxslfifosync.c ****     }
 693:../cyfxslfifosync.c **** 
 694:../cyfxslfifosync.c ****     CyU3PMemSet ((uint8_t *)&epCfg, 0, sizeof (epCfg));
 1998              		.loc 1 694 0
 1999 0ce8 1C304BE2 		sub	r3, fp, #28
 2000 0cec 0300A0E1 		mov	r0, r3
 2001 0cf0 0010A0E3 		mov	r1, #0
 2002 0cf4 0C20A0E3 		mov	r2, #12
 2003 0cf8 FEFFFFEB 		bl	CyU3PMemSet
 695:../cyfxslfifosync.c ****     epCfg.enable = CyTrue;
 2004              		.loc 1 695 0
 2005 0cfc 0130A0E3 		mov	r3, #1
 2006 0d00 1C300BE5 		str	r3, [fp, #-28]
 696:../cyfxslfifosync.c ****     epCfg.epType = CY_U3P_USB_EP_BULK;
 2007              		.loc 1 696 0
 2008 0d04 0230A0E3 		mov	r3, #2
 2009 0d08 18304BE5 		strb	r3, [fp, #-24]
 697:../cyfxslfifosync.c **** #ifdef STREAM_IN_OUT
 698:../cyfxslfifosync.c ****     epCfg.burstLen = burstLength;
 699:../cyfxslfifosync.c **** #else
 700:../cyfxslfifosync.c ****     epCfg.burstLen = BURST_LEN;
 2010              		.loc 1 700 0
 2011 0d0c 0130A0E3 		mov	r3, #1
 2012 0d10 12304BE5 		strb	r3, [fp, #-18]
 701:../cyfxslfifosync.c **** #endif
 702:../cyfxslfifosync.c ****     epCfg.streams = 0;
 2013              		.loc 1 702 0
 2014 0d14 0030A0E3 		mov	r3, #0
 2015 0d18 B6314BE1 		strh	r3, [fp, #-22]	@ movhi
 703:../cyfxslfifosync.c ****     epCfg.pcktSize = size;
 2016              		.loc 1 703 0
 2017 0d1c B6305BE1 		ldrh	r3, [fp, #-6]	@ movhi
 2018 0d20 B4314BE1 		strh	r3, [fp, #-20]	@ movhi
 704:../cyfxslfifosync.c **** 
 705:../cyfxslfifosync.c ****     /* Producer endpoint configuration */
 706:../cyfxslfifosync.c ****     apiRetStatus = CyU3PSetEpConfig(CY_FX_EP_PRODUCER, &epCfg);
 2019              		.loc 1 706 0
 2020 0d24 1C304BE2 		sub	r3, fp, #28
 2021 0d28 0100A0E3 		mov	r0, #1
 2022 0d2c 0310A0E1 		mov	r1, r3
 2023 0d30 FEFFFFEB 		bl	CyU3PSetEpConfig
 2024 0d34 0C000BE5 		str	r0, [fp, #-12]
 707:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 2025              		.loc 1 707 0
 2026 0d38 0C301BE5 		ldr	r3, [fp, #-12]
 2027 0d3c 000053E3 		cmp	r3, #0
 2028 0d40 0100000A 		beq	.L76
 708:../cyfxslfifosync.c ****     {
 709:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CyU3PSetEpConfig failed, Error code = %d\n", apiRetStatus);
 710:../cyfxslfifosync.c ****         CyFxAppErrorHandler (apiRetStatus);
 2029              		.loc 1 710 0
 2030 0d44 0C001BE5 		ldr	r0, [fp, #-12]
 2031 0d48 FEFFFFEB 		bl	CyFxAppErrorHandler
 2032              	.L76:
 711:../cyfxslfifosync.c ****     }
 712:../cyfxslfifosync.c **** 
 713:../cyfxslfifosync.c ****     /* Consumer endpoint configuration */
 714:../cyfxslfifosync.c ****     apiRetStatus = CyU3PSetEpConfig(CY_FX_EP_CONSUMER, &epCfg);
 2033              		.loc 1 714 0
 2034 0d4c 1C304BE2 		sub	r3, fp, #28
 2035 0d50 8100A0E3 		mov	r0, #129
 2036 0d54 0310A0E1 		mov	r1, r3
 2037 0d58 FEFFFFEB 		bl	CyU3PSetEpConfig
 2038 0d5c 0C000BE5 		str	r0, [fp, #-12]
 715:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 2039              		.loc 1 715 0
 2040 0d60 0C301BE5 		ldr	r3, [fp, #-12]
 2041 0d64 000053E3 		cmp	r3, #0
 2042 0d68 0100000A 		beq	.L77
 716:../cyfxslfifosync.c ****     {
 717:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CyU3PSetEpConfig failed, Error code = %d\n", apiRetStatus);
 718:../cyfxslfifosync.c ****         CyFxAppErrorHandler (apiRetStatus);
 2043              		.loc 1 718 0
 2044 0d6c 0C001BE5 		ldr	r0, [fp, #-12]
 2045 0d70 FEFFFFEB 		bl	CyFxAppErrorHandler
 2046              	.L77:
 719:../cyfxslfifosync.c ****     }
 720:../cyfxslfifosync.c **** 
 721:../cyfxslfifosync.c ****     /* Create a DMA AUTO channel for U2P transfer.
 722:../cyfxslfifosync.c ****         * DMA size is set based on the USB speed. */
 723:../cyfxslfifosync.c **** 
 724:../cyfxslfifosync.c **** 	dmaCfg.size  = DMA_BUF_SIZE* size;
 2047              		.loc 1 724 0
 2048 0d74 B6305BE1 		ldrh	r3, [fp, #-6]	@ movhi
 2049 0d78 B8334BE1 		strh	r3, [fp, #-56]	@ movhi
 725:../cyfxslfifosync.c **** 	dmaCfg.count = CY_FX_SLFIFO_DMA_BUF_COUNT_U_2_P;
 2050              		.loc 1 725 0
 2051 0d7c 0230A0E3 		mov	r3, #2
 2052 0d80 B6334BE1 		strh	r3, [fp, #-54]	@ movhi
 726:../cyfxslfifosync.c **** 	dmaCfg.prodSckId = CY_FX_PRODUCER_USB_SOCKET;
 2053              		.loc 1 726 0
 2054 0d84 3C319FE5 		ldr	r3, .L83+4
 2055 0d88 B4334BE1 		strh	r3, [fp, #-52]	@ movhi
 727:../cyfxslfifosync.c **** 	dmaCfg.consSckId = CY_FX_CONSUMER_PPORT_SOCKET;
 2056              		.loc 1 727 0
 2057 0d8c 38319FE5 		ldr	r3, .L83+8
 2058 0d90 B2334BE1 		strh	r3, [fp, #-50]	@ movhi
 728:../cyfxslfifosync.c **** 	dmaCfg.dmaMode = CY_U3P_DMA_MODE_BYTE;
 2059              		.loc 1 728 0
 2060 0d94 0030A0E3 		mov	r3, #0
 2061 0d98 28304BE5 		strb	r3, [fp, #-40]
 729:../cyfxslfifosync.c **** 	/* Enabling the callback for produce event. */
 730:../cyfxslfifosync.c **** 	dmaCfg.notification = 0;
 2062              		.loc 1 730 0
 2063 0d9c 0030A0E3 		mov	r3, #0
 2064 0da0 24300BE5 		str	r3, [fp, #-36]
 731:../cyfxslfifosync.c **** 	dmaCfg.cb = NULL;
 2065              		.loc 1 731 0
 2066 0da4 0030A0E3 		mov	r3, #0
 2067 0da8 20300BE5 		str	r3, [fp, #-32]
 732:../cyfxslfifosync.c **** 	dmaCfg.prodHeader = 0;
 2068              		.loc 1 732 0
 2069 0dac 0030A0E3 		mov	r3, #0
 2070 0db0 BE324BE1 		strh	r3, [fp, #-46]	@ movhi
 733:../cyfxslfifosync.c **** 	dmaCfg.prodFooter = 0;
 2071              		.loc 1 733 0
 2072 0db4 0030A0E3 		mov	r3, #0
 2073 0db8 BC324BE1 		strh	r3, [fp, #-44]	@ movhi
 734:../cyfxslfifosync.c **** 	dmaCfg.consHeader = 0;
 2074              		.loc 1 734 0
 2075 0dbc 0030A0E3 		mov	r3, #0
 2076 0dc0 BA324BE1 		strh	r3, [fp, #-42]	@ movhi
 735:../cyfxslfifosync.c **** 	dmaCfg.prodAvailCount = 0;
 2077              		.loc 1 735 0
 2078 0dc4 0030A0E3 		mov	r3, #0
 2079 0dc8 B0334BE1 		strh	r3, [fp, #-48]	@ movhi
 736:../cyfxslfifosync.c **** 
 737:../cyfxslfifosync.c **** 	apiRetStatus = CyU3PDmaChannelCreate (&glChHandleSlFifoUtoP,
 2080              		.loc 1 737 0
 2081 0dcc 38304BE2 		sub	r3, fp, #56
 2082 0dd0 F8009FE5 		ldr	r0, .L83+12
 2083 0dd4 0010A0E3 		mov	r1, #0
 2084 0dd8 0320A0E1 		mov	r2, r3
 2085 0ddc FEFFFFEB 		bl	CyU3PDmaChannelCreate
 2086 0de0 0C000BE5 		str	r0, [fp, #-12]
 738:../cyfxslfifosync.c **** 		   CY_U3P_DMA_TYPE_AUTO, &dmaCfg);
 739:../cyfxslfifosync.c **** 	if (apiRetStatus != CY_U3P_SUCCESS)
 2087              		.loc 1 739 0
 2088 0de4 0C301BE5 		ldr	r3, [fp, #-12]
 2089 0de8 000053E3 		cmp	r3, #0
 2090 0dec 0100000A 		beq	.L78
 740:../cyfxslfifosync.c **** 	{
 741:../cyfxslfifosync.c **** 	   //CyU3PDebugPrint (4, "CyU3PDmaChannelCreate failed, Error code = %d\n", apiRetStatus);
 742:../cyfxslfifosync.c **** 	   CyFxAppErrorHandler(apiRetStatus);
 2091              		.loc 1 742 0
 2092 0df0 0C001BE5 		ldr	r0, [fp, #-12]
 2093 0df4 FEFFFFEB 		bl	CyFxAppErrorHandler
 2094              	.L78:
 743:../cyfxslfifosync.c **** 	}
 744:../cyfxslfifosync.c **** 
 745:../cyfxslfifosync.c **** 	/* Create a DMA AUTO channel for P2U transfer. */
 746:../cyfxslfifosync.c **** 	dmaCfg.size  = DMA_BUF_SIZE*size; //increase buffer size for higher performance
 2095              		.loc 1 746 0
 2096 0df8 B6305BE1 		ldrh	r3, [fp, #-6]	@ movhi
 2097 0dfc B8334BE1 		strh	r3, [fp, #-56]	@ movhi
 747:../cyfxslfifosync.c **** 	dmaCfg.count = CY_FX_SLFIFO_DMA_BUF_COUNT_P_2_U; // increase buffer count for higher performance
 2098              		.loc 1 747 0
 2099 0e00 0230A0E3 		mov	r3, #2
 2100 0e04 B6334BE1 		strh	r3, [fp, #-54]	@ movhi
 748:../cyfxslfifosync.c **** 	dmaCfg.prodSckId = CY_FX_PRODUCER_PPORT_SOCKET;
 2101              		.loc 1 748 0
 2102 0e08 013CA0E3 		mov	r3, #256
 2103 0e0c B4334BE1 		strh	r3, [fp, #-52]	@ movhi
 749:../cyfxslfifosync.c **** 	dmaCfg.consSckId = CY_FX_CONSUMER_USB_SOCKET;
 2104              		.loc 1 749 0
 2105 0e10 BC309FE5 		ldr	r3, .L83+16
 2106 0e14 B2334BE1 		strh	r3, [fp, #-50]	@ movhi
 750:../cyfxslfifosync.c **** 	dmaCfg.cb = NULL;
 2107              		.loc 1 750 0
 2108 0e18 0030A0E3 		mov	r3, #0
 2109 0e1c 20300BE5 		str	r3, [fp, #-32]
 751:../cyfxslfifosync.c **** 	apiRetStatus = CyU3PDmaChannelCreate (&glChHandleSlFifoPtoU,
 2110              		.loc 1 751 0
 2111 0e20 38304BE2 		sub	r3, fp, #56
 2112 0e24 AC009FE5 		ldr	r0, .L83+20
 2113 0e28 0010A0E3 		mov	r1, #0
 2114 0e2c 0320A0E1 		mov	r2, r3
 2115 0e30 FEFFFFEB 		bl	CyU3PDmaChannelCreate
 2116 0e34 0C000BE5 		str	r0, [fp, #-12]
 752:../cyfxslfifosync.c **** 		   CY_U3P_DMA_TYPE_AUTO, &dmaCfg);
 753:../cyfxslfifosync.c **** 
 754:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 2117              		.loc 1 754 0
 2118 0e38 0C301BE5 		ldr	r3, [fp, #-12]
 2119 0e3c 000053E3 		cmp	r3, #0
 2120 0e40 0100000A 		beq	.L79
 755:../cyfxslfifosync.c ****     {
 756:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CyU3PDmaChannelCreate failed, Error code = %d\n", apiRetStatus);
 757:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 2121              		.loc 1 757 0
 2122 0e44 0C001BE5 		ldr	r0, [fp, #-12]
 2123 0e48 FEFFFFEB 		bl	CyFxAppErrorHandler
 2124              	.L79:
 758:../cyfxslfifosync.c ****     }
 759:../cyfxslfifosync.c **** 
 760:../cyfxslfifosync.c ****     /* Flush the Endpoint memory */
 761:../cyfxslfifosync.c ****     CyU3PUsbFlushEp(CY_FX_EP_PRODUCER);
 2125              		.loc 1 761 0
 2126 0e4c 0100A0E3 		mov	r0, #1
 2127 0e50 FEFFFFEB 		bl	CyU3PUsbFlushEp
 762:../cyfxslfifosync.c ****     CyU3PUsbFlushEp(CY_FX_EP_CONSUMER);
 2128              		.loc 1 762 0
 2129 0e54 8100A0E3 		mov	r0, #129
 2130 0e58 FEFFFFEB 		bl	CyU3PUsbFlushEp
 763:../cyfxslfifosync.c **** 
 764:../cyfxslfifosync.c ****     /* Set DMA channel transfer size. */
 765:../cyfxslfifosync.c ****     apiRetStatus = CyU3PDmaChannelSetXfer (&glChHandleSlFifoUtoP, CY_FX_SLFIFO_DMA_TX_SIZE);
 2131              		.loc 1 765 0
 2132 0e5c 6C009FE5 		ldr	r0, .L83+12
 2133 0e60 0010A0E3 		mov	r1, #0
 2134 0e64 FEFFFFEB 		bl	CyU3PDmaChannelSetXfer
 2135 0e68 0C000BE5 		str	r0, [fp, #-12]
 766:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 2136              		.loc 1 766 0
 2137 0e6c 0C301BE5 		ldr	r3, [fp, #-12]
 2138 0e70 000053E3 		cmp	r3, #0
 2139 0e74 0100000A 		beq	.L80
 767:../cyfxslfifosync.c ****     {
 768:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CyU3PDmaChannelSetXfer Failed, Error code = %d\n", apiRetStatus);
 769:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 2140              		.loc 1 769 0
 2141 0e78 0C001BE5 		ldr	r0, [fp, #-12]
 2142 0e7c FEFFFFEB 		bl	CyFxAppErrorHandler
 2143              	.L80:
 770:../cyfxslfifosync.c ****     }
 771:../cyfxslfifosync.c ****     apiRetStatus = CyU3PDmaChannelSetXfer (&glChHandleSlFifoPtoU, CY_FX_SLFIFO_DMA_RX_SIZE);
 2144              		.loc 1 771 0
 2145 0e80 50009FE5 		ldr	r0, .L83+20
 2146 0e84 0010A0E3 		mov	r1, #0
 2147 0e88 FEFFFFEB 		bl	CyU3PDmaChannelSetXfer
 2148 0e8c 0C000BE5 		str	r0, [fp, #-12]
 772:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 2149              		.loc 1 772 0
 2150 0e90 0C301BE5 		ldr	r3, [fp, #-12]
 2151 0e94 000053E3 		cmp	r3, #0
 2152 0e98 0100000A 		beq	.L81
 773:../cyfxslfifosync.c ****     {
 774:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CyU3PDmaChannelSetXfer Failed, Error code = %d\n", apiRetStatus);
 775:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 2153              		.loc 1 775 0
 2154 0e9c 0C001BE5 		ldr	r0, [fp, #-12]
 2155 0ea0 FEFFFFEB 		bl	CyFxAppErrorHandler
 2156              	.L81:
 776:../cyfxslfifosync.c ****     }
 777:../cyfxslfifosync.c **** 
 778:../cyfxslfifosync.c ****     /* Update the status flag. */
 779:../cyfxslfifosync.c ****     glIsApplnActive = CyTrue;
 2157              		.loc 1 779 0
 2158 0ea4 30309FE5 		ldr	r3, .L83+24
 2159 0ea8 0120A0E3 		mov	r2, #1
 2160 0eac 002083E5 		str	r2, [r3]
 780:../cyfxslfifosync.c ****     CyU3PGpioSetValue (59, CyFalse);
 2161              		.loc 1 780 0
 2162 0eb0 3B00A0E3 		mov	r0, #59
 2163 0eb4 0010A0E3 		mov	r1, #0
 2164 0eb8 FEFFFFEB 		bl	CyU3PGpioSetValue
 781:../cyfxslfifosync.c **** }
 2165              		.loc 1 781 0
 2166 0ebc 04D04BE2 		sub	sp, fp, #4
 2167              		@ sp needed
 2168 0ec0 0088BDE8 		ldmfd	sp!, {fp, pc}
 2169              	.L84:
 2170              		.align	2
 2171              	.L83:
 2172 0ec4 00000000 		.word	burstLength
 2173 0ec8 01040000 		.word	1025
 2174 0ecc 03010000 		.word	259
 2175 0ed0 00000000 		.word	glChHandleSlFifoUtoP
 2176 0ed4 01030000 		.word	769
 2177 0ed8 00000000 		.word	glChHandleSlFifoPtoU
 2178 0edc 00000000 		.word	glIsApplnActive
 2179              		.cfi_endproc
 2180              	.LFE17:
 2182              		.align	2
 2183              		.global	CyFxSlFifoApplnStop
 2185              	CyFxSlFifoApplnStop:
 2186              	.LFB18:
 782:../cyfxslfifosync.c **** 
 783:../cyfxslfifosync.c **** /* This function stops the slave FIFO loop application. This shall be called
 784:../cyfxslfifosync.c ****  * whenever a RESET or DISCONNECT event is received from the USB host. The
 785:../cyfxslfifosync.c ****  * endpoints are disabled and the DMA pipe is destroyed by this function. */
 786:../cyfxslfifosync.c **** void
 787:../cyfxslfifosync.c **** CyFxSlFifoApplnStop (
 788:../cyfxslfifosync.c ****         void)
 789:../cyfxslfifosync.c **** {
 2187              		.loc 1 789 0
 2188              		.cfi_startproc
 2189              		@ args = 0, pretend = 0, frame = 16
 2190              		@ frame_needed = 1, uses_anonymous_args = 0
 2191 0ee0 00482DE9 		stmfd	sp!, {fp, lr}
 2192              	.LCFI36:
 2193              		.cfi_def_cfa_offset 8
 2194              		.cfi_offset 11, -8
 2195              		.cfi_offset 14, -4
 2196 0ee4 04B08DE2 		add	fp, sp, #4
 2197              	.LCFI37:
 2198              		.cfi_def_cfa 11, 4
 2199 0ee8 10D04DE2 		sub	sp, sp, #16
 790:../cyfxslfifosync.c ****     CyU3PEpConfig_t epCfg;
 791:../cyfxslfifosync.c ****     CyU3PReturnStatus_t apiRetStatus = CY_U3P_SUCCESS;
 2200              		.loc 1 791 0
 2201 0eec 0030A0E3 		mov	r3, #0
 2202 0ef0 08300BE5 		str	r3, [fp, #-8]
 792:../cyfxslfifosync.c **** 
 793:../cyfxslfifosync.c ****     /* Update the flag. */
 794:../cyfxslfifosync.c ****     glIsApplnActive = CyFalse;
 2203              		.loc 1 794 0
 2204 0ef4 98309FE5 		ldr	r3, .L88
 2205 0ef8 0020A0E3 		mov	r2, #0
 2206 0efc 002083E5 		str	r2, [r3]
 795:../cyfxslfifosync.c **** 
 796:../cyfxslfifosync.c ****     /* Flush the endpoint memory */
 797:../cyfxslfifosync.c ****     CyU3PUsbFlushEp(CY_FX_EP_PRODUCER);
 2207              		.loc 1 797 0
 2208 0f00 0100A0E3 		mov	r0, #1
 2209 0f04 FEFFFFEB 		bl	CyU3PUsbFlushEp
 798:../cyfxslfifosync.c ****     CyU3PUsbFlushEp(CY_FX_EP_CONSUMER);
 2210              		.loc 1 798 0
 2211 0f08 8100A0E3 		mov	r0, #129
 2212 0f0c FEFFFFEB 		bl	CyU3PUsbFlushEp
 799:../cyfxslfifosync.c **** 
 800:../cyfxslfifosync.c ****     /* Destroy the channel */
 801:../cyfxslfifosync.c ****     CyU3PDmaChannelDestroy (&glChHandleSlFifoUtoP);
 2213              		.loc 1 801 0
 2214 0f10 80009FE5 		ldr	r0, .L88+4
 2215 0f14 FEFFFFEB 		bl	CyU3PDmaChannelDestroy
 802:../cyfxslfifosync.c ****     CyU3PDmaChannelDestroy (&glChHandleSlFifoPtoU);
 2216              		.loc 1 802 0
 2217 0f18 7C009FE5 		ldr	r0, .L88+8
 2218 0f1c FEFFFFEB 		bl	CyU3PDmaChannelDestroy
 803:../cyfxslfifosync.c **** 
 804:../cyfxslfifosync.c ****     /* Disable endpoints. */
 805:../cyfxslfifosync.c ****     CyU3PMemSet ((uint8_t *)&epCfg, 0, sizeof (epCfg));
 2219              		.loc 1 805 0
 2220 0f20 14304BE2 		sub	r3, fp, #20
 2221 0f24 0300A0E1 		mov	r0, r3
 2222 0f28 0010A0E3 		mov	r1, #0
 2223 0f2c 0C20A0E3 		mov	r2, #12
 2224 0f30 FEFFFFEB 		bl	CyU3PMemSet
 806:../cyfxslfifosync.c ****     epCfg.enable = CyFalse;
 2225              		.loc 1 806 0
 2226 0f34 0030A0E3 		mov	r3, #0
 2227 0f38 14300BE5 		str	r3, [fp, #-20]
 807:../cyfxslfifosync.c **** 
 808:../cyfxslfifosync.c ****     /* Producer endpoint configuration. */
 809:../cyfxslfifosync.c ****     apiRetStatus = CyU3PSetEpConfig(CY_FX_EP_PRODUCER, &epCfg);
 2228              		.loc 1 809 0
 2229 0f3c 14304BE2 		sub	r3, fp, #20
 2230 0f40 0100A0E3 		mov	r0, #1
 2231 0f44 0310A0E1 		mov	r1, r3
 2232 0f48 FEFFFFEB 		bl	CyU3PSetEpConfig
 2233 0f4c 08000BE5 		str	r0, [fp, #-8]
 810:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 2234              		.loc 1 810 0
 2235 0f50 08301BE5 		ldr	r3, [fp, #-8]
 2236 0f54 000053E3 		cmp	r3, #0
 2237 0f58 0100000A 		beq	.L86
 811:../cyfxslfifosync.c ****     {
 812:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CyU3PSetEpConfig failed, Error code = %d\n", apiRetStatus);
 813:../cyfxslfifosync.c ****         CyFxAppErrorHandler (apiRetStatus);
 2238              		.loc 1 813 0
 2239 0f5c 08001BE5 		ldr	r0, [fp, #-8]
 2240 0f60 FEFFFFEB 		bl	CyFxAppErrorHandler
 2241              	.L86:
 814:../cyfxslfifosync.c ****     }
 815:../cyfxslfifosync.c **** 
 816:../cyfxslfifosync.c ****     /* Consumer endpoint configuration. */
 817:../cyfxslfifosync.c ****     apiRetStatus = CyU3PSetEpConfig(CY_FX_EP_CONSUMER, &epCfg);
 2242              		.loc 1 817 0
 2243 0f64 14304BE2 		sub	r3, fp, #20
 2244 0f68 8100A0E3 		mov	r0, #129
 2245 0f6c 0310A0E1 		mov	r1, r3
 2246 0f70 FEFFFFEB 		bl	CyU3PSetEpConfig
 2247 0f74 08000BE5 		str	r0, [fp, #-8]
 818:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 2248              		.loc 1 818 0
 2249 0f78 08301BE5 		ldr	r3, [fp, #-8]
 2250 0f7c 000053E3 		cmp	r3, #0
 2251 0f80 0100000A 		beq	.L85
 819:../cyfxslfifosync.c ****     {
 820:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CyU3PSetEpConfig failed, Error code = %d\n", apiRetStatus);
 821:../cyfxslfifosync.c ****         CyFxAppErrorHandler (apiRetStatus);
 2252              		.loc 1 821 0
 2253 0f84 08001BE5 		ldr	r0, [fp, #-8]
 2254 0f88 FEFFFFEB 		bl	CyFxAppErrorHandler
 2255              	.L85:
 822:../cyfxslfifosync.c ****     }
 823:../cyfxslfifosync.c **** }
 2256              		.loc 1 823 0
 2257 0f8c 04D04BE2 		sub	sp, fp, #4
 2258              		@ sp needed
 2259 0f90 0088BDE8 		ldmfd	sp!, {fp, pc}
 2260              	.L89:
 2261              		.align	2
 2262              	.L88:
 2263 0f94 00000000 		.word	glIsApplnActive
 2264 0f98 00000000 		.word	glChHandleSlFifoUtoP
 2265 0f9c 00000000 		.word	glChHandleSlFifoPtoU
 2266              		.cfi_endproc
 2267              	.LFE18:
 2269              		.align	2
 2270              		.global	CyFxSlFifoApplnUSBSetupCB
 2272              	CyFxSlFifoApplnUSBSetupCB:
 2273              	.LFB19:
 824:../cyfxslfifosync.c **** 
 825:../cyfxslfifosync.c **** /* Callback to handle the USB setup requests. */
 826:../cyfxslfifosync.c **** CyBool_t
 827:../cyfxslfifosync.c **** CyFxSlFifoApplnUSBSetupCB (
 828:../cyfxslfifosync.c ****         uint32_t setupdat0,
 829:../cyfxslfifosync.c ****         uint32_t setupdat1
 830:../cyfxslfifosync.c ****     )
 831:../cyfxslfifosync.c **** {
 2274              		.loc 1 831 0
 2275              		.cfi_startproc
 2276              		@ args = 0, pretend = 0, frame = 56
 2277              		@ frame_needed = 1, uses_anonymous_args = 0
 2278 0fa0 00482DE9 		stmfd	sp!, {fp, lr}
 2279              	.LCFI38:
 2280              		.cfi_def_cfa_offset 8
 2281              		.cfi_offset 11, -8
 2282              		.cfi_offset 14, -4
 2283 0fa4 04B08DE2 		add	fp, sp, #4
 2284              	.LCFI39:
 2285              		.cfi_def_cfa 11, 4
 2286 0fa8 38D04DE2 		sub	sp, sp, #56
 2287 0fac 38000BE5 		str	r0, [fp, #-56]
 2288 0fb0 3C100BE5 		str	r1, [fp, #-60]
 832:../cyfxslfifosync.c ****     /* Fast enumeration is used. Only requests addressed to the interface, class,
 833:../cyfxslfifosync.c ****      * vendor and unknown control requests are received by this function.
 834:../cyfxslfifosync.c ****      * This application does not support any class or vendor requests. */
 835:../cyfxslfifosync.c **** 
 836:../cyfxslfifosync.c ****     uint8_t  bRequest, bReqType;
 837:../cyfxslfifosync.c ****     uint8_t  bType, bTarget;
 838:../cyfxslfifosync.c ****     uint16_t wValue, wIndex;
 839:../cyfxslfifosync.c ****     CyBool_t isHandled = CyFalse;
 2289              		.loc 1 839 0
 2290 0fb4 0030A0E3 		mov	r3, #0
 2291 0fb8 08300BE5 		str	r3, [fp, #-8]
 840:../cyfxslfifosync.c **** 
 841:../cyfxslfifosync.c ****     CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 2292              		.loc 1 841 0
 2293 0fbc 0030A0E3 		mov	r3, #0
 2294 0fc0 0C300BE5 		str	r3, [fp, #-12]
 842:../cyfxslfifosync.c **** 
 843:../cyfxslfifosync.c ****     /* Decode the fields from the setup request. */
 844:../cyfxslfifosync.c ****     bReqType = (setupdat0 & CY_U3P_USB_REQUEST_TYPE_MASK);
 2295              		.loc 1 844 0
 2296 0fc4 38301BE5 		ldr	r3, [fp, #-56]
 2297 0fc8 11304BE5 		strb	r3, [fp, #-17]
 845:../cyfxslfifosync.c ****     bType    = (bReqType & CY_U3P_USB_TYPE_MASK);
 2298              		.loc 1 845 0
 2299 0fcc 11305BE5 		ldrb	r3, [fp, #-17]
 2300 0fd0 603003E2 		and	r3, r3, #96
 2301 0fd4 12304BE5 		strb	r3, [fp, #-18]
 846:../cyfxslfifosync.c ****     bTarget  = (bReqType & CY_U3P_USB_TARGET_MASK);
 2302              		.loc 1 846 0
 2303 0fd8 11305BE5 		ldrb	r3, [fp, #-17]
 2304 0fdc 033003E2 		and	r3, r3, #3
 2305 0fe0 13304BE5 		strb	r3, [fp, #-19]
 847:../cyfxslfifosync.c ****     bRequest = ((setupdat0 & CY_U3P_USB_REQUEST_MASK) >> CY_U3P_USB_REQUEST_POS);
 2306              		.loc 1 847 0
 2307 0fe4 38301BE5 		ldr	r3, [fp, #-56]
 2308 0fe8 FF3C03E2 		and	r3, r3, #65280
 2309 0fec 2334A0E1 		mov	r3, r3, lsr #8
 2310 0ff0 14304BE5 		strb	r3, [fp, #-20]
 848:../cyfxslfifosync.c ****     wValue   = ((setupdat0 & CY_U3P_USB_VALUE_MASK)   >> CY_U3P_USB_VALUE_POS);
 2311              		.loc 1 848 0
 2312 0ff4 38301BE5 		ldr	r3, [fp, #-56]
 2313 0ff8 2338A0E1 		mov	r3, r3, lsr #16
 2314 0ffc B6314BE1 		strh	r3, [fp, #-22]	@ movhi
 849:../cyfxslfifosync.c ****     wIndex   = ((setupdat1 & CY_U3P_USB_INDEX_MASK)   >> CY_U3P_USB_INDEX_POS);
 2315              		.loc 1 849 0
 2316 1000 3C301BE5 		ldr	r3, [fp, #-60]
 2317 1004 B8314BE1 		strh	r3, [fp, #-24]	@ movhi
 850:../cyfxslfifosync.c **** 
 851:../cyfxslfifosync.c ****     if (bType == CY_U3P_USB_STANDARD_RQT)
 2318              		.loc 1 851 0
 2319 1008 12305BE5 		ldrb	r3, [fp, #-18]	@ zero_extendqisi2
 2320 100c 000053E3 		cmp	r3, #0
 2321 1010 4400001A 		bne	.L91
 852:../cyfxslfifosync.c ****     {
 853:../cyfxslfifosync.c ****         /* Handle SET_FEATURE(FUNCTION_SUSPEND) and CLEAR_FEATURE(FUNCTION_SUSPEND)
 854:../cyfxslfifosync.c ****          * requests here. It should be allowed to pass if the device is in configured
 855:../cyfxslfifosync.c ****          * state and failed otherwise. */
 856:../cyfxslfifosync.c ****         if ((bTarget == CY_U3P_USB_TARGET_INTF) && ((bRequest == CY_U3P_USB_SC_SET_FEATURE)
 2322              		.loc 1 856 0
 2323 1014 13305BE5 		ldrb	r3, [fp, #-19]	@ zero_extendqisi2
 2324 1018 010053E3 		cmp	r3, #1
 2325 101c 1400001A 		bne	.L92
 2326              		.loc 1 856 0 is_stmt 0 discriminator 1
 2327 1020 14305BE5 		ldrb	r3, [fp, #-20]	@ zero_extendqisi2
 2328 1024 030053E3 		cmp	r3, #3
 2329 1028 0200000A 		beq	.L93
 857:../cyfxslfifosync.c ****                     || (bRequest == CY_U3P_USB_SC_CLEAR_FEATURE)) && (wValue == 0))
 2330              		.loc 1 857 0 is_stmt 1
 2331 102c 14305BE5 		ldrb	r3, [fp, #-20]	@ zero_extendqisi2
 2332 1030 010053E3 		cmp	r3, #1
 2333 1034 0E00001A 		bne	.L92
 2334              	.L93:
 2335              		.loc 1 857 0 is_stmt 0 discriminator 1
 2336 1038 B6315BE1 		ldrh	r3, [fp, #-22]
 2337 103c 000053E3 		cmp	r3, #0
 2338 1040 0B00001A 		bne	.L92
 858:../cyfxslfifosync.c ****         {
 859:../cyfxslfifosync.c ****             if (glIsApplnActive)
 2339              		.loc 1 859 0 is_stmt 1
 2340 1044 EC3F9FE5 		ldr	r3, .L244
 2341 1048 003093E5 		ldr	r3, [r3]
 2342 104c 000053E3 		cmp	r3, #0
 2343 1050 0100000A 		beq	.L94
 860:../cyfxslfifosync.c ****                 CyU3PUsbAckSetup ();
 2344              		.loc 1 860 0
 2345 1054 FEFFFFEB 		bl	CyU3PUsbAckSetup
 2346 1058 030000EA 		b	.L95
 2347              	.L94:
 861:../cyfxslfifosync.c ****             else
 862:../cyfxslfifosync.c ****                 CyU3PUsbStall (0, CyTrue, CyFalse);
 2348              		.loc 1 862 0
 2349 105c 0000A0E3 		mov	r0, #0
 2350 1060 0110A0E3 		mov	r1, #1
 2351 1064 0020A0E3 		mov	r2, #0
 2352 1068 FEFFFFEB 		bl	CyU3PUsbStall
 2353              	.L95:
 863:../cyfxslfifosync.c **** 
 864:../cyfxslfifosync.c ****             isHandled = CyTrue;
 2354              		.loc 1 864 0
 2355 106c 0130A0E3 		mov	r3, #1
 2356 1070 08300BE5 		str	r3, [fp, #-8]
 2357              	.L92:
 865:../cyfxslfifosync.c ****         }
 866:../cyfxslfifosync.c **** 
 867:../cyfxslfifosync.c ****         /* CLEAR_FEATURE request for endpoint is always passed to the setup callback
 868:../cyfxslfifosync.c ****          * regardless of the enumeration model used. When a clear feature is received,
 869:../cyfxslfifosync.c ****          * the previous transfer has to be flushed and cleaned up. This is done at the
 870:../cyfxslfifosync.c ****          * protocol level. Since this is just a loopback operation, there is no higher
 871:../cyfxslfifosync.c ****          * level protocol. So flush the EP memory and reset the DMA channel associated
 872:../cyfxslfifosync.c ****          * with it. If there are more than one EP associated with the channel reset both
 873:../cyfxslfifosync.c ****          * the EPs. The endpoint stall and toggle / sequence number is also expected to be
 874:../cyfxslfifosync.c ****          * reset. Return CyFalse to make the library clear the stall and reset the endpoint
 875:../cyfxslfifosync.c ****          * toggle. Or invoke the CyU3PUsbStall (ep, CyFalse, CyTrue) and return CyTrue.
 876:../cyfxslfifosync.c ****          * Here we are clearing the stall. */
 877:../cyfxslfifosync.c ****         if ((bTarget == CY_U3P_USB_TARGET_ENDPT) && (bRequest == CY_U3P_USB_SC_CLEAR_FEATURE)
 2358              		.loc 1 877 0
 2359 1074 13305BE5 		ldrb	r3, [fp, #-19]	@ zero_extendqisi2
 2360 1078 020053E3 		cmp	r3, #2
 2361 107c 2900001A 		bne	.L91
 2362              		.loc 1 877 0 is_stmt 0 discriminator 1
 2363 1080 14305BE5 		ldrb	r3, [fp, #-20]	@ zero_extendqisi2
 2364 1084 010053E3 		cmp	r3, #1
 2365 1088 2600001A 		bne	.L91
 878:../cyfxslfifosync.c ****                 && (wValue == CY_U3P_USBX_FS_EP_HALT))
 2366              		.loc 1 878 0 is_stmt 1
 2367 108c B6315BE1 		ldrh	r3, [fp, #-22]
 2368 1090 000053E3 		cmp	r3, #0
 2369 1094 2300001A 		bne	.L91
 879:../cyfxslfifosync.c ****         {
 880:../cyfxslfifosync.c ****             if (glIsApplnActive)
 2370              		.loc 1 880 0
 2371 1098 983F9FE5 		ldr	r3, .L244
 2372 109c 003093E5 		ldr	r3, [r3]
 2373 10a0 000053E3 		cmp	r3, #0
 2374 10a4 1F00000A 		beq	.L91
 881:../cyfxslfifosync.c ****             {
 882:../cyfxslfifosync.c ****                 if (wIndex == CY_FX_EP_PRODUCER)
 2375              		.loc 1 882 0
 2376 10a8 B8315BE1 		ldrh	r3, [fp, #-24]
 2377 10ac 010053E3 		cmp	r3, #1
 2378 10b0 0800001A 		bne	.L96
 883:../cyfxslfifosync.c ****                 {
 884:../cyfxslfifosync.c ****                     CyU3PDmaChannelReset (&glChHandleSlFifoUtoP);
 2379              		.loc 1 884 0
 2380 10b4 8C0F9FE5 		ldr	r0, .L244+16
 2381 10b8 FEFFFFEB 		bl	CyU3PDmaChannelReset
 885:../cyfxslfifosync.c ****                     CyU3PUsbFlushEp(CY_FX_EP_PRODUCER);
 2382              		.loc 1 885 0
 2383 10bc 0100A0E3 		mov	r0, #1
 2384 10c0 FEFFFFEB 		bl	CyU3PUsbFlushEp
 886:../cyfxslfifosync.c ****                     CyU3PUsbResetEp (CY_FX_EP_PRODUCER);
 2385              		.loc 1 886 0
 2386 10c4 0100A0E3 		mov	r0, #1
 2387 10c8 FEFFFFEB 		bl	CyU3PUsbResetEp
 887:../cyfxslfifosync.c ****                     CyU3PDmaChannelSetXfer (&glChHandleSlFifoUtoP, CY_FX_SLFIFO_DMA_TX_SIZE);
 2388              		.loc 1 887 0
 2389 10cc 740F9FE5 		ldr	r0, .L244+16
 2390 10d0 0010A0E3 		mov	r1, #0
 2391 10d4 FEFFFFEB 		bl	CyU3PDmaChannelSetXfer
 2392              	.L96:
 888:../cyfxslfifosync.c ****                 }
 889:../cyfxslfifosync.c **** 
 890:../cyfxslfifosync.c ****                 if (wIndex == CY_FX_EP_CONSUMER)
 2393              		.loc 1 890 0
 2394 10d8 B8315BE1 		ldrh	r3, [fp, #-24]
 2395 10dc 810053E3 		cmp	r3, #129
 2396 10e0 0800001A 		bne	.L97
 891:../cyfxslfifosync.c ****                 {
 892:../cyfxslfifosync.c ****                     CyU3PDmaChannelReset (&glChHandleSlFifoPtoU);
 2397              		.loc 1 892 0
 2398 10e4 600F9FE5 		ldr	r0, .L244+20
 2399 10e8 FEFFFFEB 		bl	CyU3PDmaChannelReset
 893:../cyfxslfifosync.c ****                     CyU3PUsbFlushEp(CY_FX_EP_CONSUMER);
 2400              		.loc 1 893 0
 2401 10ec 8100A0E3 		mov	r0, #129
 2402 10f0 FEFFFFEB 		bl	CyU3PUsbFlushEp
 894:../cyfxslfifosync.c ****                     CyU3PUsbResetEp (CY_FX_EP_CONSUMER);
 2403              		.loc 1 894 0
 2404 10f4 8100A0E3 		mov	r0, #129
 2405 10f8 FEFFFFEB 		bl	CyU3PUsbResetEp
 895:../cyfxslfifosync.c ****                     CyU3PDmaChannelSetXfer (&glChHandleSlFifoPtoU, CY_FX_SLFIFO_DMA_RX_SIZE);
 2406              		.loc 1 895 0
 2407 10fc 480F9FE5 		ldr	r0, .L244+20
 2408 1100 0010A0E3 		mov	r1, #0
 2409 1104 FEFFFFEB 		bl	CyU3PDmaChannelSetXfer
 2410              	.L97:
 896:../cyfxslfifosync.c ****                 }
 897:../cyfxslfifosync.c **** 
 898:../cyfxslfifosync.c ****                 CyU3PUsbStall (wIndex, CyFalse, CyTrue);
 2411              		.loc 1 898 0
 2412 1108 B8315BE1 		ldrh	r3, [fp, #-24]	@ movhi
 2413 110c FF3003E2 		and	r3, r3, #255
 2414 1110 0300A0E1 		mov	r0, r3
 2415 1114 0010A0E3 		mov	r1, #0
 2416 1118 0120A0E3 		mov	r2, #1
 2417 111c FEFFFFEB 		bl	CyU3PUsbStall
 899:../cyfxslfifosync.c ****                 isHandled = CyTrue;
 2418              		.loc 1 899 0
 2419 1120 0130A0E3 		mov	r3, #1
 2420 1124 08300BE5 		str	r3, [fp, #-8]
 2421              	.L91:
 900:../cyfxslfifosync.c ****             }
 901:../cyfxslfifosync.c ****         }
 902:../cyfxslfifosync.c ****     }
 903:../cyfxslfifosync.c **** 
 904:../cyfxslfifosync.c **** 
 905:../cyfxslfifosync.c **** 
 906:../cyfxslfifosync.c ****     /* Handle supported vendor requests. */
 907:../cyfxslfifosync.c ****      if (bType == CY_U3P_USB_VENDOR_RQT)
 2422              		.loc 1 907 0
 2423 1128 12305BE5 		ldrb	r3, [fp, #-18]	@ zero_extendqisi2
 2424 112c 400053E3 		cmp	r3, #64
 2425 1130 8408001A 		bne	.L98
 2426              	.LBB5:
 908:../cyfxslfifosync.c ****      {
 909:../cyfxslfifosync.c ****          isHandled = CyTrue;
 2427              		.loc 1 909 0
 2428 1134 0130A0E3 		mov	r3, #1
 2429 1138 08300BE5 		str	r3, [fp, #-8]
 910:../cyfxslfifosync.c ****          uint8_t   I2C_Addr;
 911:../cyfxslfifosync.c ****      	CyU3PI2cPreamble_t preamble;
 912:../cyfxslfifosync.c **** 
 913:../cyfxslfifosync.c ****          switch (bRequest)
 2430              		.loc 1 913 0
 2431 113c 14305BE5 		ldrb	r3, [fp, #-20]	@ zero_extendqisi2
 2432 1140 C00053E3 		cmp	r3, #192
 2433 1144 0200000A 		beq	.L100
 2434 1148 C10053E3 		cmp	r3, #193
 2435 114c 0E00000A 		beq	.L101
 2436 1150 740800EA 		b	.L240
 2437              	.L100:
 914:../cyfxslfifosync.c ****          {
 915:../cyfxslfifosync.c **** 
 916:../cyfxslfifosync.c ****          case 0xC0: //read
 917:../cyfxslfifosync.c ****         	Set_LED_mode (2, LED_MODE_WINK);
 2438              		.loc 1 917 0
 2439 1154 0200A0E3 		mov	r0, #2
 2440 1158 0210A0E3 		mov	r1, #2
 2441 115c FEFFFFEB 		bl	Set_LED_mode
 918:../cyfxslfifosync.c ****          	CyU3PUsbSendEP0Data (64, glEp0Buffer_Tx);
 2442              		.loc 1 918 0
 2443 1160 4000A0E3 		mov	r0, #64
 2444 1164 D01E9FE5 		ldr	r1, .L244+4
 2445 1168 FEFFFFEB 		bl	CyU3PUsbSendEP0Data
 919:../cyfxslfifosync.c ****          	if(need_fx3_reset) CyU3PDeviceReset(CyFalse); //hard fx3 reset
 2446              		.loc 1 919 0
 2447 116c CC3E9FE5 		ldr	r3, .L244+8
 2448 1170 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 2449 1174 000053E3 		cmp	r3, #0
 2450 1178 0200000A 		beq	.L102
 2451              		.loc 1 919 0 is_stmt 0 discriminator 1
 2452 117c 0000A0E3 		mov	r0, #0
 2453 1180 FEFFFFEB 		bl	CyU3PDeviceReset
 920:../cyfxslfifosync.c ****          	break;
 2454              		.loc 1 920 0 is_stmt 1 discriminator 1
 2455 1184 6A0800EA 		b	.L103
 2456              	.L102:
 2457              		.loc 1 920 0 is_stmt 0
 2458 1188 690800EA 		b	.L103
 2459              	.L101:
 921:../cyfxslfifosync.c **** 
 922:../cyfxslfifosync.c ****          case 0xC1: //write
 923:../cyfxslfifosync.c **** 
 924:../cyfxslfifosync.c ****         	Set_LED_mode (2, LED_MODE_ON);
 2460              		.loc 1 924 0 is_stmt 1
 2461 118c 0200A0E3 		mov	r0, #2
 2462 1190 0110A0E3 		mov	r1, #1
 2463 1194 FEFFFFEB 		bl	Set_LED_mode
 925:../cyfxslfifosync.c ****          	CyU3PUsbGetEP0Data (64, glEp0Buffer_Rx, NULL);
 2464              		.loc 1 925 0
 2465 1198 4000A0E3 		mov	r0, #64
 2466 119c A01E9FE5 		ldr	r1, .L244+12
 2467 11a0 0020A0E3 		mov	r2, #0
 2468 11a4 FEFFFFEB 		bl	CyU3PUsbGetEP0Data
 926:../cyfxslfifosync.c **** 
 927:../cyfxslfifosync.c ****          	////LMS64C
 928:../cyfxslfifosync.c ****          	memset (glEp0Buffer_Tx, 0, sizeof(glEp0Buffer_Tx)); //fill whole tx buffer with zeros
 2469              		.loc 1 928 0
 2470 11a8 8C0E9FE5 		ldr	r0, .L244+4
 2471 11ac 0010A0E3 		mov	r1, #0
 2472 11b0 4020A0E3 		mov	r2, #64
 2473 11b4 FEFFFFEB 		bl	memset
 929:../cyfxslfifosync.c ****          	cmd_errors = 0;
 2474              		.loc 1 929 0
 2475 11b8 9C3E9FE5 		ldr	r3, .L244+36
 2476 11bc 0020A0E3 		mov	r2, #0
 2477 11c0 0020C3E5 		strb	r2, [r3]
 930:../cyfxslfifosync.c **** 
 931:../cyfxslfifosync.c ****      		LMS_Ctrl_Packet_Tx->Header.Command = LMS_Ctrl_Packet_Rx->Header.Command;
 2478              		.loc 1 931 0
 2479 11c4 983E9FE5 		ldr	r3, .L244+44
 2480 11c8 003093E5 		ldr	r3, [r3]
 2481 11cc AC2E9FE5 		ldr	r2, .L244+72
 2482 11d0 002092E5 		ldr	r2, [r2]
 2483 11d4 0020D2E5 		ldrb	r2, [r2]	@ zero_extendqisi2
 2484 11d8 0020C3E5 		strb	r2, [r3]
 932:../cyfxslfifosync.c ****      		LMS_Ctrl_Packet_Tx->Header.Data_blocks = LMS_Ctrl_Packet_Rx->Header.Data_blocks;
 2485              		.loc 1 932 0
 2486 11dc 803E9FE5 		ldr	r3, .L244+44
 2487 11e0 003093E5 		ldr	r3, [r3]
 2488 11e4 942E9FE5 		ldr	r2, .L244+72
 2489 11e8 002092E5 		ldr	r2, [r2]
 2490 11ec 0220D2E5 		ldrb	r2, [r2, #2]	@ zero_extendqisi2
 2491 11f0 0220C3E5 		strb	r2, [r3, #2]
 933:../cyfxslfifosync.c ****      		LMS_Ctrl_Packet_Tx->Header.Periph_ID = LMS_Ctrl_Packet_Rx->Header.Periph_ID;
 2492              		.loc 1 933 0
 2493 11f4 683E9FE5 		ldr	r3, .L244+44
 2494 11f8 003093E5 		ldr	r3, [r3]
 2495 11fc 7C2E9FE5 		ldr	r2, .L244+72
 2496 1200 002092E5 		ldr	r2, [r2]
 2497 1204 0320D2E5 		ldrb	r2, [r2, #3]	@ zero_extendqisi2
 2498 1208 0320C3E5 		strb	r2, [r3, #3]
 934:../cyfxslfifosync.c ****      		LMS_Ctrl_Packet_Tx->Header.Status = STATUS_BUSY_CMD;
 2499              		.loc 1 934 0
 2500 120c 503E9FE5 		ldr	r3, .L244+44
 2501 1210 003093E5 		ldr	r3, [r3]
 2502 1214 0320A0E3 		mov	r2, #3
 2503 1218 0120C3E5 		strb	r2, [r3, #1]
 935:../cyfxslfifosync.c **** 
 936:../cyfxslfifosync.c ****      		switch(LMS_Ctrl_Packet_Rx->Header.Command)
 2504              		.loc 1 936 0
 2505 121c 5C3E9FE5 		ldr	r3, .L244+72
 2506 1220 003093E5 		ldr	r3, [r3]
 2507 1224 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 2508 1228 620053E3 		cmp	r3, #98
 2509 122c 03F19F97 		ldrls	pc, [pc, r3, asl #2]
 2510 1230 330800EA 		b	.L104
 2511              	.L106:
 2512 1234 C0130000 		.word	.L105
 2513 1238 04330000 		.word	.L104
 2514 123c 04330000 		.word	.L104
 2515 1240 04330000 		.word	.L104
 2516 1244 04330000 		.word	.L104
 2517 1248 04330000 		.word	.L104
 2518 124c 04330000 		.word	.L104
 2519 1250 04330000 		.word	.L104
 2520 1254 04330000 		.word	.L104
 2521 1258 04330000 		.word	.L104
 2522 125c 04330000 		.word	.L104
 2523 1260 04330000 		.word	.L104
 2524 1264 04330000 		.word	.L104
 2525 1268 04330000 		.word	.L104
 2526 126c 04330000 		.word	.L104
 2527 1270 04330000 		.word	.L104
 2528 1274 04330000 		.word	.L104
 2529 1278 04330000 		.word	.L104
 2530 127c 04330000 		.word	.L104
 2531 1280 001F0000 		.word	.L107
 2532 1284 8C200000 		.word	.L108
 2533 1288 04330000 		.word	.L104
 2534 128c 04330000 		.word	.L104
 2535 1290 04330000 		.word	.L104
 2536 1294 04330000 		.word	.L104
 2537 1298 04330000 		.word	.L104
 2538 129c 04330000 		.word	.L104
 2539 12a0 04330000 		.word	.L104
 2540 12a4 04330000 		.word	.L104
 2541 12a8 04330000 		.word	.L104
 2542 12ac 04330000 		.word	.L104
 2543 12b0 04330000 		.word	.L104
 2544 12b4 24140000 		.word	.L109
 2545 12b8 A4150000 		.word	.L110
 2546 12bc C8170000 		.word	.L111
 2547 12c0 04330000 		.word	.L104
 2548 12c4 04330000 		.word	.L104
 2549 12c8 04330000 		.word	.L104
 2550 12cc 04330000 		.word	.L104
 2551 12d0 04330000 		.word	.L104
 2552 12d4 04330000 		.word	.L104
 2553 12d8 04330000 		.word	.L104
 2554 12dc 04330000 		.word	.L104
 2555 12e0 04330000 		.word	.L104
 2556 12e4 04330000 		.word	.L104
 2557 12e8 04330000 		.word	.L104
 2558 12ec 04330000 		.word	.L104
 2559 12f0 04330000 		.word	.L104
 2560 12f4 04330000 		.word	.L104
 2561 12f8 2C1E0000 		.word	.L112
 2562 12fc 04330000 		.word	.L104
 2563 1300 04330000 		.word	.L104
 2564 1304 04330000 		.word	.L104
 2565 1308 04330000 		.word	.L104
 2566 130c 04330000 		.word	.L104
 2567 1310 04330000 		.word	.L104
 2568 1314 04330000 		.word	.L104
 2569 1318 04330000 		.word	.L104
 2570 131c 04330000 		.word	.L104
 2571 1320 04330000 		.word	.L104
 2572 1324 04330000 		.word	.L104
 2573 1328 04330000 		.word	.L104
 2574 132c 04330000 		.word	.L104
 2575 1330 04330000 		.word	.L104
 2576 1334 2C220000 		.word	.L113
 2577 1338 04330000 		.word	.L104
 2578 133c 04330000 		.word	.L104
 2579 1340 04330000 		.word	.L104
 2580 1344 04330000 		.word	.L104
 2581 1348 04330000 		.word	.L104
 2582 134c 04330000 		.word	.L104
 2583 1350 04330000 		.word	.L104
 2584 1354 04330000 		.word	.L104
 2585 1358 04330000 		.word	.L104
 2586 135c 04330000 		.word	.L104
 2587 1360 04330000 		.word	.L104
 2588 1364 04330000 		.word	.L104
 2589 1368 04330000 		.word	.L104
 2590 136c 04330000 		.word	.L104
 2591 1370 04330000 		.word	.L104
 2592 1374 04330000 		.word	.L104
 2593 1378 04330000 		.word	.L104
 2594 137c 04330000 		.word	.L104
 2595 1380 DC2E0000 		.word	.L114
 2596 1384 04330000 		.word	.L104
 2597 1388 801A0000 		.word	.L115
 2598 138c 0C1C0000 		.word	.L116
 2599 1390 04330000 		.word	.L104
 2600 1394 04330000 		.word	.L104
 2601 1398 04330000 		.word	.L104
 2602 139c 04330000 		.word	.L104
 2603 13a0 04330000 		.word	.L104
 2604 13a4 04330000 		.word	.L104
 2605 13a8 082D0000 		.word	.L117
 2606 13ac 842D0000 		.word	.L118
 2607 13b0 04330000 		.word	.L104
 2608 13b4 04330000 		.word	.L104
 2609 13b8 08280000 		.word	.L119
 2610 13bc A0220000 		.word	.L120
 2611              	.L105:
 937:../cyfxslfifosync.c ****      		{
 938:../cyfxslfifosync.c **** 
 939:../cyfxslfifosync.c ****  				case CMD_GET_INFO:
 940:../cyfxslfifosync.c **** 
 941:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Data_field[0] = FW_VER;
 2612              		.loc 1 941 0
 2613 13c0 9C3C9FE5 		ldr	r3, .L244+44
 2614 13c4 003093E5 		ldr	r3, [r3]
 2615 13c8 0220A0E3 		mov	r2, #2
 2616 13cc 0820C3E5 		strb	r2, [r3, #8]
 942:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Data_field[1] = DEV_TYPE;
 2617              		.loc 1 942 0
 2618 13d0 8C3C9FE5 		ldr	r3, .L244+44
 2619 13d4 003093E5 		ldr	r3, [r3]
 2620 13d8 1020A0E3 		mov	r2, #16
 2621 13dc 0920C3E5 		strb	r2, [r3, #9]
 943:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Data_field[2] = LMS_PROTOCOL_VER;
 2622              		.loc 1 943 0
 2623 13e0 7C3C9FE5 		ldr	r3, .L244+44
 2624 13e4 003093E5 		ldr	r3, [r3]
 2625 13e8 0120A0E3 		mov	r2, #1
 2626 13ec 0A20C3E5 		strb	r2, [r3, #10]
 944:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Data_field[3] = HW_VER;
 2627              		.loc 1 944 0
 2628 13f0 6C3C9FE5 		ldr	r3, .L244+44
 2629 13f4 003093E5 		ldr	r3, [r3]
 2630 13f8 0020A0E3 		mov	r2, #0
 2631 13fc 0B20C3E5 		strb	r2, [r3, #11]
 945:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Data_field[4] = EXP_BOARD;
 2632              		.loc 1 945 0
 2633 1400 5C3C9FE5 		ldr	r3, .L244+44
 2634 1404 003093E5 		ldr	r3, [r3]
 2635 1408 0120A0E3 		mov	r2, #1
 2636 140c 0C20C3E5 		strb	r2, [r3, #12]
 946:../cyfxslfifosync.c **** 
 947:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 2637              		.loc 1 947 0
 2638 1410 4C3C9FE5 		ldr	r3, .L244+44
 2639 1414 003093E5 		ldr	r3, [r3]
 2640 1418 0120A0E3 		mov	r2, #1
 2641 141c 0120C3E5 		strb	r2, [r3, #1]
 948:../cyfxslfifosync.c ****  					break;
 2642              		.loc 1 948 0
 2643 1420 BC0700EA 		b	.L121
 2644              	.L109:
 949:../cyfxslfifosync.c **** 
 950:../cyfxslfifosync.c ****  				case CMD_LMS_RST:
 951:../cyfxslfifosync.c **** 
 952:../cyfxslfifosync.c ****  					if(!Check_Periph_ID(MAX_ID_LMS7, LMS_Ctrl_Packet_Rx->Header.Periph_ID)) break;
 2645              		.loc 1 952 0
 2646 1424 543C9FE5 		ldr	r3, .L244+72
 2647 1428 003093E5 		ldr	r3, [r3]
 2648 142c 0330D3E5 		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2649 1430 0100A0E3 		mov	r0, #1
 2650 1434 0310A0E1 		mov	r1, r3
 2651 1438 FEFFFFEB 		bl	Check_Periph_ID
 2652 143c 0030A0E1 		mov	r3, r0
 2653 1440 000053E3 		cmp	r3, #0
 2654 1444 0000001A 		bne	.L122
 2655              		.loc 1 952 0 is_stmt 0 discriminator 1
 2656 1448 B20700EA 		b	.L121
 2657              	.L122:
 953:../cyfxslfifosync.c ****  					Reconfigure_SPI_for_LMS ();
 2658              		.loc 1 953 0 is_stmt 1
 2659 144c FEFFFFEB 		bl	Reconfigure_SPI_for_LMS
 954:../cyfxslfifosync.c **** 
 955:../cyfxslfifosync.c ****  					switch (LMS_Ctrl_Packet_Rx->Data_field[0])
 2660              		.loc 1 955 0
 2661 1450 283C9FE5 		ldr	r3, .L244+72
 2662 1454 003093E5 		ldr	r3, [r3]
 2663 1458 0830D3E5 		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 2664 145c 010053E3 		cmp	r3, #1
 2665 1460 1500000A 		beq	.L124
 2666 1464 020053E3 		cmp	r3, #2
 2667 1468 2500000A 		beq	.L125
 2668 146c 000053E3 		cmp	r3, #0
 2669 1470 3F00001A 		bne	.L241
 956:../cyfxslfifosync.c ****  					{
 957:../cyfxslfifosync.c ****  						case LMS_RST_DEACTIVATE:
 958:../cyfxslfifosync.c **** 
 959:../cyfxslfifosync.c ****  		 					switch(LMS_Ctrl_Packet_Rx->Header.Periph_ID)
 2670              		.loc 1 959 0
 2671 1474 043C9FE5 		ldr	r3, .L244+72
 2672 1478 003093E5 		ldr	r3, [r3]
 2673 147c 0330D3E5 		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2674 1480 010053E3 		cmp	r3, #1
 2675 1484 0500000A 		beq	.L128
 960:../cyfxslfifosync.c ****  		 					{
 961:../cyfxslfifosync.c ****  		 						default:
 962:../cyfxslfifosync.c ****  		 						case 0:
 963:../cyfxslfifosync.c ****  		 							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS1_RESET, LMS1_RESET, 1); //high
 2676              		.loc 1 963 0
 2677 1488 1300A0E3 		mov	r0, #19
 2678 148c 0110A0E3 		mov	r1, #1
 2679 1490 0120A0E3 		mov	r2, #1
 2680 1494 0130A0E3 		mov	r3, #1
 2681 1498 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 964:../cyfxslfifosync.c ****  		 							break;
 2682              		.loc 1 964 0
 2683 149c 050000EA 		b	.L129
 2684              	.L128:
 965:../cyfxslfifosync.c ****  		 						case 1:
 966:../cyfxslfifosync.c ****  		 							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS2_RESET, LMS2_RESET, 1); //high
 2685              		.loc 1 966 0
 2686 14a0 1300A0E3 		mov	r0, #19
 2687 14a4 0910A0E3 		mov	r1, #9
 2688 14a8 0920A0E3 		mov	r2, #9
 2689 14ac 0130A0E3 		mov	r3, #1
 2690 14b0 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 967:../cyfxslfifosync.c ****  		 							break;
 2691              		.loc 1 967 0
 2692 14b4 0000A0E1 		mov	r0, r0	@ nop
 2693              	.L129:
 968:../cyfxslfifosync.c ****  		 					}
 969:../cyfxslfifosync.c **** 
 970:../cyfxslfifosync.c ****  							break;
 2694              		.loc 1 970 0
 2695 14b8 340000EA 		b	.L130
 2696              	.L124:
 971:../cyfxslfifosync.c **** 
 972:../cyfxslfifosync.c ****  						case LMS_RST_ACTIVATE:
 973:../cyfxslfifosync.c **** 
 974:../cyfxslfifosync.c ****  		 					switch(LMS_Ctrl_Packet_Rx->Header.Periph_ID)
 2697              		.loc 1 974 0
 2698 14bc BC3B9FE5 		ldr	r3, .L244+72
 2699 14c0 003093E5 		ldr	r3, [r3]
 2700 14c4 0330D3E5 		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2701 14c8 010053E3 		cmp	r3, #1
 2702 14cc 0500000A 		beq	.L132
 975:../cyfxslfifosync.c ****  		 					{
 976:../cyfxslfifosync.c ****  		 						default:
 977:../cyfxslfifosync.c ****  		 						case 0:
 978:../cyfxslfifosync.c ****  		 							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS1_RESET, LMS1_RESET, 0); //low 
 2703              		.loc 1 978 0
 2704 14d0 1300A0E3 		mov	r0, #19
 2705 14d4 0110A0E3 		mov	r1, #1
 2706 14d8 0120A0E3 		mov	r2, #1
 2707 14dc 0030A0E3 		mov	r3, #0
 2708 14e0 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 979:../cyfxslfifosync.c ****  		 							break;
 2709              		.loc 1 979 0
 2710 14e4 050000EA 		b	.L133
 2711              	.L132:
 980:../cyfxslfifosync.c ****  		 						case 1:
 981:../cyfxslfifosync.c ****  		 							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS2_RESET, LMS2_RESET, 0); //low 
 2712              		.loc 1 981 0
 2713 14e8 1300A0E3 		mov	r0, #19
 2714 14ec 0910A0E3 		mov	r1, #9
 2715 14f0 0920A0E3 		mov	r2, #9
 2716 14f4 0030A0E3 		mov	r3, #0
 2717 14f8 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 982:../cyfxslfifosync.c ****  		 							break;
 2718              		.loc 1 982 0
 2719 14fc 0000A0E1 		mov	r0, r0	@ nop
 2720              	.L133:
 983:../cyfxslfifosync.c ****  		 					}
 984:../cyfxslfifosync.c **** 
 985:../cyfxslfifosync.c ****  							break;
 2721              		.loc 1 985 0
 2722 1500 220000EA 		b	.L130
 2723              	.L125:
 986:../cyfxslfifosync.c **** 
 987:../cyfxslfifosync.c ****  						case LMS_RST_PULSE:
 988:../cyfxslfifosync.c ****  		 					switch(LMS_Ctrl_Packet_Rx->Header.Periph_ID)
 2724              		.loc 1 988 0
 2725 1504 743B9FE5 		ldr	r3, .L244+72
 2726 1508 003093E5 		ldr	r3, [r3]
 2727 150c 0330D3E5 		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2728 1510 010053E3 		cmp	r3, #1
 2729 1514 0A00000A 		beq	.L135
 989:../cyfxslfifosync.c ****  		 					{
 990:../cyfxslfifosync.c ****  		 						default:
 991:../cyfxslfifosync.c ****  		 						case 0:
 992:../cyfxslfifosync.c ****  		 							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS1_RESET, LMS1_RESET, 0); //low 
 2730              		.loc 1 992 0
 2731 1518 1300A0E3 		mov	r0, #19
 2732 151c 0110A0E3 		mov	r1, #1
 2733 1520 0120A0E3 		mov	r2, #1
 2734 1524 0030A0E3 		mov	r3, #0
 2735 1528 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 993:../cyfxslfifosync.c ****  		 							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS1_RESET, LMS1_RESET, 1); //high
 2736              		.loc 1 993 0
 2737 152c 1300A0E3 		mov	r0, #19
 2738 1530 0110A0E3 		mov	r1, #1
 2739 1534 0120A0E3 		mov	r2, #1
 2740 1538 0130A0E3 		mov	r3, #1
 2741 153c FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 994:../cyfxslfifosync.c ****  		 							break;
 2742              		.loc 1 994 0
 2743 1540 0A0000EA 		b	.L136
 2744              	.L135:
 995:../cyfxslfifosync.c ****  		 						case 1:
 996:../cyfxslfifosync.c ****  		 							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS2_RESET, LMS2_RESET, 0); //low 
 2745              		.loc 1 996 0
 2746 1544 1300A0E3 		mov	r0, #19
 2747 1548 0910A0E3 		mov	r1, #9
 2748 154c 0920A0E3 		mov	r2, #9
 2749 1550 0030A0E3 		mov	r3, #0
 2750 1554 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 997:../cyfxslfifosync.c ****  		 							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS2_RESET, LMS2_RESET, 1); //high
 2751              		.loc 1 997 0
 2752 1558 1300A0E3 		mov	r0, #19
 2753 155c 0910A0E3 		mov	r1, #9
 2754 1560 0920A0E3 		mov	r2, #9
 2755 1564 0130A0E3 		mov	r3, #1
 2756 1568 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 998:../cyfxslfifosync.c ****  		 							break;
 2757              		.loc 1 998 0
 2758 156c 0000A0E1 		mov	r0, r0	@ nop
 2759              	.L136:
 999:../cyfxslfifosync.c ****  		 					}
1000:../cyfxslfifosync.c **** 
1001:../cyfxslfifosync.c ****  							break;
 2760              		.loc 1 1001 0
 2761 1570 060000EA 		b	.L130
 2762              	.L241:
1002:../cyfxslfifosync.c **** 
1003:../cyfxslfifosync.c ****  						default:
1004:../cyfxslfifosync.c ****  							cmd_errors++;
 2763              		.loc 1 1004 0
 2764 1574 E03A9FE5 		ldr	r3, .L244+36
 2765 1578 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 2766 157c 013083E2 		add	r3, r3, #1
 2767 1580 FF2003E2 		and	r2, r3, #255
 2768 1584 D03A9FE5 		ldr	r3, .L244+36
 2769 1588 0020C3E5 		strb	r2, [r3]
1005:../cyfxslfifosync.c ****  							break;
 2770              		.loc 1 1005 0
 2771 158c 0000A0E1 		mov	r0, r0	@ nop
 2772              	.L130:
1006:../cyfxslfifosync.c ****  					}
1007:../cyfxslfifosync.c **** 
1008:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 2773              		.loc 1 1008 0
 2774 1590 CC3A9FE5 		ldr	r3, .L244+44
 2775 1594 003093E5 		ldr	r3, [r3]
 2776 1598 0120A0E3 		mov	r2, #1
 2777 159c 0120C3E5 		strb	r2, [r3, #1]
1009:../cyfxslfifosync.c ****  					break;
 2778              		.loc 1 1009 0
 2779 15a0 5C0700EA 		b	.L121
 2780              	.L110:
1010:../cyfxslfifosync.c **** 
1011:../cyfxslfifosync.c ****  				case CMD_LMS7002_WR:
1012:../cyfxslfifosync.c ****  					if(!Check_Periph_ID(MAX_ID_LMS7, LMS_Ctrl_Packet_Rx->Header.Periph_ID)) break;
 2781              		.loc 1 1012 0
 2782 15a4 D43A9FE5 		ldr	r3, .L244+72
 2783 15a8 003093E5 		ldr	r3, [r3]
 2784 15ac 0330D3E5 		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2785 15b0 0100A0E3 		mov	r0, #1
 2786 15b4 0310A0E1 		mov	r1, r3
 2787 15b8 FEFFFFEB 		bl	Check_Periph_ID
 2788 15bc 0030A0E1 		mov	r3, r0
 2789 15c0 000053E3 		cmp	r3, #0
 2790 15c4 0000001A 		bne	.L137
 2791              		.loc 1 1012 0 is_stmt 0 discriminator 1
 2792 15c8 520700EA 		b	.L121
 2793              	.L137:
1013:../cyfxslfifosync.c ****  					if(Check_many_blocks (4)) break;
 2794              		.loc 1 1013 0 is_stmt 1
 2795 15cc 0400A0E3 		mov	r0, #4
 2796 15d0 FEFFFFEB 		bl	Check_many_blocks
 2797 15d4 0030A0E1 		mov	r3, r0
 2798 15d8 000053E3 		cmp	r3, #0
 2799 15dc 0000000A 		beq	.L138
 2800              		.loc 1 1013 0 is_stmt 0 discriminator 1
 2801 15e0 4C0700EA 		b	.L121
 2802              	.L138:
1014:../cyfxslfifosync.c **** 
1015:../cyfxslfifosync.c ****  					Reconfigure_SPI_for_LMS ();
 2803              		.loc 1 1015 0 is_stmt 1
 2804 15e4 FEFFFFEB 		bl	Reconfigure_SPI_for_LMS
1016:../cyfxslfifosync.c **** 
1017:../cyfxslfifosync.c ****  					switch(LMS_Ctrl_Packet_Rx->Header.Periph_ID)
 2805              		.loc 1 1017 0
 2806 15e8 903A9FE5 		ldr	r3, .L244+72
 2807 15ec 003093E5 		ldr	r3, [r3]
 2808 15f0 0330D3E5 		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2809 15f4 010053E3 		cmp	r3, #1
 2810 15f8 0500000A 		beq	.L140
1018:../cyfxslfifosync.c ****  					{
1019:../cyfxslfifosync.c ****  						default:
1020:../cyfxslfifosync.c ****  						case 0:
1021:../cyfxslfifosync.c ****  							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS1_SS, LMS1_SS, 0); //Enable LMS's 
 2811              		.loc 1 1021 0
 2812 15fc 1300A0E3 		mov	r0, #19
 2813 1600 0010A0E3 		mov	r1, #0
 2814 1604 0020A0E3 		mov	r2, #0
 2815 1608 0030A0E3 		mov	r3, #0
 2816 160c FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
1022:../cyfxslfifosync.c ****  							break;
 2817              		.loc 1 1022 0
 2818 1610 050000EA 		b	.L141
 2819              	.L140:
1023:../cyfxslfifosync.c ****  						case 1:
1024:../cyfxslfifosync.c ****  							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS2_SS, LMS2_SS, 0); //Enable LMS's 
 2820              		.loc 1 1024 0
 2821 1614 1300A0E3 		mov	r0, #19
 2822 1618 0810A0E3 		mov	r1, #8
 2823 161c 0820A0E3 		mov	r2, #8
 2824 1620 0030A0E3 		mov	r3, #0
 2825 1624 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
1025:../cyfxslfifosync.c ****  							break;
 2826              		.loc 1 1025 0
 2827 1628 0000A0E1 		mov	r0, r0	@ nop
 2828              	.L141:
1026:../cyfxslfifosync.c ****  					}
1027:../cyfxslfifosync.c **** 
1028:../cyfxslfifosync.c ****  					for(block = 0; block < LMS_Ctrl_Packet_Rx->Header.Data_blocks; block++)
 2829              		.loc 1 1028 0
 2830 162c 243A9FE5 		ldr	r3, .L244+32
 2831 1630 0020A0E3 		mov	r2, #0
 2832 1634 0020C3E5 		strb	r2, [r3]
 2833 1638 450000EA 		b	.L142
 2834              	.L143:
1029:../cyfxslfifosync.c ****  					{
1030:../cyfxslfifosync.c ****  						//write reg addr
1031:../cyfxslfifosync.c ****  						sbi(LMS_Ctrl_Packet_Rx->Data_field[0 + (block * 4)], 7); //set write bit
 2835              		.loc 1 1031 0 discriminator 2
 2836 163c 3C3A9FE5 		ldr	r3, .L244+72
 2837 1640 000093E5 		ldr	r0, [r3]
 2838 1644 0C3A9FE5 		ldr	r3, .L244+32
 2839 1648 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 2840 164c 0311A0E1 		mov	r1, r3, asl #2
 2841 1650 283A9FE5 		ldr	r3, .L244+72
 2842 1654 00C093E5 		ldr	ip, [r3]
 2843 1658 F8399FE5 		ldr	r3, .L244+32
 2844 165c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 2845 1660 0321A0E1 		mov	r2, r3, asl #2
 2846 1664 0830A0E3 		mov	r3, #8
 2847 1668 02208CE0 		add	r2, ip, r2
 2848 166c 033082E0 		add	r3, r2, r3
 2849 1670 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 2850 1674 833CE0E1 		mvn	r3, r3, asl #25
 2851 1678 A33CE0E1 		mvn	r3, r3, lsr #25
 2852 167c FF2003E2 		and	r2, r3, #255
 2853 1680 0830A0E3 		mov	r3, #8
 2854 1684 011080E0 		add	r1, r0, r1
 2855 1688 033081E0 		add	r3, r1, r3
 2856 168c 0020C3E5 		strb	r2, [r3]
1032:../cyfxslfifosync.c **** 
1033:../cyfxslfifosync.c ****  						CyU3PSpiTransmitWords (&LMS_Ctrl_Packet_Rx->Data_field[0 + (block * 4)], 1); //reg addr MSB 
 2857              		.loc 1 1033 0 discriminator 2
 2858 1690 E8399FE5 		ldr	r3, .L244+72
 2859 1694 002093E5 		ldr	r2, [r3]
 2860 1698 B8399FE5 		ldr	r3, .L244+32
 2861 169c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 2862 16a0 0331A0E1 		mov	r3, r3, asl #2
 2863 16a4 083083E2 		add	r3, r3, #8
 2864 16a8 033082E0 		add	r3, r2, r3
 2865 16ac 0300A0E1 		mov	r0, r3
 2866 16b0 0110A0E3 		mov	r1, #1
 2867 16b4 FEFFFFEB 		bl	CyU3PSpiTransmitWords
1034:../cyfxslfifosync.c ****  						CyU3PSpiTransmitWords (&LMS_Ctrl_Packet_Rx->Data_field[1 + (block * 4)], 1); //reg addr LSB
 2868              		.loc 1 1034 0 discriminator 2
 2869 16b8 C0399FE5 		ldr	r3, .L244+72
 2870 16bc 002093E5 		ldr	r2, [r3]
 2871 16c0 90399FE5 		ldr	r3, .L244+32
 2872 16c4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 2873 16c8 0331A0E1 		mov	r3, r3, asl #2
 2874 16cc 013083E2 		add	r3, r3, #1
 2875 16d0 083083E2 		add	r3, r3, #8
 2876 16d4 033082E0 		add	r3, r2, r3
 2877 16d8 0300A0E1 		mov	r0, r3
 2878 16dc 0110A0E3 		mov	r1, #1
 2879 16e0 FEFFFFEB 		bl	CyU3PSpiTransmitWords
1035:../cyfxslfifosync.c **** 
1036:../cyfxslfifosync.c ****  						//write reg data
1037:../cyfxslfifosync.c ****  						CyU3PSpiTransmitWords (&LMS_Ctrl_Packet_Rx->Data_field[2 + (block * 4)], 1); //reg data MSB
 2880              		.loc 1 1037 0 discriminator 2
 2881 16e4 94399FE5 		ldr	r3, .L244+72
 2882 16e8 002093E5 		ldr	r2, [r3]
 2883 16ec 64399FE5 		ldr	r3, .L244+32
 2884 16f0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 2885 16f4 0331A0E1 		mov	r3, r3, asl #2
 2886 16f8 023083E2 		add	r3, r3, #2
 2887 16fc 083083E2 		add	r3, r3, #8
 2888 1700 033082E0 		add	r3, r2, r3
 2889 1704 0300A0E1 		mov	r0, r3
 2890 1708 0110A0E3 		mov	r1, #1
 2891 170c FEFFFFEB 		bl	CyU3PSpiTransmitWords
1038:../cyfxslfifosync.c ****  						CyU3PSpiTransmitWords (&LMS_Ctrl_Packet_Rx->Data_field[3 + (block * 4)], 1); //reg data LSB
 2892              		.loc 1 1038 0 discriminator 2
 2893 1710 68399FE5 		ldr	r3, .L244+72
 2894 1714 002093E5 		ldr	r2, [r3]
 2895 1718 38399FE5 		ldr	r3, .L244+32
 2896 171c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 2897 1720 0331A0E1 		mov	r3, r3, asl #2
 2898 1724 033083E2 		add	r3, r3, #3
 2899 1728 083083E2 		add	r3, r3, #8
 2900 172c 033082E0 		add	r3, r2, r3
 2901 1730 0300A0E1 		mov	r0, r3
 2902 1734 0110A0E3 		mov	r1, #1
 2903 1738 FEFFFFEB 		bl	CyU3PSpiTransmitWords
1028:../cyfxslfifosync.c ****  					{
 2904              		.loc 1 1028 0 discriminator 2
 2905 173c 14399FE5 		ldr	r3, .L244+32
 2906 1740 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 2907 1744 013083E2 		add	r3, r3, #1
 2908 1748 FF2003E2 		and	r2, r3, #255
 2909 174c 04399FE5 		ldr	r3, .L244+32
 2910 1750 0020C3E5 		strb	r2, [r3]
 2911              	.L142:
1028:../cyfxslfifosync.c ****  					{
 2912              		.loc 1 1028 0 is_stmt 0 discriminator 1
 2913 1754 24399FE5 		ldr	r3, .L244+72
 2914 1758 003093E5 		ldr	r3, [r3]
 2915 175c 0220D3E5 		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 2916 1760 F0389FE5 		ldr	r3, .L244+32
 2917 1764 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 2918 1768 030052E1 		cmp	r2, r3
 2919 176c B2FFFF8A 		bhi	.L143
1039:../cyfxslfifosync.c ****  					}
1040:../cyfxslfifosync.c **** 
1041:../cyfxslfifosync.c ****  					switch(LMS_Ctrl_Packet_Rx->Header.Periph_ID)
 2920              		.loc 1 1041 0 is_stmt 1
 2921 1770 08399FE5 		ldr	r3, .L244+72
 2922 1774 003093E5 		ldr	r3, [r3]
 2923 1778 0330D3E5 		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2924 177c 010053E3 		cmp	r3, #1
 2925 1780 0500000A 		beq	.L145
1042:../cyfxslfifosync.c ****  					{
1043:../cyfxslfifosync.c ****  						default:
1044:../cyfxslfifosync.c ****  						case 0:
1045:../cyfxslfifosync.c ****  							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS1_SS, LMS1_SS, 1); //Disable LMS's
 2926              		.loc 1 1045 0
 2927 1784 1300A0E3 		mov	r0, #19
 2928 1788 0010A0E3 		mov	r1, #0
 2929 178c 0020A0E3 		mov	r2, #0
 2930 1790 0130A0E3 		mov	r3, #1
 2931 1794 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
1046:../cyfxslfifosync.c ****  							break;
 2932              		.loc 1 1046 0
 2933 1798 050000EA 		b	.L146
 2934              	.L145:
1047:../cyfxslfifosync.c ****  						case 1:
1048:../cyfxslfifosync.c ****  							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS2_SS, LMS2_SS, 1); //Disable LMS's
 2935              		.loc 1 1048 0
 2936 179c 1300A0E3 		mov	r0, #19
 2937 17a0 0810A0E3 		mov	r1, #8
 2938 17a4 0820A0E3 		mov	r2, #8
 2939 17a8 0130A0E3 		mov	r3, #1
 2940 17ac FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
1049:../cyfxslfifosync.c ****  							break;
 2941              		.loc 1 1049 0
 2942 17b0 0000A0E1 		mov	r0, r0	@ nop
 2943              	.L146:
1050:../cyfxslfifosync.c ****  					}
1051:../cyfxslfifosync.c **** 
1052:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 2944              		.loc 1 1052 0
 2945 17b4 A8389FE5 		ldr	r3, .L244+44
 2946 17b8 003093E5 		ldr	r3, [r3]
 2947 17bc 0120A0E3 		mov	r2, #1
 2948 17c0 0120C3E5 		strb	r2, [r3, #1]
1053:../cyfxslfifosync.c ****  					break;
 2949              		.loc 1 1053 0
 2950 17c4 D30600EA 		b	.L121
 2951              	.L111:
1054:../cyfxslfifosync.c **** 
1055:../cyfxslfifosync.c ****  				case CMD_LMS7002_RD:
1056:../cyfxslfifosync.c ****  					if(!Check_Periph_ID(MAX_ID_LMS7, LMS_Ctrl_Packet_Rx->Header.Periph_ID)) break;
 2952              		.loc 1 1056 0
 2953 17c8 B0389FE5 		ldr	r3, .L244+72
 2954 17cc 003093E5 		ldr	r3, [r3]
 2955 17d0 0330D3E5 		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2956 17d4 0100A0E3 		mov	r0, #1
 2957 17d8 0310A0E1 		mov	r1, r3
 2958 17dc FEFFFFEB 		bl	Check_Periph_ID
 2959 17e0 0030A0E1 		mov	r3, r0
 2960 17e4 000053E3 		cmp	r3, #0
 2961 17e8 0000001A 		bne	.L147
 2962              		.loc 1 1056 0 is_stmt 0 discriminator 1
 2963 17ec C90600EA 		b	.L121
 2964              	.L147:
1057:../cyfxslfifosync.c ****  					if(Check_many_blocks (4)) break;
 2965              		.loc 1 1057 0 is_stmt 1
 2966 17f0 0400A0E3 		mov	r0, #4
 2967 17f4 FEFFFFEB 		bl	Check_many_blocks
 2968 17f8 0030A0E1 		mov	r3, r0
 2969 17fc 000053E3 		cmp	r3, #0
 2970 1800 0000000A 		beq	.L148
 2971              		.loc 1 1057 0 is_stmt 0 discriminator 1
 2972 1804 C30600EA 		b	.L121
 2973              	.L148:
1058:../cyfxslfifosync.c ****  					Reconfigure_SPI_for_LMS ();
 2974              		.loc 1 1058 0 is_stmt 1
 2975 1808 FEFFFFEB 		bl	Reconfigure_SPI_for_LMS
1059:../cyfxslfifosync.c **** 
1060:../cyfxslfifosync.c ****  					switch(LMS_Ctrl_Packet_Rx->Header.Periph_ID)
 2976              		.loc 1 1060 0
 2977 180c 6C389FE5 		ldr	r3, .L244+72
 2978 1810 003093E5 		ldr	r3, [r3]
 2979 1814 0330D3E5 		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2980 1818 010053E3 		cmp	r3, #1
 2981 181c 0500000A 		beq	.L150
1061:../cyfxslfifosync.c ****  					{
1062:../cyfxslfifosync.c ****  						default:
1063:../cyfxslfifosync.c ****  						case 0:
1064:../cyfxslfifosync.c ****  							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS1_SS, LMS1_SS, 0); //Enable LMS's 
 2982              		.loc 1 1064 0
 2983 1820 1300A0E3 		mov	r0, #19
 2984 1824 0010A0E3 		mov	r1, #0
 2985 1828 0020A0E3 		mov	r2, #0
 2986 182c 0030A0E3 		mov	r3, #0
 2987 1830 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
1065:../cyfxslfifosync.c ****  							break;
 2988              		.loc 1 1065 0
 2989 1834 050000EA 		b	.L151
 2990              	.L150:
1066:../cyfxslfifosync.c ****  						case 1:
1067:../cyfxslfifosync.c ****  							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS2_SS, LMS2_SS, 0); //Enable LMS's 
 2991              		.loc 1 1067 0
 2992 1838 1300A0E3 		mov	r0, #19
 2993 183c 0810A0E3 		mov	r1, #8
 2994 1840 0820A0E3 		mov	r2, #8
 2995 1844 0030A0E3 		mov	r3, #0
 2996 1848 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
1068:../cyfxslfifosync.c ****  							break;
 2997              		.loc 1 1068 0
 2998 184c 0000A0E1 		mov	r0, r0	@ nop
 2999              	.L151:
1069:../cyfxslfifosync.c ****  					}
1070:../cyfxslfifosync.c **** 
1071:../cyfxslfifosync.c ****  					for(block = 0; block < LMS_Ctrl_Packet_Rx->Header.Data_blocks; block++)
 3000              		.loc 1 1071 0
 3001 1850 00389FE5 		ldr	r3, .L244+32
 3002 1854 0020A0E3 		mov	r2, #0
 3003 1858 0020C3E5 		strb	r2, [r3]
 3004 185c 6A0000EA 		b	.L152
 3005              	.L153:
1072:../cyfxslfifosync.c ****  					{
1073:../cyfxslfifosync.c ****  						//write reg addr
1074:../cyfxslfifosync.c ****  						cbi(LMS_Ctrl_Packet_Rx->Data_field[0 + (block * 2)], 7);  //clear write bit
 3006              		.loc 1 1074 0 discriminator 2
 3007 1860 18389FE5 		ldr	r3, .L244+72
 3008 1864 000093E5 		ldr	r0, [r3]
 3009 1868 E8379FE5 		ldr	r3, .L244+32
 3010 186c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3011 1870 8310A0E1 		mov	r1, r3, asl #1
 3012 1874 04389FE5 		ldr	r3, .L244+72
 3013 1878 00C093E5 		ldr	ip, [r3]
 3014 187c D4379FE5 		ldr	r3, .L244+32
 3015 1880 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3016 1884 8320A0E1 		mov	r2, r3, asl #1
 3017 1888 0830A0E3 		mov	r3, #8
 3018 188c 02208CE0 		add	r2, ip, r2
 3019 1890 033082E0 		add	r3, r2, r3
 3020 1894 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3021 1898 7F3003E2 		and	r3, r3, #127
 3022 189c FF2003E2 		and	r2, r3, #255
 3023 18a0 0830A0E3 		mov	r3, #8
 3024 18a4 011080E0 		add	r1, r0, r1
 3025 18a8 033081E0 		add	r3, r1, r3
 3026 18ac 0020C3E5 		strb	r2, [r3]
1075:../cyfxslfifosync.c **** 
1076:../cyfxslfifosync.c ****  						CyU3PSpiTransmitWords (&LMS_Ctrl_Packet_Rx->Data_field[0 + (block * 2)], 1); //reg addr MSB
 3027              		.loc 1 1076 0 discriminator 2
 3028 18b0 C8379FE5 		ldr	r3, .L244+72
 3029 18b4 002093E5 		ldr	r2, [r3]
 3030 18b8 98379FE5 		ldr	r3, .L244+32
 3031 18bc 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3032 18c0 8330A0E1 		mov	r3, r3, asl #1
 3033 18c4 083083E2 		add	r3, r3, #8
 3034 18c8 033082E0 		add	r3, r2, r3
 3035 18cc 0300A0E1 		mov	r0, r3
 3036 18d0 0110A0E3 		mov	r1, #1
 3037 18d4 FEFFFFEB 		bl	CyU3PSpiTransmitWords
1077:../cyfxslfifosync.c ****  						CyU3PSpiTransmitWords (&LMS_Ctrl_Packet_Rx->Data_field[1 + (block * 2)], 1); //reg addr LSB
 3038              		.loc 1 1077 0 discriminator 2
 3039 18d8 A0379FE5 		ldr	r3, .L244+72
 3040 18dc 002093E5 		ldr	r2, [r3]
 3041 18e0 70379FE5 		ldr	r3, .L244+32
 3042 18e4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3043 18e8 8330A0E1 		mov	r3, r3, asl #1
 3044 18ec 013083E2 		add	r3, r3, #1
 3045 18f0 083083E2 		add	r3, r3, #8
 3046 18f4 033082E0 		add	r3, r2, r3
 3047 18f8 0300A0E1 		mov	r0, r3
 3048 18fc 0110A0E3 		mov	r1, #1
 3049 1900 FEFFFFEB 		bl	CyU3PSpiTransmitWords
1078:../cyfxslfifosync.c **** 
1079:../cyfxslfifosync.c ****  						LMS_Ctrl_Packet_Tx->Data_field[0 + (block * 4)] = LMS_Ctrl_Packet_Rx->Data_field[0 + (block 
 3050              		.loc 1 1079 0 discriminator 2
 3051 1904 58379FE5 		ldr	r3, .L244+44
 3052 1908 000093E5 		ldr	r0, [r3]
 3053 190c 44379FE5 		ldr	r3, .L244+32
 3054 1910 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3055 1914 0311A0E1 		mov	r1, r3, asl #2
 3056 1918 60379FE5 		ldr	r3, .L244+72
 3057 191c 00C093E5 		ldr	ip, [r3]
 3058 1920 30379FE5 		ldr	r3, .L244+32
 3059 1924 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3060 1928 8320A0E1 		mov	r2, r3, asl #1
 3061 192c 0830A0E3 		mov	r3, #8
 3062 1930 02208CE0 		add	r2, ip, r2
 3063 1934 033082E0 		add	r3, r2, r3
 3064 1938 0020D3E5 		ldrb	r2, [r3]	@ zero_extendqisi2
 3065 193c 0830A0E3 		mov	r3, #8
 3066 1940 011080E0 		add	r1, r0, r1
 3067 1944 033081E0 		add	r3, r1, r3
 3068 1948 0020C3E5 		strb	r2, [r3]
1080:../cyfxslfifosync.c ****  						LMS_Ctrl_Packet_Tx->Data_field[1 + (block * 4)] = LMS_Ctrl_Packet_Rx->Data_field[1 + (block 
 3069              		.loc 1 1080 0 discriminator 2
 3070 194c 10379FE5 		ldr	r3, .L244+44
 3071 1950 000093E5 		ldr	r0, [r3]
 3072 1954 FC369FE5 		ldr	r3, .L244+32
 3073 1958 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3074 195c 0331A0E1 		mov	r3, r3, asl #2
 3075 1960 011083E2 		add	r1, r3, #1
 3076 1964 14379FE5 		ldr	r3, .L244+72
 3077 1968 00C093E5 		ldr	ip, [r3]
 3078 196c E4369FE5 		ldr	r3, .L244+32
 3079 1970 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3080 1974 8330A0E1 		mov	r3, r3, asl #1
 3081 1978 012083E2 		add	r2, r3, #1
 3082 197c 0830A0E3 		mov	r3, #8
 3083 1980 02208CE0 		add	r2, ip, r2
 3084 1984 033082E0 		add	r3, r2, r3
 3085 1988 0020D3E5 		ldrb	r2, [r3]	@ zero_extendqisi2
 3086 198c 0830A0E3 		mov	r3, #8
 3087 1990 011080E0 		add	r1, r0, r1
 3088 1994 033081E0 		add	r3, r1, r3
 3089 1998 0020C3E5 		strb	r2, [r3]
1081:../cyfxslfifosync.c **** 
1082:../cyfxslfifosync.c ****  						//read reg data
1083:../cyfxslfifosync.c ****  						CyU3PSpiReceiveWords (&LMS_Ctrl_Packet_Tx->Data_field[2 + (block * 4)], 1); //reg data MSB
 3090              		.loc 1 1083 0 discriminator 2
 3091 199c C0369FE5 		ldr	r3, .L244+44
 3092 19a0 002093E5 		ldr	r2, [r3]
 3093 19a4 AC369FE5 		ldr	r3, .L244+32
 3094 19a8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3095 19ac 0331A0E1 		mov	r3, r3, asl #2
 3096 19b0 023083E2 		add	r3, r3, #2
 3097 19b4 083083E2 		add	r3, r3, #8
 3098 19b8 033082E0 		add	r3, r2, r3
 3099 19bc 0300A0E1 		mov	r0, r3
 3100 19c0 0110A0E3 		mov	r1, #1
 3101 19c4 FEFFFFEB 		bl	CyU3PSpiReceiveWords
1084:../cyfxslfifosync.c ****  						CyU3PSpiReceiveWords (&LMS_Ctrl_Packet_Tx->Data_field[3 + (block * 4)], 1); //reg data LSB
 3102              		.loc 1 1084 0 discriminator 2
 3103 19c8 94369FE5 		ldr	r3, .L244+44
 3104 19cc 002093E5 		ldr	r2, [r3]
 3105 19d0 80369FE5 		ldr	r3, .L244+32
 3106 19d4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3107 19d8 0331A0E1 		mov	r3, r3, asl #2
 3108 19dc 033083E2 		add	r3, r3, #3
 3109 19e0 083083E2 		add	r3, r3, #8
 3110 19e4 033082E0 		add	r3, r2, r3
 3111 19e8 0300A0E1 		mov	r0, r3
 3112 19ec 0110A0E3 		mov	r1, #1
 3113 19f0 FEFFFFEB 		bl	CyU3PSpiReceiveWords
1071:../cyfxslfifosync.c ****  					{
 3114              		.loc 1 1071 0 discriminator 2
 3115 19f4 5C369FE5 		ldr	r3, .L244+32
 3116 19f8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3117 19fc 013083E2 		add	r3, r3, #1
 3118 1a00 FF2003E2 		and	r2, r3, #255
 3119 1a04 4C369FE5 		ldr	r3, .L244+32
 3120 1a08 0020C3E5 		strb	r2, [r3]
 3121              	.L152:
1071:../cyfxslfifosync.c ****  					{
 3122              		.loc 1 1071 0 is_stmt 0 discriminator 1
 3123 1a0c 6C369FE5 		ldr	r3, .L244+72
 3124 1a10 003093E5 		ldr	r3, [r3]
 3125 1a14 0220D3E5 		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 3126 1a18 38369FE5 		ldr	r3, .L244+32
 3127 1a1c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3128 1a20 030052E1 		cmp	r2, r3
 3129 1a24 8DFFFF8A 		bhi	.L153
1085:../cyfxslfifosync.c ****  					}
1086:../cyfxslfifosync.c **** 
1087:../cyfxslfifosync.c ****  					switch(LMS_Ctrl_Packet_Rx->Header.Periph_ID)
 3130              		.loc 1 1087 0 is_stmt 1
 3131 1a28 50369FE5 		ldr	r3, .L244+72
 3132 1a2c 003093E5 		ldr	r3, [r3]
 3133 1a30 0330D3E5 		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3134 1a34 010053E3 		cmp	r3, #1
 3135 1a38 0500000A 		beq	.L155
1088:../cyfxslfifosync.c ****  					{
1089:../cyfxslfifosync.c ****  						default:
1090:../cyfxslfifosync.c ****  						case 0:
1091:../cyfxslfifosync.c ****  							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS1_SS, LMS1_SS, 1); //Disable LMS's
 3136              		.loc 1 1091 0
 3137 1a3c 1300A0E3 		mov	r0, #19
 3138 1a40 0010A0E3 		mov	r1, #0
 3139 1a44 0020A0E3 		mov	r2, #0
 3140 1a48 0130A0E3 		mov	r3, #1
 3141 1a4c FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
1092:../cyfxslfifosync.c ****  							break;
 3142              		.loc 1 1092 0
 3143 1a50 050000EA 		b	.L156
 3144              	.L155:
1093:../cyfxslfifosync.c ****  						case 1:
1094:../cyfxslfifosync.c ****  							Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_LMS1_LMS2_CTRL, LMS2_SS, LMS2_SS, 1); //Disable LMS's
 3145              		.loc 1 1094 0
 3146 1a54 1300A0E3 		mov	r0, #19
 3147 1a58 0810A0E3 		mov	r1, #8
 3148 1a5c 0820A0E3 		mov	r2, #8
 3149 1a60 0130A0E3 		mov	r3, #1
 3150 1a64 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
1095:../cyfxslfifosync.c ****  							break;
 3151              		.loc 1 1095 0
 3152 1a68 0000A0E1 		mov	r0, r0	@ nop
 3153              	.L156:
1096:../cyfxslfifosync.c ****  					}
1097:../cyfxslfifosync.c **** 
1098:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 3154              		.loc 1 1098 0
 3155 1a6c F0359FE5 		ldr	r3, .L244+44
 3156 1a70 003093E5 		ldr	r3, [r3]
 3157 1a74 0120A0E3 		mov	r2, #1
 3158 1a78 0120C3E5 		strb	r2, [r3, #1]
1099:../cyfxslfifosync.c ****  					break;
 3159              		.loc 1 1099 0
 3160 1a7c 250600EA 		b	.L121
 3161              	.L115:
1100:../cyfxslfifosync.c **** 
1101:../cyfxslfifosync.c ****  				case CMD_BRDSPI16_WR:
1102:../cyfxslfifosync.c ****  					if(Check_many_blocks (4)) break;
 3162              		.loc 1 1102 0
 3163 1a80 0400A0E3 		mov	r0, #4
 3164 1a84 FEFFFFEB 		bl	Check_many_blocks
 3165 1a88 0030A0E1 		mov	r3, r0
 3166 1a8c 000053E3 		cmp	r3, #0
 3167 1a90 0000000A 		beq	.L157
 3168              		.loc 1 1102 0 is_stmt 0 discriminator 1
 3169 1a94 1F0600EA 		b	.L121
 3170              	.L157:
1103:../cyfxslfifosync.c ****  					Reconfigure_SPI_for_LMS ();
 3171              		.loc 1 1103 0 is_stmt 1
 3172 1a98 FEFFFFEB 		bl	Reconfigure_SPI_for_LMS
1104:../cyfxslfifosync.c **** 
1105:../cyfxslfifosync.c ****  					CyU3PGpioSetValue (FX3_FPGA_SS, CyFalse); //Enable BRD SPI
 3173              		.loc 1 1105 0
 3174 1a9c 2E00A0E3 		mov	r0, #46
 3175 1aa0 0010A0E3 		mov	r1, #0
 3176 1aa4 FEFFFFEB 		bl	CyU3PGpioSetValue
1106:../cyfxslfifosync.c **** 
1107:../cyfxslfifosync.c ****  					for(block = 0; block < LMS_Ctrl_Packet_Rx->Header.Data_blocks; block++)
 3177              		.loc 1 1107 0
 3178 1aa8 A8359FE5 		ldr	r3, .L244+32
 3179 1aac 0020A0E3 		mov	r2, #0
 3180 1ab0 0020C3E5 		strb	r2, [r3]
 3181 1ab4 450000EA 		b	.L158
 3182              	.L159:
1108:../cyfxslfifosync.c ****  					{
1109:../cyfxslfifosync.c ****  						//write reg addr
1110:../cyfxslfifosync.c ****  						sbi(LMS_Ctrl_Packet_Rx->Data_field[0 + (block * 4)], 7); //set write bit
 3183              		.loc 1 1110 0 discriminator 2
 3184 1ab8 C0359FE5 		ldr	r3, .L244+72
 3185 1abc 000093E5 		ldr	r0, [r3]
 3186 1ac0 90359FE5 		ldr	r3, .L244+32
 3187 1ac4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3188 1ac8 0311A0E1 		mov	r1, r3, asl #2
 3189 1acc AC359FE5 		ldr	r3, .L244+72
 3190 1ad0 00C093E5 		ldr	ip, [r3]
 3191 1ad4 7C359FE5 		ldr	r3, .L244+32
 3192 1ad8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3193 1adc 0321A0E1 		mov	r2, r3, asl #2
 3194 1ae0 0830A0E3 		mov	r3, #8
 3195 1ae4 02208CE0 		add	r2, ip, r2
 3196 1ae8 033082E0 		add	r3, r2, r3
 3197 1aec 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3198 1af0 833CE0E1 		mvn	r3, r3, asl #25
 3199 1af4 A33CE0E1 		mvn	r3, r3, lsr #25
 3200 1af8 FF2003E2 		and	r2, r3, #255
 3201 1afc 0830A0E3 		mov	r3, #8
 3202 1b00 011080E0 		add	r1, r0, r1
 3203 1b04 033081E0 		add	r3, r1, r3
 3204 1b08 0020C3E5 		strb	r2, [r3]
1111:../cyfxslfifosync.c **** 
1112:../cyfxslfifosync.c ****  						CyU3PSpiTransmitWords (&LMS_Ctrl_Packet_Rx->Data_field[0 + (block * 4)], 1); //reg addr MSB 
 3205              		.loc 1 1112 0 discriminator 2
 3206 1b0c 6C359FE5 		ldr	r3, .L244+72
 3207 1b10 002093E5 		ldr	r2, [r3]
 3208 1b14 3C359FE5 		ldr	r3, .L244+32
 3209 1b18 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3210 1b1c 0331A0E1 		mov	r3, r3, asl #2
 3211 1b20 083083E2 		add	r3, r3, #8
 3212 1b24 033082E0 		add	r3, r2, r3
 3213 1b28 0300A0E1 		mov	r0, r3
 3214 1b2c 0110A0E3 		mov	r1, #1
 3215 1b30 FEFFFFEB 		bl	CyU3PSpiTransmitWords
1113:../cyfxslfifosync.c ****  						CyU3PSpiTransmitWords (&LMS_Ctrl_Packet_Rx->Data_field[1 + (block * 4)], 1); //reg addr LSB
 3216              		.loc 1 1113 0 discriminator 2
 3217 1b34 44359FE5 		ldr	r3, .L244+72
 3218 1b38 002093E5 		ldr	r2, [r3]
 3219 1b3c 14359FE5 		ldr	r3, .L244+32
 3220 1b40 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3221 1b44 0331A0E1 		mov	r3, r3, asl #2
 3222 1b48 013083E2 		add	r3, r3, #1
 3223 1b4c 083083E2 		add	r3, r3, #8
 3224 1b50 033082E0 		add	r3, r2, r3
 3225 1b54 0300A0E1 		mov	r0, r3
 3226 1b58 0110A0E3 		mov	r1, #1
 3227 1b5c FEFFFFEB 		bl	CyU3PSpiTransmitWords
1114:../cyfxslfifosync.c **** 
1115:../cyfxslfifosync.c ****  						//write reg data
1116:../cyfxslfifosync.c ****  						CyU3PSpiTransmitWords (&LMS_Ctrl_Packet_Rx->Data_field[2 + (block * 4)], 1); //reg data MSB
 3228              		.loc 1 1116 0 discriminator 2
 3229 1b60 18359FE5 		ldr	r3, .L244+72
 3230 1b64 002093E5 		ldr	r2, [r3]
 3231 1b68 E8349FE5 		ldr	r3, .L244+32
 3232 1b6c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3233 1b70 0331A0E1 		mov	r3, r3, asl #2
 3234 1b74 023083E2 		add	r3, r3, #2
 3235 1b78 083083E2 		add	r3, r3, #8
 3236 1b7c 033082E0 		add	r3, r2, r3
 3237 1b80 0300A0E1 		mov	r0, r3
 3238 1b84 0110A0E3 		mov	r1, #1
 3239 1b88 FEFFFFEB 		bl	CyU3PSpiTransmitWords
1117:../cyfxslfifosync.c ****  						CyU3PSpiTransmitWords (&LMS_Ctrl_Packet_Rx->Data_field[3 + (block * 4)], 1); //reg data LSB
 3240              		.loc 1 1117 0 discriminator 2
 3241 1b8c EC349FE5 		ldr	r3, .L244+72
 3242 1b90 002093E5 		ldr	r2, [r3]
 3243 1b94 BC349FE5 		ldr	r3, .L244+32
 3244 1b98 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3245 1b9c 0331A0E1 		mov	r3, r3, asl #2
 3246 1ba0 033083E2 		add	r3, r3, #3
 3247 1ba4 083083E2 		add	r3, r3, #8
 3248 1ba8 033082E0 		add	r3, r2, r3
 3249 1bac 0300A0E1 		mov	r0, r3
 3250 1bb0 0110A0E3 		mov	r1, #1
 3251 1bb4 FEFFFFEB 		bl	CyU3PSpiTransmitWords
1107:../cyfxslfifosync.c ****  					{
 3252              		.loc 1 1107 0 discriminator 2
 3253 1bb8 98349FE5 		ldr	r3, .L244+32
 3254 1bbc 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3255 1bc0 013083E2 		add	r3, r3, #1
 3256 1bc4 FF2003E2 		and	r2, r3, #255
 3257 1bc8 88349FE5 		ldr	r3, .L244+32
 3258 1bcc 0020C3E5 		strb	r2, [r3]
 3259              	.L158:
1107:../cyfxslfifosync.c ****  					{
 3260              		.loc 1 1107 0 is_stmt 0 discriminator 1
 3261 1bd0 A8349FE5 		ldr	r3, .L244+72
 3262 1bd4 003093E5 		ldr	r3, [r3]
 3263 1bd8 0220D3E5 		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 3264 1bdc 74349FE5 		ldr	r3, .L244+32
 3265 1be0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3266 1be4 030052E1 		cmp	r2, r3
 3267 1be8 B2FFFF8A 		bhi	.L159
1118:../cyfxslfifosync.c ****  					}
1119:../cyfxslfifosync.c **** 
1120:../cyfxslfifosync.c ****  					CyU3PGpioSetValue (FX3_FPGA_SS, CyTrue); //Disable BRD SPI
 3268              		.loc 1 1120 0 is_stmt 1
 3269 1bec 2E00A0E3 		mov	r0, #46
 3270 1bf0 0110A0E3 		mov	r1, #1
 3271 1bf4 FEFFFFEB 		bl	CyU3PGpioSetValue
1121:../cyfxslfifosync.c **** 
1122:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 3272              		.loc 1 1122 0
 3273 1bf8 64349FE5 		ldr	r3, .L244+44
 3274 1bfc 003093E5 		ldr	r3, [r3]
 3275 1c00 0120A0E3 		mov	r2, #1
 3276 1c04 0120C3E5 		strb	r2, [r3, #1]
1123:../cyfxslfifosync.c ****  					break;
 3277              		.loc 1 1123 0
 3278 1c08 C20500EA 		b	.L121
 3279              	.L116:
1124:../cyfxslfifosync.c **** 
1125:../cyfxslfifosync.c ****  				case CMD_BRDSPI16_RD:
1126:../cyfxslfifosync.c ****  					if(Check_many_blocks (4)) break;
 3280              		.loc 1 1126 0
 3281 1c0c 0400A0E3 		mov	r0, #4
 3282 1c10 FEFFFFEB 		bl	Check_many_blocks
 3283 1c14 0030A0E1 		mov	r3, r0
 3284 1c18 000053E3 		cmp	r3, #0
 3285 1c1c 0000000A 		beq	.L160
 3286              		.loc 1 1126 0 is_stmt 0 discriminator 1
 3287 1c20 BC0500EA 		b	.L121
 3288              	.L160:
1127:../cyfxslfifosync.c ****  					Reconfigure_SPI_for_LMS ();
 3289              		.loc 1 1127 0 is_stmt 1
 3290 1c24 FEFFFFEB 		bl	Reconfigure_SPI_for_LMS
1128:../cyfxslfifosync.c **** 
1129:../cyfxslfifosync.c ****  					CyU3PGpioSetValue (FX3_FPGA_SS, CyFalse); //Enable BRD SPI
 3291              		.loc 1 1129 0
 3292 1c28 2E00A0E3 		mov	r0, #46
 3293 1c2c 0010A0E3 		mov	r1, #0
 3294 1c30 FEFFFFEB 		bl	CyU3PGpioSetValue
1130:../cyfxslfifosync.c **** 
1131:../cyfxslfifosync.c ****  					for(block = 0; block < LMS_Ctrl_Packet_Rx->Header.Data_blocks; block++)
 3295              		.loc 1 1131 0
 3296 1c34 1C349FE5 		ldr	r3, .L244+32
 3297 1c38 0020A0E3 		mov	r2, #0
 3298 1c3c 0020C3E5 		strb	r2, [r3]
 3299 1c40 6A0000EA 		b	.L161
 3300              	.L162:
1132:../cyfxslfifosync.c ****  					{
1133:../cyfxslfifosync.c ****  						//write reg addr
1134:../cyfxslfifosync.c ****  						cbi(LMS_Ctrl_Packet_Rx->Data_field[0 + (block * 2)], 7);  //clear write bit
 3301              		.loc 1 1134 0 discriminator 2
 3302 1c44 34349FE5 		ldr	r3, .L244+72
 3303 1c48 000093E5 		ldr	r0, [r3]
 3304 1c4c 04349FE5 		ldr	r3, .L244+32
 3305 1c50 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3306 1c54 8310A0E1 		mov	r1, r3, asl #1
 3307 1c58 20349FE5 		ldr	r3, .L244+72
 3308 1c5c 00C093E5 		ldr	ip, [r3]
 3309 1c60 F0339FE5 		ldr	r3, .L244+32
 3310 1c64 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3311 1c68 8320A0E1 		mov	r2, r3, asl #1
 3312 1c6c 0830A0E3 		mov	r3, #8
 3313 1c70 02208CE0 		add	r2, ip, r2
 3314 1c74 033082E0 		add	r3, r2, r3
 3315 1c78 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3316 1c7c 7F3003E2 		and	r3, r3, #127
 3317 1c80 FF2003E2 		and	r2, r3, #255
 3318 1c84 0830A0E3 		mov	r3, #8
 3319 1c88 011080E0 		add	r1, r0, r1
 3320 1c8c 033081E0 		add	r3, r1, r3
 3321 1c90 0020C3E5 		strb	r2, [r3]
1135:../cyfxslfifosync.c **** 
1136:../cyfxslfifosync.c ****  						CyU3PSpiTransmitWords (&LMS_Ctrl_Packet_Rx->Data_field[0 + (block * 4)], 1); //reg addr MSB 
 3322              		.loc 1 1136 0 discriminator 2
 3323 1c94 E4339FE5 		ldr	r3, .L244+72
 3324 1c98 002093E5 		ldr	r2, [r3]
 3325 1c9c B4339FE5 		ldr	r3, .L244+32
 3326 1ca0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3327 1ca4 0331A0E1 		mov	r3, r3, asl #2
 3328 1ca8 083083E2 		add	r3, r3, #8
 3329 1cac 033082E0 		add	r3, r2, r3
 3330 1cb0 0300A0E1 		mov	r0, r3
 3331 1cb4 0110A0E3 		mov	r1, #1
 3332 1cb8 FEFFFFEB 		bl	CyU3PSpiTransmitWords
1137:../cyfxslfifosync.c ****  						CyU3PSpiTransmitWords (&LMS_Ctrl_Packet_Rx->Data_field[1 + (block * 4)], 1); //reg addr LSB
 3333              		.loc 1 1137 0 discriminator 2
 3334 1cbc BC339FE5 		ldr	r3, .L244+72
 3335 1cc0 002093E5 		ldr	r2, [r3]
 3336 1cc4 8C339FE5 		ldr	r3, .L244+32
 3337 1cc8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3338 1ccc 0331A0E1 		mov	r3, r3, asl #2
 3339 1cd0 013083E2 		add	r3, r3, #1
 3340 1cd4 083083E2 		add	r3, r3, #8
 3341 1cd8 033082E0 		add	r3, r2, r3
 3342 1cdc 0300A0E1 		mov	r0, r3
 3343 1ce0 0110A0E3 		mov	r1, #1
 3344 1ce4 FEFFFFEB 		bl	CyU3PSpiTransmitWords
1138:../cyfxslfifosync.c **** 
1139:../cyfxslfifosync.c ****  						LMS_Ctrl_Packet_Tx->Data_field[0 + (block * 4)] = LMS_Ctrl_Packet_Rx->Data_field[0 + (block 
 3345              		.loc 1 1139 0 discriminator 2
 3346 1ce8 74339FE5 		ldr	r3, .L244+44
 3347 1cec 000093E5 		ldr	r0, [r3]
 3348 1cf0 60339FE5 		ldr	r3, .L244+32
 3349 1cf4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3350 1cf8 0311A0E1 		mov	r1, r3, asl #2
 3351 1cfc 7C339FE5 		ldr	r3, .L244+72
 3352 1d00 00C093E5 		ldr	ip, [r3]
 3353 1d04 4C339FE5 		ldr	r3, .L244+32
 3354 1d08 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3355 1d0c 8320A0E1 		mov	r2, r3, asl #1
 3356 1d10 0830A0E3 		mov	r3, #8
 3357 1d14 02208CE0 		add	r2, ip, r2
 3358 1d18 033082E0 		add	r3, r2, r3
 3359 1d1c 0020D3E5 		ldrb	r2, [r3]	@ zero_extendqisi2
 3360 1d20 0830A0E3 		mov	r3, #8
 3361 1d24 011080E0 		add	r1, r0, r1
 3362 1d28 033081E0 		add	r3, r1, r3
 3363 1d2c 0020C3E5 		strb	r2, [r3]
1140:../cyfxslfifosync.c ****  						LMS_Ctrl_Packet_Tx->Data_field[1 + (block * 4)] = LMS_Ctrl_Packet_Rx->Data_field[1 + (block 
 3364              		.loc 1 1140 0 discriminator 2
 3365 1d30 2C339FE5 		ldr	r3, .L244+44
 3366 1d34 000093E5 		ldr	r0, [r3]
 3367 1d38 18339FE5 		ldr	r3, .L244+32
 3368 1d3c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3369 1d40 0331A0E1 		mov	r3, r3, asl #2
 3370 1d44 011083E2 		add	r1, r3, #1
 3371 1d48 30339FE5 		ldr	r3, .L244+72
 3372 1d4c 00C093E5 		ldr	ip, [r3]
 3373 1d50 00339FE5 		ldr	r3, .L244+32
 3374 1d54 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3375 1d58 8330A0E1 		mov	r3, r3, asl #1
 3376 1d5c 012083E2 		add	r2, r3, #1
 3377 1d60 0830A0E3 		mov	r3, #8
 3378 1d64 02208CE0 		add	r2, ip, r2
 3379 1d68 033082E0 		add	r3, r2, r3
 3380 1d6c 0020D3E5 		ldrb	r2, [r3]	@ zero_extendqisi2
 3381 1d70 0830A0E3 		mov	r3, #8
 3382 1d74 011080E0 		add	r1, r0, r1
 3383 1d78 033081E0 		add	r3, r1, r3
 3384 1d7c 0020C3E5 		strb	r2, [r3]
1141:../cyfxslfifosync.c **** 
1142:../cyfxslfifosync.c ****  						//read reg data
1143:../cyfxslfifosync.c ****  						CyU3PSpiReceiveWords (&LMS_Ctrl_Packet_Tx->Data_field[2 + (block * 4)], 1); //reg data MSB
 3385              		.loc 1 1143 0 discriminator 2
 3386 1d80 DC329FE5 		ldr	r3, .L244+44
 3387 1d84 002093E5 		ldr	r2, [r3]
 3388 1d88 C8329FE5 		ldr	r3, .L244+32
 3389 1d8c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3390 1d90 0331A0E1 		mov	r3, r3, asl #2
 3391 1d94 023083E2 		add	r3, r3, #2
 3392 1d98 083083E2 		add	r3, r3, #8
 3393 1d9c 033082E0 		add	r3, r2, r3
 3394 1da0 0300A0E1 		mov	r0, r3
 3395 1da4 0110A0E3 		mov	r1, #1
 3396 1da8 FEFFFFEB 		bl	CyU3PSpiReceiveWords
1144:../cyfxslfifosync.c ****  						CyU3PSpiReceiveWords (&LMS_Ctrl_Packet_Tx->Data_field[3 + (block * 4)], 1); //reg data LSB
 3397              		.loc 1 1144 0 discriminator 2
 3398 1dac B0329FE5 		ldr	r3, .L244+44
 3399 1db0 002093E5 		ldr	r2, [r3]
 3400 1db4 9C329FE5 		ldr	r3, .L244+32
 3401 1db8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3402 1dbc 0331A0E1 		mov	r3, r3, asl #2
 3403 1dc0 033083E2 		add	r3, r3, #3
 3404 1dc4 083083E2 		add	r3, r3, #8
 3405 1dc8 033082E0 		add	r3, r2, r3
 3406 1dcc 0300A0E1 		mov	r0, r3
 3407 1dd0 0110A0E3 		mov	r1, #1
 3408 1dd4 FEFFFFEB 		bl	CyU3PSpiReceiveWords
1131:../cyfxslfifosync.c ****  					{
 3409              		.loc 1 1131 0 discriminator 2
 3410 1dd8 78329FE5 		ldr	r3, .L244+32
 3411 1ddc 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3412 1de0 013083E2 		add	r3, r3, #1
 3413 1de4 FF2003E2 		and	r2, r3, #255
 3414 1de8 68329FE5 		ldr	r3, .L244+32
 3415 1dec 0020C3E5 		strb	r2, [r3]
 3416              	.L161:
1131:../cyfxslfifosync.c ****  					{
 3417              		.loc 1 1131 0 is_stmt 0 discriminator 1
 3418 1df0 88329FE5 		ldr	r3, .L244+72
 3419 1df4 003093E5 		ldr	r3, [r3]
 3420 1df8 0220D3E5 		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 3421 1dfc 54329FE5 		ldr	r3, .L244+32
 3422 1e00 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3423 1e04 030052E1 		cmp	r2, r3
 3424 1e08 8DFFFF8A 		bhi	.L162
1145:../cyfxslfifosync.c ****  					}
1146:../cyfxslfifosync.c **** 
1147:../cyfxslfifosync.c ****  					//sbi (PORTB, SAEN); //Disable LMS's SPI
1148:../cyfxslfifosync.c ****  					CyU3PGpioSetValue (FX3_FPGA_SS, CyTrue); //Disable BRD SPI
 3425              		.loc 1 1148 0 is_stmt 1
 3426 1e0c 2E00A0E3 		mov	r0, #46
 3427 1e10 0110A0E3 		mov	r1, #1
 3428 1e14 FEFFFFEB 		bl	CyU3PGpioSetValue
1149:../cyfxslfifosync.c **** 
1150:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 3429              		.loc 1 1150 0
 3430 1e18 44329FE5 		ldr	r3, .L244+44
 3431 1e1c 003093E5 		ldr	r3, [r3]
 3432 1e20 0120A0E3 		mov	r2, #1
 3433 1e24 0120C3E5 		strb	r2, [r3, #1]
1151:../cyfxslfifosync.c ****  					break;
 3434              		.loc 1 1151 0
 3435 1e28 3A0500EA 		b	.L121
 3436              	.L112:
1152:../cyfxslfifosync.c **** 
1153:../cyfxslfifosync.c ****  				case CMD_ADF4002_WR:
1154:../cyfxslfifosync.c ****  					if(Check_many_blocks (3)) break;
 3437              		.loc 1 1154 0
 3438 1e2c 0300A0E3 		mov	r0, #3
 3439 1e30 FEFFFFEB 		bl	Check_many_blocks
 3440 1e34 0030A0E1 		mov	r3, r0
 3441 1e38 000053E3 		cmp	r3, #0
 3442 1e3c 0000000A 		beq	.L163
 3443              		.loc 1 1154 0 is_stmt 0 discriminator 1
 3444 1e40 340500EA 		b	.L121
 3445              	.L163:
1155:../cyfxslfifosync.c **** 
1156:../cyfxslfifosync.c ****  					Control_TCXO_DAC (0, NULL); //set DAC out to three-state
 3446              		.loc 1 1156 0 is_stmt 1
 3447 1e44 0000A0E3 		mov	r0, #0
 3448 1e48 0010A0E3 		mov	r1, #0
 3449 1e4c FEFFFFEB 		bl	Control_TCXO_DAC
1157:../cyfxslfifosync.c **** 
1158:../cyfxslfifosync.c ****  					for(block = 0; block < LMS_Ctrl_Packet_Rx->Header.Data_blocks; block++)
 3450              		.loc 1 1158 0
 3451 1e50 00329FE5 		ldr	r3, .L244+32
 3452 1e54 0020A0E3 		mov	r2, #0
 3453 1e58 0020C3E5 		strb	r2, [r3]
 3454 1e5c 120000EA 		b	.L164
 3455              	.L165:
1159:../cyfxslfifosync.c ****  					{
1160:../cyfxslfifosync.c ****  						Control_TCXO_ADF (1, &LMS_Ctrl_Packet_Rx->Data_field[0 + (block*3)]); //write data to ADF
 3456              		.loc 1 1160 0 discriminator 2
 3457 1e60 18329FE5 		ldr	r3, .L244+72
 3458 1e64 001093E5 		ldr	r1, [r3]
 3459 1e68 E8319FE5 		ldr	r3, .L244+32
 3460 1e6c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3461 1e70 0320A0E1 		mov	r2, r3
 3462 1e74 0230A0E1 		mov	r3, r2
 3463 1e78 8330A0E1 		mov	r3, r3, asl #1
 3464 1e7c 023083E0 		add	r3, r3, r2
 3465 1e80 083083E2 		add	r3, r3, #8
 3466 1e84 033081E0 		add	r3, r1, r3
 3467 1e88 0100A0E3 		mov	r0, #1
 3468 1e8c 0310A0E1 		mov	r1, r3
 3469 1e90 FEFFFFEB 		bl	Control_TCXO_ADF
1158:../cyfxslfifosync.c ****  					{
 3470              		.loc 1 1158 0 discriminator 2
 3471 1e94 BC319FE5 		ldr	r3, .L244+32
 3472 1e98 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3473 1e9c 013083E2 		add	r3, r3, #1
 3474 1ea0 FF2003E2 		and	r2, r3, #255
 3475 1ea4 AC319FE5 		ldr	r3, .L244+32
 3476 1ea8 0020C3E5 		strb	r2, [r3]
 3477              	.L164:
1158:../cyfxslfifosync.c ****  					{
 3478              		.loc 1 1158 0 is_stmt 0 discriminator 1
 3479 1eac CC319FE5 		ldr	r3, .L244+72
 3480 1eb0 003093E5 		ldr	r3, [r3]
 3481 1eb4 0220D3E5 		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 3482 1eb8 98319FE5 		ldr	r3, .L244+32
 3483 1ebc 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3484 1ec0 030052E1 		cmp	r2, r3
 3485 1ec4 E5FFFF8A 		bhi	.L165
1161:../cyfxslfifosync.c ****  					}
1162:../cyfxslfifosync.c **** 
1163:../cyfxslfifosync.c ****  					if(cmd_errors) LMS_Ctrl_Packet_Tx->Header.Status = STATUS_INVALID_PERIPH_ID_CMD;
 3486              		.loc 1 1163 0 is_stmt 1
 3487 1ec8 8C319FE5 		ldr	r3, .L244+36
 3488 1ecc 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3489 1ed0 000053E3 		cmp	r3, #0
 3490 1ed4 0400000A 		beq	.L166
 3491              		.loc 1 1163 0 is_stmt 0 discriminator 1
 3492 1ed8 84319FE5 		ldr	r3, .L244+44
 3493 1edc 003093E5 		ldr	r3, [r3]
 3494 1ee0 0820A0E3 		mov	r2, #8
 3495 1ee4 0120C3E5 		strb	r2, [r3, #1]
1164:../cyfxslfifosync.c ****  						else LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
1165:../cyfxslfifosync.c ****  					break;
 3496              		.loc 1 1165 0 is_stmt 1 discriminator 1
 3497 1ee8 0A0500EA 		b	.L121
 3498              	.L166:
1164:../cyfxslfifosync.c ****  						else LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 3499              		.loc 1 1164 0
 3500 1eec 70319FE5 		ldr	r3, .L244+44
 3501 1ef0 003093E5 		ldr	r3, [r3]
 3502 1ef4 0120A0E3 		mov	r2, #1
 3503 1ef8 0120C3E5 		strb	r2, [r3, #1]
 3504              		.loc 1 1165 0
 3505 1efc 050500EA 		b	.L121
 3506              	.L107:
1166:../cyfxslfifosync.c **** 
1167:../cyfxslfifosync.c ****  				case CMD_SI5351_WR:
1168:../cyfxslfifosync.c ****  					if(Check_many_blocks (2)) break;
 3507              		.loc 1 1168 0
 3508 1f00 0200A0E3 		mov	r0, #2
 3509 1f04 FEFFFFEB 		bl	Check_many_blocks
 3510 1f08 0030A0E1 		mov	r3, r0
 3511 1f0c 000053E3 		cmp	r3, #0
 3512 1f10 0000000A 		beq	.L168
 3513              		.loc 1 1168 0 is_stmt 0 discriminator 1
 3514 1f14 FF0400EA 		b	.L121
 3515              	.L168:
1169:../cyfxslfifosync.c **** 
1170:../cyfxslfifosync.c ****         		  	I2C_Addr = SI5351_I2C_ADDR;
 3516              		.loc 1 1170 0 is_stmt 1
 3517 1f18 3F30E0E3 		mvn	r3, #63
 3518 1f1c 0D304BE5 		strb	r3, [fp, #-13]
1171:../cyfxslfifosync.c **** 
1172:../cyfxslfifosync.c ****  					for(block = 0; block < LMS_Ctrl_Packet_Rx->Header.Data_blocks; block++)
 3519              		.loc 1 1172 0
 3520 1f20 30319FE5 		ldr	r3, .L244+32
 3521 1f24 0020A0E3 		mov	r2, #0
 3522 1f28 0020C3E5 		strb	r2, [r3]
 3523 1f2c 2C0000EA 		b	.L169
 3524              	.L171:
1173:../cyfxslfifosync.c ****  					{
1174:../cyfxslfifosync.c ****             			//write byte
1175:../cyfxslfifosync.c ****             	        preamble.length    = 2;
 3525              		.loc 1 1175 0
 3526 1f30 0230A0E3 		mov	r3, #2
 3527 1f34 1C304BE5 		strb	r3, [fp, #-28]
1176:../cyfxslfifosync.c ****             	        preamble.buffer[0] = I2C_Addr; //write h70;
 3528              		.loc 1 1176 0
 3529 1f38 0D305BE5 		ldrb	r3, [fp, #-13]
 3530 1f3c 24304BE5 		strb	r3, [fp, #-36]
1177:../cyfxslfifosync.c ****             	        preamble.buffer[1] = LMS_Ctrl_Packet_Rx->Data_field[block * 2]; //reg to write
 3531              		.loc 1 1177 0
 3532 1f40 38319FE5 		ldr	r3, .L244+72
 3533 1f44 001093E5 		ldr	r1, [r3]
 3534 1f48 08319FE5 		ldr	r3, .L244+32
 3535 1f4c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3536 1f50 8320A0E1 		mov	r2, r3, asl #1
 3537 1f54 0830A0E3 		mov	r3, #8
 3538 1f58 022081E0 		add	r2, r1, r2
 3539 1f5c 033082E0 		add	r3, r2, r3
 3540 1f60 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3541 1f64 23304BE5 		strb	r3, [fp, #-35]
1178:../cyfxslfifosync.c ****             	        preamble.ctrlMask  = 0x0000;
 3542              		.loc 1 1178 0
 3543 1f68 0030A0E3 		mov	r3, #0
 3544 1f6c BA314BE1 		strh	r3, [fp, #-26]	@ movhi
1179:../cyfxslfifosync.c **** 
1180:../cyfxslfifosync.c ****             	        if( CyU3PI2cTransmitBytes (&preamble, &LMS_Ctrl_Packet_Rx->Data_field[1 + (blo
 3545              		.loc 1 1180 0
 3546 1f70 08319FE5 		ldr	r3, .L244+72
 3547 1f74 002093E5 		ldr	r2, [r3]
 3548 1f78 D8309FE5 		ldr	r3, .L244+32
 3549 1f7c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3550 1f80 8330A0E1 		mov	r3, r3, asl #1
 3551 1f84 013083E2 		add	r3, r3, #1
 3552 1f88 083083E2 		add	r3, r3, #8
 3553 1f8c 033082E0 		add	r3, r2, r3
 3554 1f90 24204BE2 		sub	r2, fp, #36
 3555 1f94 0200A0E1 		mov	r0, r2
 3556 1f98 0310A0E1 		mov	r1, r3
 3557 1f9c 0120A0E3 		mov	r2, #1
 3558 1fa0 0030A0E3 		mov	r3, #0
 3559 1fa4 FEFFFFEB 		bl	CyU3PI2cTransmitBytes
 3560 1fa8 0030A0E1 		mov	r3, r0
 3561 1fac 000053E3 		cmp	r3, #0
 3562 1fb0 0500000A 		beq	.L170
 3563              		.loc 1 1180 0 is_stmt 0 discriminator 1
 3564 1fb4 A0309FE5 		ldr	r3, .L244+36
 3565 1fb8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3566 1fbc 013083E2 		add	r3, r3, #1
 3567 1fc0 FF2003E2 		and	r2, r3, #255
 3568 1fc4 90309FE5 		ldr	r3, .L244+36
 3569 1fc8 0020C3E5 		strb	r2, [r3]
 3570              	.L170:
1172:../cyfxslfifosync.c ****  					{
 3571              		.loc 1 1172 0 is_stmt 1
 3572 1fcc 84309FE5 		ldr	r3, .L244+32
 3573 1fd0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3574 1fd4 013083E2 		add	r3, r3, #1
 3575 1fd8 FF2003E2 		and	r2, r3, #255
 3576 1fdc 74309FE5 		ldr	r3, .L244+32
 3577 1fe0 0020C3E5 		strb	r2, [r3]
 3578              	.L169:
1172:../cyfxslfifosync.c ****  					{
 3579              		.loc 1 1172 0 is_stmt 0 discriminator 1
 3580 1fe4 94309FE5 		ldr	r3, .L244+72
 3581 1fe8 003093E5 		ldr	r3, [r3]
 3582 1fec 0220D3E5 		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 3583 1ff0 60309FE5 		ldr	r3, .L244+32
 3584 1ff4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3585 1ff8 030052E1 		cmp	r2, r3
 3586 1ffc CBFFFF8A 		bhi	.L171
1181:../cyfxslfifosync.c ****  					}
1182:../cyfxslfifosync.c **** 
1183:../cyfxslfifosync.c ****  					if(cmd_errors) LMS_Ctrl_Packet_Tx->Header.Status = STATUS_ERROR_CMD;
 3587              		.loc 1 1183 0 is_stmt 1
 3588 2000 54309FE5 		ldr	r3, .L244+36
 3589 2004 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3590 2008 000053E3 		cmp	r3, #0
 3591 200c 0400000A 		beq	.L172
 3592              		.loc 1 1183 0 is_stmt 0 discriminator 1
 3593 2010 4C309FE5 		ldr	r3, .L244+44
 3594 2014 003093E5 		ldr	r3, [r3]
 3595 2018 0520A0E3 		mov	r2, #5
 3596 201c 0120C3E5 		strb	r2, [r3, #1]
1184:../cyfxslfifosync.c ****  					else LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
1185:../cyfxslfifosync.c ****  					break;
 3597              		.loc 1 1185 0 is_stmt 1 discriminator 1
 3598 2020 BC0400EA 		b	.L121
 3599              	.L172:
1184:../cyfxslfifosync.c ****  					else LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 3600              		.loc 1 1184 0
 3601 2024 38309FE5 		ldr	r3, .L244+44
 3602 2028 003093E5 		ldr	r3, [r3]
 3603 202c 0120A0E3 		mov	r2, #1
 3604 2030 0120C3E5 		strb	r2, [r3, #1]
 3605              		.loc 1 1185 0
 3606 2034 B70400EA 		b	.L121
 3607              	.L245:
 3608              		.align	2
 3609              	.L244:
 3610 2038 00000000 		.word	glIsApplnActive
 3611 203c 00000000 		.word	glEp0Buffer_Tx
 3612 2040 00000000 		.word	need_fx3_reset
 3613 2044 00000000 		.word	glEp0Buffer_Rx
 3614 2048 00000000 		.word	glChHandleSlFifoUtoP
 3615 204c 00000000 		.word	glChHandleSlFifoPtoU
 3616 2050 00000000 		.word	dac_val
 3617 2054 00000000 		.word	wiper_pos
 3618 2058 00000000 		.word	block
 3619 205c 00000000 		.word	cmd_errors
 3620 2060 00000000 		.word	config_size
 3621 2064 00000000 		.word	LMS_Ctrl_Packet_Tx
 3622 2068 00000000 		.word	current_portion
 3623 206c 00000000 		.word	flash_page
 3624 2070 00000000 		.word	fpga_byte
 3625 2074 00000000 		.word	data_cnt
 3626 2078 00000000 		.word	flash_data_cnt_free
 3627 207c 00000000 		.word	flash_page_data
 3628 2080 00000000 		.word	LMS_Ctrl_Packet_Rx
 3629 2084 00000000 		.word	flash_data_counter_to_copy
 3630 2088 00000000 		.word	flash_page_data_cnt
 3631              	.L108:
1186:../cyfxslfifosync.c **** 
1187:../cyfxslfifosync.c ****  				case CMD_SI5351_RD:
1188:../cyfxslfifosync.c ****  					if(Check_many_blocks (2)) break;
 3632              		.loc 1 1188 0
 3633 208c 0200A0E3 		mov	r0, #2
 3634 2090 FEFFFFEB 		bl	Check_many_blocks
 3635 2094 0030A0E1 		mov	r3, r0
 3636 2098 000053E3 		cmp	r3, #0
 3637 209c 0000000A 		beq	.L174
 3638              		.loc 1 1188 0 is_stmt 0 discriminator 1
 3639 20a0 9C0400EA 		b	.L121
 3640              	.L174:
1189:../cyfxslfifosync.c **** 
1190:../cyfxslfifosync.c ****  					I2C_Addr = SI5351_I2C_ADDR;
 3641              		.loc 1 1190 0 is_stmt 1
 3642 20a4 3F30E0E3 		mvn	r3, #63
 3643 20a8 0D304BE5 		strb	r3, [fp, #-13]
1191:../cyfxslfifosync.c **** 
1192:../cyfxslfifosync.c ****  					for(block = 0; block < LMS_Ctrl_Packet_Rx->Header.Data_blocks; block++)
 3644              		.loc 1 1192 0
 3645 20ac 5C301FE5 		ldr	r3, .L244+32
 3646 20b0 0020A0E3 		mov	r2, #0
 3647 20b4 0020C3E5 		strb	r2, [r3]
 3648 20b8 460000EA 		b	.L175
 3649              	.L177:
1193:../cyfxslfifosync.c ****  					{
1194:../cyfxslfifosync.c ****         		        //read byte
1195:../cyfxslfifosync.c ****         		        preamble.length = 3;
 3650              		.loc 1 1195 0
 3651 20bc 0330A0E3 		mov	r3, #3
 3652 20c0 1C304BE5 		strb	r3, [fp, #-28]
1196:../cyfxslfifosync.c **** 
1197:../cyfxslfifosync.c ****         		        I2C_Addr &= ~(1 << 0);//write addr
 3653              		.loc 1 1197 0
 3654 20c4 0D305BE5 		ldrb	r3, [fp, #-13]
 3655 20c8 0130C3E3 		bic	r3, r3, #1
 3656 20cc 0D304BE5 		strb	r3, [fp, #-13]
1198:../cyfxslfifosync.c ****         		        preamble.buffer[0] = I2C_Addr;//0xE0; //write h70;
 3657              		.loc 1 1198 0
 3658 20d0 0D305BE5 		ldrb	r3, [fp, #-13]
 3659 20d4 24304BE5 		strb	r3, [fp, #-36]
1199:../cyfxslfifosync.c **** 
1200:../cyfxslfifosync.c ****         		        preamble.buffer[1] = LMS_Ctrl_Packet_Rx->Data_field[block]; //reg to read
 3660              		.loc 1 1200 0
 3661 20d8 60301FE5 		ldr	r3, .L244+72
 3662 20dc 001093E5 		ldr	r1, [r3]
 3663 20e0 90301FE5 		ldr	r3, .L244+32
 3664 20e4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3665 20e8 0320A0E1 		mov	r2, r3
 3666 20ec 0830A0E3 		mov	r3, #8
 3667 20f0 022081E0 		add	r2, r1, r2
 3668 20f4 033082E0 		add	r3, r2, r3
 3669 20f8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3670 20fc 23304BE5 		strb	r3, [fp, #-35]
1201:../cyfxslfifosync.c **** 
1202:../cyfxslfifosync.c ****         		        I2C_Addr |= 1 << 0;	//read addr
 3671              		.loc 1 1202 0
 3672 2100 0D305BE5 		ldrb	r3, [fp, #-13]
 3673 2104 013083E3 		orr	r3, r3, #1
 3674 2108 0D304BE5 		strb	r3, [fp, #-13]
1203:../cyfxslfifosync.c **** 
1204:../cyfxslfifosync.c ****         		        preamble.buffer[2] = I2C_Addr;//0xE1; //read h70
 3675              		.loc 1 1204 0
 3676 210c 0D305BE5 		ldrb	r3, [fp, #-13]
 3677 2110 22304BE5 		strb	r3, [fp, #-34]
1205:../cyfxslfifosync.c ****         		        preamble.ctrlMask  = 0x0002;
 3678              		.loc 1 1205 0
 3679 2114 0230A0E3 		mov	r3, #2
 3680 2118 BA314BE1 		strh	r3, [fp, #-26]	@ movhi
1206:../cyfxslfifosync.c **** 
1207:../cyfxslfifosync.c ****         		        if( CyU3PI2cReceiveBytes (&preamble, &LMS_Ctrl_Packet_Tx->Data_field[1 + block * 
 3681              		.loc 1 1207 0
 3682 211c C0301FE5 		ldr	r3, .L244+44
 3683 2120 002093E5 		ldr	r2, [r3]
 3684 2124 D4301FE5 		ldr	r3, .L244+32
 3685 2128 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3686 212c 8330A0E1 		mov	r3, r3, asl #1
 3687 2130 013083E2 		add	r3, r3, #1
 3688 2134 083083E2 		add	r3, r3, #8
 3689 2138 033082E0 		add	r3, r2, r3
 3690 213c 24204BE2 		sub	r2, fp, #36
 3691 2140 0200A0E1 		mov	r0, r2
 3692 2144 0310A0E1 		mov	r1, r3
 3693 2148 0120A0E3 		mov	r2, #1
 3694 214c 0030A0E3 		mov	r3, #0
 3695 2150 FEFFFFEB 		bl	CyU3PI2cReceiveBytes
 3696 2154 0030A0E1 		mov	r3, r0
 3697 2158 000053E3 		cmp	r3, #0
 3698 215c 0500000A 		beq	.L176
 3699              		.loc 1 1207 0 is_stmt 0 discriminator 1
 3700 2160 0C311FE5 		ldr	r3, .L244+36
 3701 2164 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3702 2168 013083E2 		add	r3, r3, #1
 3703 216c FF2003E2 		and	r2, r3, #255
 3704 2170 1C311FE5 		ldr	r3, .L244+36
 3705 2174 0020C3E5 		strb	r2, [r3]
 3706              	.L176:
1208:../cyfxslfifosync.c **** 
1209:../cyfxslfifosync.c ****  						LMS_Ctrl_Packet_Tx->Data_field[block * 2] = LMS_Ctrl_Packet_Rx->Data_field[block];
 3707              		.loc 1 1209 0 is_stmt 1
 3708 2178 1C311FE5 		ldr	r3, .L244+44
 3709 217c 000093E5 		ldr	r0, [r3]
 3710 2180 30311FE5 		ldr	r3, .L244+32
 3711 2184 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3712 2188 8310A0E1 		mov	r1, r3, asl #1
 3713 218c 14311FE5 		ldr	r3, .L244+72
 3714 2190 00C093E5 		ldr	ip, [r3]
 3715 2194 44311FE5 		ldr	r3, .L244+32
 3716 2198 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3717 219c 0320A0E1 		mov	r2, r3
 3718 21a0 0830A0E3 		mov	r3, #8
 3719 21a4 02208CE0 		add	r2, ip, r2
 3720 21a8 033082E0 		add	r3, r2, r3
 3721 21ac 0020D3E5 		ldrb	r2, [r3]	@ zero_extendqisi2
 3722 21b0 0830A0E3 		mov	r3, #8
 3723 21b4 011080E0 		add	r1, r0, r1
 3724 21b8 033081E0 		add	r3, r1, r3
 3725 21bc 0020C3E5 		strb	r2, [r3]
1192:../cyfxslfifosync.c ****  					{
 3726              		.loc 1 1192 0
 3727 21c0 70311FE5 		ldr	r3, .L244+32
 3728 21c4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3729 21c8 013083E2 		add	r3, r3, #1
 3730 21cc FF2003E2 		and	r2, r3, #255
 3731 21d0 80311FE5 		ldr	r3, .L244+32
 3732 21d4 0020C3E5 		strb	r2, [r3]
 3733              	.L175:
1192:../cyfxslfifosync.c ****  					{
 3734              		.loc 1 1192 0 is_stmt 0 discriminator 1
 3735 21d8 60311FE5 		ldr	r3, .L244+72
 3736 21dc 003093E5 		ldr	r3, [r3]
 3737 21e0 0220D3E5 		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 3738 21e4 94311FE5 		ldr	r3, .L244+32
 3739 21e8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3740 21ec 030052E1 		cmp	r2, r3
 3741 21f0 B1FFFF8A 		bhi	.L177
1210:../cyfxslfifosync.c ****  					}
1211:../cyfxslfifosync.c **** 
1212:../cyfxslfifosync.c ****  					if(cmd_errors) LMS_Ctrl_Packet_Tx->Header.Status = STATUS_ERROR_CMD;
 3742              		.loc 1 1212 0 is_stmt 1
 3743 21f4 A0311FE5 		ldr	r3, .L244+36
 3744 21f8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3745 21fc 000053E3 		cmp	r3, #0
 3746 2200 0400000A 		beq	.L178
 3747              		.loc 1 1212 0 is_stmt 0 discriminator 1
 3748 2204 A8311FE5 		ldr	r3, .L244+44
 3749 2208 003093E5 		ldr	r3, [r3]
 3750 220c 0520A0E3 		mov	r2, #5
 3751 2210 0120C3E5 		strb	r2, [r3, #1]
1213:../cyfxslfifosync.c ****  					else LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
1214:../cyfxslfifosync.c **** 
1215:../cyfxslfifosync.c ****  					break;
 3752              		.loc 1 1215 0 is_stmt 1 discriminator 1
 3753 2214 3F0400EA 		b	.L121
 3754              	.L178:
1213:../cyfxslfifosync.c ****  					else LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 3755              		.loc 1 1213 0
 3756 2218 BC311FE5 		ldr	r3, .L244+44
 3757 221c 003093E5 		ldr	r3, [r3]
 3758 2220 0120A0E3 		mov	r2, #1
 3759 2224 0120C3E5 		strb	r2, [r3, #1]
 3760              		.loc 1 1215 0
 3761 2228 3A0400EA 		b	.L121
 3762              	.L113:
1216:../cyfxslfifosync.c **** 
1217:../cyfxslfifosync.c ****  				case CMD_SSTREAM_RST: //fifo_rst
1218:../cyfxslfifosync.c **** 
1219:../cyfxslfifosync.c ****  					/*102
1220:../cyfxslfifosync.c ****  					 * 0 - FX3 reset
1221:../cyfxslfifosync.c ****  					 * 1 - FPGA reset active
1222:../cyfxslfifosync.c ****  					 * 2 - FPGA reset inactive
1223:../cyfxslfifosync.c ****  					 */
1224:../cyfxslfifosync.c ****  					switch(LMS_Ctrl_Packet_Rx->Data_field[0])
 3763              		.loc 1 1224 0
 3764 222c B4311FE5 		ldr	r3, .L244+72
 3765 2230 003093E5 		ldr	r3, [r3]
 3766 2234 0830D3E5 		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 3767 2238 000053E3 		cmp	r3, #0
 3768 223c 1200001A 		bne	.L180
1225:../cyfxslfifosync.c ****  					{
1226:../cyfxslfifosync.c ****  						case 0: //FX3 reset
1227:../cyfxslfifosync.c ****  		 					CyU3PDmaChannelReset (&glChHandleSlFifoUtoP);
 3769              		.loc 1 1227 0
 3770 2240 00021FE5 		ldr	r0, .L244+16
 3771 2244 FEFFFFEB 		bl	CyU3PDmaChannelReset
1228:../cyfxslfifosync.c ****  		                    CyU3PUsbFlushEp(CY_FX_EP_PRODUCER);
 3772              		.loc 1 1228 0
 3773 2248 0100A0E3 		mov	r0, #1
 3774 224c FEFFFFEB 		bl	CyU3PUsbFlushEp
1229:../cyfxslfifosync.c ****  		                    CyU3PUsbResetEp (CY_FX_EP_PRODUCER);
 3775              		.loc 1 1229 0
 3776 2250 0100A0E3 		mov	r0, #1
 3777 2254 FEFFFFEB 		bl	CyU3PUsbResetEp
1230:../cyfxslfifosync.c ****  		                    CyU3PDmaChannelSetXfer (&glChHandleSlFifoUtoP, CY_FX_SLFIFO_DMA_TX_SIZE);
 3778              		.loc 1 1230 0
 3779 2258 18021FE5 		ldr	r0, .L244+16
 3780 225c 0010A0E3 		mov	r1, #0
 3781 2260 FEFFFFEB 		bl	CyU3PDmaChannelSetXfer
1231:../cyfxslfifosync.c **** 
1232:../cyfxslfifosync.c ****  		                    CyU3PDmaChannelReset (&glChHandleSlFifoPtoU);
 3782              		.loc 1 1232 0
 3783 2264 20021FE5 		ldr	r0, .L244+20
 3784 2268 FEFFFFEB 		bl	CyU3PDmaChannelReset
1233:../cyfxslfifosync.c ****  		                    CyU3PUsbFlushEp(CY_FX_EP_CONSUMER);
 3785              		.loc 1 1233 0
 3786 226c 8100A0E3 		mov	r0, #129
 3787 2270 FEFFFFEB 		bl	CyU3PUsbFlushEp
1234:../cyfxslfifosync.c ****  		                    CyU3PUsbResetEp (CY_FX_EP_CONSUMER);
 3788              		.loc 1 1234 0
 3789 2274 8100A0E3 		mov	r0, #129
 3790 2278 FEFFFFEB 		bl	CyU3PUsbResetEp
1235:../cyfxslfifosync.c ****  		                    CyU3PDmaChannelSetXfer (&glChHandleSlFifoPtoU, CY_FX_SLFIFO_DMA_RX_SIZE);
 3791              		.loc 1 1235 0
 3792 227c 38021FE5 		ldr	r0, .L244+20
 3793 2280 0010A0E3 		mov	r1, #0
 3794 2284 FEFFFFEB 		bl	CyU3PDmaChannelSetXfer
1236:../cyfxslfifosync.c ****  							break;
 3795              		.loc 1 1236 0
 3796 2288 0000A0E1 		mov	r0, r0	@ nop
 3797              	.L180:
1237:../cyfxslfifosync.c ****  					}
1238:../cyfxslfifosync.c **** 
1239:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 3798              		.loc 1 1239 0
 3799 228c 30321FE5 		ldr	r3, .L244+44
 3800 2290 003093E5 		ldr	r3, [r3]
 3801 2294 0120A0E3 		mov	r2, #1
 3802 2298 0120C3E5 		strb	r2, [r3, #1]
1240:../cyfxslfifosync.c ****  					break;
 3803              		.loc 1 1240 0
 3804 229c 1D0400EA 		b	.L121
 3805              	.L120:
1241:../cyfxslfifosync.c **** 
1242:../cyfxslfifosync.c ****  					case CMD_ANALOG_VAL_RD:
1243:../cyfxslfifosync.c **** 
1244:../cyfxslfifosync.c ****  						for(block = 0; block < LMS_Ctrl_Packet_Rx->Header.Data_blocks; block++)
 3806              		.loc 1 1244 0
 3807 22a0 50321FE5 		ldr	r3, .L244+32
 3808 22a4 0020A0E3 		mov	r2, #0
 3809 22a8 0020C3E5 		strb	r2, [r3]
 3810 22ac 400100EA 		b	.L182
 3811              	.L192:
 3812              	.LBB6:
1245:../cyfxslfifosync.c ****  						{
1246:../cyfxslfifosync.c ****  							signed short int converted_val;
1247:../cyfxslfifosync.c **** 
1248:../cyfxslfifosync.c ****  							switch (LMS_Ctrl_Packet_Rx->Data_field[0 + (block)])//ch
 3813              		.loc 1 1248 0
 3814 22b0 38321FE5 		ldr	r3, .L244+72
 3815 22b4 001093E5 		ldr	r1, [r3]
 3816 22b8 68321FE5 		ldr	r3, .L244+32
 3817 22bc 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3818 22c0 0320A0E1 		mov	r2, r3
 3819 22c4 0830A0E3 		mov	r3, #8
 3820 22c8 022081E0 		add	r2, r1, r2
 3821 22cc 033082E0 		add	r3, r2, r3
 3822 22d0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3823 22d4 030053E3 		cmp	r3, #3
 3824 22d8 03F19F97 		ldrls	pc, [pc, r3, asl #2]
 3825 22dc 270100EA 		b	.L183
 3826              	.L185:
 3827 22e0 F0220000 		.word	.L184
 3828 22e4 C4230000 		.word	.L186
 3829 22e8 A8250000 		.word	.L187
 3830 22ec 94260000 		.word	.L188
 3831              	.L184:
 3832              	.LBB7:
1249:../cyfxslfifosync.c ****  							{
1250:../cyfxslfifosync.c ****  								case 0://TCXO DAC val
1251:../cyfxslfifosync.c **** 
1252:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[0 + (block * 4)] = LMS_Ctrl_Packet_Rx->Data_field[block]; 
 3833              		.loc 1 1252 0
 3834 22f0 94321FE5 		ldr	r3, .L244+44
 3835 22f4 000093E5 		ldr	r0, [r3]
 3836 22f8 A8321FE5 		ldr	r3, .L244+32
 3837 22fc 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3838 2300 0311A0E1 		mov	r1, r3, asl #2
 3839 2304 8C321FE5 		ldr	r3, .L244+72
 3840 2308 00C093E5 		ldr	ip, [r3]
 3841 230c BC321FE5 		ldr	r3, .L244+32
 3842 2310 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3843 2314 0320A0E1 		mov	r2, r3
 3844 2318 0830A0E3 		mov	r3, #8
 3845 231c 02208CE0 		add	r2, ip, r2
 3846 2320 033082E0 		add	r3, r2, r3
 3847 2324 0020D3E5 		ldrb	r2, [r3]	@ zero_extendqisi2
 3848 2328 0830A0E3 		mov	r3, #8
 3849 232c 011080E0 		add	r1, r0, r1
 3850 2330 033081E0 		add	r3, r1, r3
 3851 2334 0020C3E5 		strb	r2, [r3]
1253:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[1 + (block * 4)] = 0x00; //RAW //unit, power
 3852              		.loc 1 1253 0
 3853 2338 DC321FE5 		ldr	r3, .L244+44
 3854 233c 001093E5 		ldr	r1, [r3]
 3855 2340 F0321FE5 		ldr	r3, .L244+32
 3856 2344 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3857 2348 0331A0E1 		mov	r3, r3, asl #2
 3858 234c 012083E2 		add	r2, r3, #1
 3859 2350 0830A0E3 		mov	r3, #8
 3860 2354 022081E0 		add	r2, r1, r2
 3861 2358 033082E0 		add	r3, r2, r3
 3862 235c 0020A0E3 		mov	r2, #0
 3863 2360 0020C3E5 		strb	r2, [r3]
1254:../cyfxslfifosync.c **** 
1255:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[2 + (block * 4)] = 0; //signed val, MSB byte
 3864              		.loc 1 1255 0
 3865 2364 08331FE5 		ldr	r3, .L244+44
 3866 2368 001093E5 		ldr	r1, [r3]
 3867 236c 1C331FE5 		ldr	r3, .L244+32
 3868 2370 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3869 2374 0331A0E1 		mov	r3, r3, asl #2
 3870 2378 022083E2 		add	r2, r3, #2
 3871 237c 0830A0E3 		mov	r3, #8
 3872 2380 022081E0 		add	r2, r1, r2
 3873 2384 033082E0 		add	r3, r2, r3
 3874 2388 0020A0E3 		mov	r2, #0
 3875 238c 0020C3E5 		strb	r2, [r3]
1256:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[3 + (block * 4)] = dac_val; //signed val, LSB byte
 3876              		.loc 1 1256 0
 3877 2390 34331FE5 		ldr	r3, .L244+44
 3878 2394 000093E5 		ldr	r0, [r3]
 3879 2398 48331FE5 		ldr	r3, .L244+32
 3880 239c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3881 23a0 0331A0E1 		mov	r3, r3, asl #2
 3882 23a4 031083E2 		add	r1, r3, #3
 3883 23a8 60331FE5 		ldr	r3, .L244+24
 3884 23ac 0020D3E5 		ldrb	r2, [r3]	@ zero_extendqisi2
 3885 23b0 0830A0E3 		mov	r3, #8
 3886 23b4 011080E0 		add	r1, r0, r1
 3887 23b8 033081E0 		add	r3, r1, r3
 3888 23bc 0020C3E5 		strb	r2, [r3]
1257:../cyfxslfifosync.c ****  									break;
 3889              		.loc 1 1257 0
 3890 23c0 F50000EA 		b	.L189
 3891              	.L186:
1258:../cyfxslfifosync.c **** 
1259:../cyfxslfifosync.c ****  								case 1: //temperature
1260:../cyfxslfifosync.c ****  									I2C_Addr = LM75_I2C_ADDR; //LM75 I2C_ADDR
 3892              		.loc 1 1260 0
 3893 23c4 6F30E0E3 		mvn	r3, #111
 3894 23c8 0D304BE5 		strb	r3, [fp, #-13]
1261:../cyfxslfifosync.c **** 
1262:../cyfxslfifosync.c ****  									unsigned char temperature_temp[2];
1263:../cyfxslfifosync.c **** 
1264:../cyfxslfifosync.c ****  									//read byte
1265:../cyfxslfifosync.c ****  									preamble.length = 3;
 3895              		.loc 1 1265 0
 3896 23cc 0330A0E3 		mov	r3, #3
 3897 23d0 1C304BE5 		strb	r3, [fp, #-28]
1266:../cyfxslfifosync.c **** 
1267:../cyfxslfifosync.c ****  									I2C_Addr &= ~(1 << 0);//write addr
 3898              		.loc 1 1267 0
 3899 23d4 0D305BE5 		ldrb	r3, [fp, #-13]
 3900 23d8 0130C3E3 		bic	r3, r3, #1
 3901 23dc 0D304BE5 		strb	r3, [fp, #-13]
1268:../cyfxslfifosync.c ****  									preamble.buffer[0] = I2C_Addr;
 3902              		.loc 1 1268 0
 3903 23e0 0D305BE5 		ldrb	r3, [fp, #-13]
 3904 23e4 24304BE5 		strb	r3, [fp, #-36]
1269:../cyfxslfifosync.c **** 
1270:../cyfxslfifosync.c ****  									preamble.buffer[1] = 0x00; //temperature
 3905              		.loc 1 1270 0
 3906 23e8 0030A0E3 		mov	r3, #0
 3907 23ec 23304BE5 		strb	r3, [fp, #-35]
1271:../cyfxslfifosync.c **** 
1272:../cyfxslfifosync.c ****  									I2C_Addr |= 1 << 0;	//read addr
 3908              		.loc 1 1272 0
 3909 23f0 0D305BE5 		ldrb	r3, [fp, #-13]
 3910 23f4 013083E3 		orr	r3, r3, #1
 3911 23f8 0D304BE5 		strb	r3, [fp, #-13]
1273:../cyfxslfifosync.c **** 
1274:../cyfxslfifosync.c ****  									preamble.buffer[2] = I2C_Addr;
 3912              		.loc 1 1274 0
 3913 23fc 0D305BE5 		ldrb	r3, [fp, #-13]
 3914 2400 22304BE5 		strb	r3, [fp, #-34]
1275:../cyfxslfifosync.c ****  									preamble.ctrlMask  = 0x0002;
 3915              		.loc 1 1275 0
 3916 2404 0230A0E3 		mov	r3, #2
 3917 2408 BA314BE1 		strh	r3, [fp, #-26]	@ movhi
1276:../cyfxslfifosync.c **** 
1277:../cyfxslfifosync.c ****  									if( CyU3PI2cReceiveBytes (&preamble, &temperature_temp[0], 2, 0)  != CY_U3P_SUCCESS)  cmd
 3918              		.loc 1 1277 0
 3919 240c 24204BE2 		sub	r2, fp, #36
 3920 2410 28304BE2 		sub	r3, fp, #40
 3921 2414 0200A0E1 		mov	r0, r2
 3922 2418 0310A0E1 		mov	r1, r3
 3923 241c 0220A0E3 		mov	r2, #2
 3924 2420 0030A0E3 		mov	r3, #0
 3925 2424 FEFFFFEB 		bl	CyU3PI2cReceiveBytes
 3926 2428 0030A0E1 		mov	r3, r0
 3927 242c 000053E3 		cmp	r3, #0
 3928 2430 0500000A 		beq	.L190
 3929              		.loc 1 1277 0 is_stmt 0 discriminator 1
 3930 2434 E0331FE5 		ldr	r3, .L244+36
 3931 2438 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3932 243c 013083E2 		add	r3, r3, #1
 3933 2440 FF2003E2 		and	r2, r3, #255
 3934 2444 F0331FE5 		ldr	r3, .L244+36
 3935 2448 0020C3E5 		strb	r2, [r3]
 3936              	.L190:
1278:../cyfxslfifosync.c **** 
1279:../cyfxslfifosync.c ****  									converted_val = (((signed short int)temperature_temp[0]) << 8) + 0;//sc_brdg_data[1];
 3937              		.loc 1 1279 0 is_stmt 1
 3938 244c 28305BE5 		ldrb	r3, [fp, #-40]	@ zero_extendqisi2
 3939 2450 0334A0E1 		mov	r3, r3, asl #8
 3940 2454 B0314BE1 		strh	r3, [fp, #-16]	@ movhi
1280:../cyfxslfifosync.c ****  									converted_val = (converted_val/256)*10;
 3941              		.loc 1 1280 0
 3942 2458 F0315BE1 		ldrsh	r3, [fp, #-16]
 3943 245c FF2083E2 		add	r2, r3, #255
 3944 2460 000053E3 		cmp	r3, #0
 3945 2464 0230A0B1 		movlt	r3, r2
 3946 2468 4334A0E1 		mov	r3, r3, asr #8
 3947 246c 0338A0E1 		mov	r3, r3, asl #16
 3948 2470 2338A0E1 		mov	r3, r3, lsr #16
 3949 2474 0338A0E1 		mov	r3, r3, asl #16
 3950 2478 2338A0E1 		mov	r3, r3, lsr #16
 3951 247c 0320A0E1 		mov	r2, r3	@ movhi
 3952 2480 0221A0E1 		mov	r2, r2, asl #2
 3953 2484 033082E0 		add	r3, r2, r3
 3954 2488 8330A0E1 		mov	r3, r3, asl #1
 3955 248c 0338A0E1 		mov	r3, r3, asl #16
 3956 2490 2338A0E1 		mov	r3, r3, lsr #16
 3957 2494 B0314BE1 		strh	r3, [fp, #-16]	@ movhi
1281:../cyfxslfifosync.c **** 
1282:../cyfxslfifosync.c ****  									if(temperature_temp[1]&0x80) converted_val = converted_val + 5;
 3958              		.loc 1 1282 0
 3959 2498 27305BE5 		ldrb	r3, [fp, #-39]	@ zero_extendqisi2
 3960 249c FF3003E2 		and	r3, r3, #255
 3961 24a0 033CA0E1 		mov	r3, r3, asl #24
 3962 24a4 433CA0E1 		mov	r3, r3, asr #24
 3963 24a8 000053E3 		cmp	r3, #0
 3964 24ac 040000AA 		bge	.L191
 3965              		.loc 1 1282 0 is_stmt 0 discriminator 1
 3966 24b0 B0315BE1 		ldrh	r3, [fp, #-16]
 3967 24b4 053083E2 		add	r3, r3, #5
 3968 24b8 0338A0E1 		mov	r3, r3, asl #16
 3969 24bc 2338A0E1 		mov	r3, r3, lsr #16
 3970 24c0 B0314BE1 		strh	r3, [fp, #-16]	@ movhi
 3971              	.L191:
1283:../cyfxslfifosync.c **** 
1284:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[0 + (block * 4)] = LMS_Ctrl_Packet_Rx->Data_field[block]; 
 3972              		.loc 1 1284 0 is_stmt 1
 3973 24c4 68341FE5 		ldr	r3, .L244+44
 3974 24c8 000093E5 		ldr	r0, [r3]
 3975 24cc 7C341FE5 		ldr	r3, .L244+32
 3976 24d0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3977 24d4 0311A0E1 		mov	r1, r3, asl #2
 3978 24d8 60341FE5 		ldr	r3, .L244+72
 3979 24dc 00C093E5 		ldr	ip, [r3]
 3980 24e0 90341FE5 		ldr	r3, .L244+32
 3981 24e4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3982 24e8 0320A0E1 		mov	r2, r3
 3983 24ec 0830A0E3 		mov	r3, #8
 3984 24f0 02208CE0 		add	r2, ip, r2
 3985 24f4 033082E0 		add	r3, r2, r3
 3986 24f8 0020D3E5 		ldrb	r2, [r3]	@ zero_extendqisi2
 3987 24fc 0830A0E3 		mov	r3, #8
 3988 2500 011080E0 		add	r1, r0, r1
 3989 2504 033081E0 		add	r3, r1, r3
 3990 2508 0020C3E5 		strb	r2, [r3]
1285:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[1 + (block * 4)] = 0x50; //mC //unit, power
 3991              		.loc 1 1285 0
 3992 250c B0341FE5 		ldr	r3, .L244+44
 3993 2510 001093E5 		ldr	r1, [r3]
 3994 2514 C4341FE5 		ldr	r3, .L244+32
 3995 2518 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 3996 251c 0331A0E1 		mov	r3, r3, asl #2
 3997 2520 012083E2 		add	r2, r3, #1
 3998 2524 0830A0E3 		mov	r3, #8
 3999 2528 022081E0 		add	r2, r1, r2
 4000 252c 033082E0 		add	r3, r2, r3
 4001 2530 5020A0E3 		mov	r2, #80
 4002 2534 0020C3E5 		strb	r2, [r3]
1286:../cyfxslfifosync.c **** 
1287:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[2 + (block * 4)] = (converted_val >> 8); //signed val, MSB
 4003              		.loc 1 1287 0
 4004 2538 DC341FE5 		ldr	r3, .L244+44
 4005 253c 000093E5 		ldr	r0, [r3]
 4006 2540 F0341FE5 		ldr	r3, .L244+32
 4007 2544 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4008 2548 0331A0E1 		mov	r3, r3, asl #2
 4009 254c 021083E2 		add	r1, r3, #2
 4010 2550 F0315BE1 		ldrsh	r3, [fp, #-16]
 4011 2554 4334A0E1 		mov	r3, r3, asr #8
 4012 2558 0338A0E1 		mov	r3, r3, asl #16
 4013 255c 2338A0E1 		mov	r3, r3, lsr #16
 4014 2560 FF2003E2 		and	r2, r3, #255
 4015 2564 0830A0E3 		mov	r3, #8
 4016 2568 011080E0 		add	r1, r0, r1
 4017 256c 033081E0 		add	r3, r1, r3
 4018 2570 0020C3E5 		strb	r2, [r3]
1288:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[3 + (block * 4)] = converted_val; //signed val, LSB byte
 4019              		.loc 1 1288 0
 4020 2574 18351FE5 		ldr	r3, .L244+44
 4021 2578 000093E5 		ldr	r0, [r3]
 4022 257c 2C351FE5 		ldr	r3, .L244+32
 4023 2580 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4024 2584 0331A0E1 		mov	r3, r3, asl #2
 4025 2588 031083E2 		add	r1, r3, #3
 4026 258c B0315BE1 		ldrh	r3, [fp, #-16]	@ movhi
 4027 2590 FF2003E2 		and	r2, r3, #255
 4028 2594 0830A0E3 		mov	r3, #8
 4029 2598 011080E0 		add	r1, r0, r1
 4030 259c 033081E0 		add	r3, r1, r3
 4031 25a0 0020C3E5 		strb	r2, [r3]
1289:../cyfxslfifosync.c **** 
1290:../cyfxslfifosync.c ****  									break;
 4032              		.loc 1 1290 0
 4033 25a4 7C0000EA 		b	.L189
 4034              	.L187:
1291:../cyfxslfifosync.c **** 
1292:../cyfxslfifosync.c ****  								case 2://wiper 0 position
1293:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[0 + (block * 4)] = LMS_Ctrl_Packet_Rx->Data_field[block]; 
 4035              		.loc 1 1293 0
 4036 25a8 4C351FE5 		ldr	r3, .L244+44
 4037 25ac 000093E5 		ldr	r0, [r3]
 4038 25b0 60351FE5 		ldr	r3, .L244+32
 4039 25b4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4040 25b8 0311A0E1 		mov	r1, r3, asl #2
 4041 25bc 44351FE5 		ldr	r3, .L244+72
 4042 25c0 00C093E5 		ldr	ip, [r3]
 4043 25c4 74351FE5 		ldr	r3, .L244+32
 4044 25c8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4045 25cc 0320A0E1 		mov	r2, r3
 4046 25d0 0830A0E3 		mov	r3, #8
 4047 25d4 02208CE0 		add	r2, ip, r2
 4048 25d8 033082E0 		add	r3, r2, r3
 4049 25dc 0020D3E5 		ldrb	r2, [r3]	@ zero_extendqisi2
 4050 25e0 0830A0E3 		mov	r3, #8
 4051 25e4 011080E0 		add	r1, r0, r1
 4052 25e8 033081E0 		add	r3, r1, r3
 4053 25ec 0020C3E5 		strb	r2, [r3]
1294:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[1 + (block * 4)] = 0x00; //RAW //unit, power
 4054              		.loc 1 1294 0
 4055 25f0 94351FE5 		ldr	r3, .L244+44
 4056 25f4 001093E5 		ldr	r1, [r3]
 4057 25f8 A8351FE5 		ldr	r3, .L244+32
 4058 25fc 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4059 2600 0331A0E1 		mov	r3, r3, asl #2
 4060 2604 012083E2 		add	r2, r3, #1
 4061 2608 0830A0E3 		mov	r3, #8
 4062 260c 022081E0 		add	r2, r1, r2
 4063 2610 033082E0 		add	r3, r2, r3
 4064 2614 0020A0E3 		mov	r2, #0
 4065 2618 0020C3E5 		strb	r2, [r3]
1295:../cyfxslfifosync.c **** 
1296:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[2 + (block * 4)] = (wiper_pos[0] >> 8) & 0xFF; //signed va
 4066              		.loc 1 1296 0
 4067 261c C0351FE5 		ldr	r3, .L244+44
 4068 2620 000093E5 		ldr	r0, [r3]
 4069 2624 D4351FE5 		ldr	r3, .L244+32
 4070 2628 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4071 262c 0331A0E1 		mov	r3, r3, asl #2
 4072 2630 021083E2 		add	r1, r3, #2
 4073 2634 E8351FE5 		ldr	r3, .L244+28
 4074 2638 B030D3E1 		ldrh	r3, [r3]
 4075 263c 2334A0E1 		mov	r3, r3, lsr #8
 4076 2640 0338A0E1 		mov	r3, r3, asl #16
 4077 2644 2338A0E1 		mov	r3, r3, lsr #16
 4078 2648 FF2003E2 		and	r2, r3, #255
 4079 264c 0830A0E3 		mov	r3, #8
 4080 2650 011080E0 		add	r1, r0, r1
 4081 2654 033081E0 		add	r3, r1, r3
 4082 2658 0020C3E5 		strb	r2, [r3]
1297:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[3 + (block * 4)] = wiper_pos[0] & 0xFF; //signed val, LSB 
 4083              		.loc 1 1297 0
 4084 265c 00361FE5 		ldr	r3, .L244+44
 4085 2660 000093E5 		ldr	r0, [r3]
 4086 2664 14361FE5 		ldr	r3, .L244+32
 4087 2668 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4088 266c 0331A0E1 		mov	r3, r3, asl #2
 4089 2670 031083E2 		add	r1, r3, #3
 4090 2674 28361FE5 		ldr	r3, .L244+28
 4091 2678 B030D3E1 		ldrh	r3, [r3]
 4092 267c FF2003E2 		and	r2, r3, #255
 4093 2680 0830A0E3 		mov	r3, #8
 4094 2684 011080E0 		add	r1, r0, r1
 4095 2688 033081E0 		add	r3, r1, r3
 4096 268c 0020C3E5 		strb	r2, [r3]
1298:../cyfxslfifosync.c ****  									break;
 4097              		.loc 1 1298 0
 4098 2690 410000EA 		b	.L189
 4099              	.L188:
1299:../cyfxslfifosync.c **** 
1300:../cyfxslfifosync.c ****  								case 3://wiper 1 position
1301:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[0 + (block * 4)] = LMS_Ctrl_Packet_Rx->Data_field[block]; 
 4100              		.loc 1 1301 0
 4101 2694 38361FE5 		ldr	r3, .L244+44
 4102 2698 000093E5 		ldr	r0, [r3]
 4103 269c 4C361FE5 		ldr	r3, .L244+32
 4104 26a0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4105 26a4 0311A0E1 		mov	r1, r3, asl #2
 4106 26a8 30361FE5 		ldr	r3, .L244+72
 4107 26ac 00C093E5 		ldr	ip, [r3]
 4108 26b0 60361FE5 		ldr	r3, .L244+32
 4109 26b4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4110 26b8 0320A0E1 		mov	r2, r3
 4111 26bc 0830A0E3 		mov	r3, #8
 4112 26c0 02208CE0 		add	r2, ip, r2
 4113 26c4 033082E0 		add	r3, r2, r3
 4114 26c8 0020D3E5 		ldrb	r2, [r3]	@ zero_extendqisi2
 4115 26cc 0830A0E3 		mov	r3, #8
 4116 26d0 011080E0 		add	r1, r0, r1
 4117 26d4 033081E0 		add	r3, r1, r3
 4118 26d8 0020C3E5 		strb	r2, [r3]
1302:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[1 + (block * 4)] = 0x00; //RAW //unit, power
 4119              		.loc 1 1302 0
 4120 26dc 80361FE5 		ldr	r3, .L244+44
 4121 26e0 001093E5 		ldr	r1, [r3]
 4122 26e4 94361FE5 		ldr	r3, .L244+32
 4123 26e8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4124 26ec 0331A0E1 		mov	r3, r3, asl #2
 4125 26f0 012083E2 		add	r2, r3, #1
 4126 26f4 0830A0E3 		mov	r3, #8
 4127 26f8 022081E0 		add	r2, r1, r2
 4128 26fc 033082E0 		add	r3, r2, r3
 4129 2700 0020A0E3 		mov	r2, #0
 4130 2704 0020C3E5 		strb	r2, [r3]
1303:../cyfxslfifosync.c **** 
1304:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[2 + (block * 4)] = (wiper_pos[1] >> 8) & 0xFF; //signed va
 4131              		.loc 1 1304 0
 4132 2708 AC361FE5 		ldr	r3, .L244+44
 4133 270c 000093E5 		ldr	r0, [r3]
 4134 2710 C0361FE5 		ldr	r3, .L244+32
 4135 2714 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4136 2718 0331A0E1 		mov	r3, r3, asl #2
 4137 271c 021083E2 		add	r1, r3, #2
 4138 2720 D4361FE5 		ldr	r3, .L244+28
 4139 2724 B230D3E1 		ldrh	r3, [r3, #2]
 4140 2728 2334A0E1 		mov	r3, r3, lsr #8
 4141 272c 0338A0E1 		mov	r3, r3, asl #16
 4142 2730 2338A0E1 		mov	r3, r3, lsr #16
 4143 2734 FF2003E2 		and	r2, r3, #255
 4144 2738 0830A0E3 		mov	r3, #8
 4145 273c 011080E0 		add	r1, r0, r1
 4146 2740 033081E0 		add	r3, r1, r3
 4147 2744 0020C3E5 		strb	r2, [r3]
1305:../cyfxslfifosync.c ****  									LMS_Ctrl_Packet_Tx->Data_field[3 + (block * 4)] = wiper_pos[1] & 0xFF; //signed val, LSB 
 4148              		.loc 1 1305 0
 4149 2748 EC361FE5 		ldr	r3, .L244+44
 4150 274c 000093E5 		ldr	r0, [r3]
 4151 2750 00371FE5 		ldr	r3, .L244+32
 4152 2754 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4153 2758 0331A0E1 		mov	r3, r3, asl #2
 4154 275c 031083E2 		add	r1, r3, #3
 4155 2760 14371FE5 		ldr	r3, .L244+28
 4156 2764 B230D3E1 		ldrh	r3, [r3, #2]
 4157 2768 FF2003E2 		and	r2, r3, #255
 4158 276c 0830A0E3 		mov	r3, #8
 4159 2770 011080E0 		add	r1, r0, r1
 4160 2774 033081E0 		add	r3, r1, r3
 4161 2778 0020C3E5 		strb	r2, [r3]
1306:../cyfxslfifosync.c ****  									break;
 4162              		.loc 1 1306 0
 4163 277c 060000EA 		b	.L189
 4164              	.L183:
1307:../cyfxslfifosync.c **** 
1308:../cyfxslfifosync.c ****  								default:
1309:../cyfxslfifosync.c ****  									cmd_errors++;
 4165              		.loc 1 1309 0
 4166 2780 2C371FE5 		ldr	r3, .L244+36
 4167 2784 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4168 2788 013083E2 		add	r3, r3, #1
 4169 278c FF2003E2 		and	r2, r3, #255
 4170 2790 3C371FE5 		ldr	r3, .L244+36
 4171 2794 0020C3E5 		strb	r2, [r3]
1310:../cyfxslfifosync.c ****  									break;
 4172              		.loc 1 1310 0
 4173 2798 0000A0E1 		mov	r0, r0	@ nop
 4174              	.L189:
 4175              	.LBE7:
 4176              	.LBE6:
1244:../cyfxslfifosync.c ****  						{
 4177              		.loc 1 1244 0
 4178 279c 4C371FE5 		ldr	r3, .L244+32
 4179 27a0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4180 27a4 013083E2 		add	r3, r3, #1
 4181 27a8 FF2003E2 		and	r2, r3, #255
 4182 27ac 5C371FE5 		ldr	r3, .L244+32
 4183 27b0 0020C3E5 		strb	r2, [r3]
 4184              	.L182:
1244:../cyfxslfifosync.c ****  						{
 4185              		.loc 1 1244 0 is_stmt 0 discriminator 1
 4186 27b4 3C371FE5 		ldr	r3, .L244+72
 4187 27b8 003093E5 		ldr	r3, [r3]
 4188 27bc 0220D3E5 		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 4189 27c0 70371FE5 		ldr	r3, .L244+32
 4190 27c4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4191 27c8 030052E1 		cmp	r2, r3
 4192 27cc B7FEFF8A 		bhi	.L192
1311:../cyfxslfifosync.c ****  							}
1312:../cyfxslfifosync.c ****  						}
1313:../cyfxslfifosync.c **** 
1314:../cyfxslfifosync.c ****  						if(cmd_errors) LMS_Ctrl_Packet_Tx->Header.Status = STATUS_ERROR_CMD;
 4193              		.loc 1 1314 0 is_stmt 1
 4194 27d0 7C371FE5 		ldr	r3, .L244+36
 4195 27d4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4196 27d8 000053E3 		cmp	r3, #0
 4197 27dc 0400000A 		beq	.L193
 4198              		.loc 1 1314 0 is_stmt 0 discriminator 1
 4199 27e0 84371FE5 		ldr	r3, .L244+44
 4200 27e4 003093E5 		ldr	r3, [r3]
 4201 27e8 0520A0E3 		mov	r2, #5
 4202 27ec 0120C3E5 		strb	r2, [r3, #1]
1315:../cyfxslfifosync.c ****  						else LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
1316:../cyfxslfifosync.c **** 
1317:../cyfxslfifosync.c ****  						break;
 4203              		.loc 1 1317 0 is_stmt 1 discriminator 1
 4204 27f0 C80200EA 		b	.L121
 4205              	.L193:
1315:../cyfxslfifosync.c ****  						else LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 4206              		.loc 1 1315 0
 4207 27f4 98371FE5 		ldr	r3, .L244+44
 4208 27f8 003093E5 		ldr	r3, [r3]
 4209 27fc 0120A0E3 		mov	r2, #1
 4210 2800 0120C3E5 		strb	r2, [r3, #1]
 4211              		.loc 1 1317 0
 4212 2804 C30200EA 		b	.L121
 4213              	.L119:
1318:../cyfxslfifosync.c **** 
1319:../cyfxslfifosync.c ****  					case CMD_ANALOG_VAL_WR:
1320:../cyfxslfifosync.c ****  						if(Check_many_blocks (4)) break;
 4214              		.loc 1 1320 0
 4215 2808 0400A0E3 		mov	r0, #4
 4216 280c FEFFFFEB 		bl	Check_many_blocks
 4217 2810 0030A0E1 		mov	r3, r0
 4218 2814 000053E3 		cmp	r3, #0
 4219 2818 0000000A 		beq	.L195
 4220              		.loc 1 1320 0 is_stmt 0 discriminator 1
 4221 281c BD0200EA 		b	.L121
 4222              	.L195:
1321:../cyfxslfifosync.c **** 
1322:../cyfxslfifosync.c **** 
1323:../cyfxslfifosync.c ****  						for(block = 0; block < LMS_Ctrl_Packet_Rx->Header.Data_blocks; block++)
 4223              		.loc 1 1323 0 is_stmt 1
 4224 2820 D0371FE5 		ldr	r3, .L244+32
 4225 2824 0020A0E3 		mov	r2, #0
 4226 2828 0020C3E5 		strb	r2, [r3]
 4227 282c 200100EA 		b	.L196
 4228              	.L216:
1324:../cyfxslfifosync.c ****  						{
1325:../cyfxslfifosync.c ****  							switch (LMS_Ctrl_Packet_Rx->Data_field[0 + (block * 4)]) //do something according to channe
 4229              		.loc 1 1325 0
 4230 2830 B8371FE5 		ldr	r3, .L244+72
 4231 2834 001093E5 		ldr	r1, [r3]
 4232 2838 E8371FE5 		ldr	r3, .L244+32
 4233 283c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4234 2840 0321A0E1 		mov	r2, r3, asl #2
 4235 2844 0830A0E3 		mov	r3, #8
 4236 2848 022081E0 		add	r2, r1, r2
 4237 284c 033082E0 		add	r3, r2, r3
 4238 2850 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4239 2854 020053E3 		cmp	r3, #2
 4240 2858 3C00000A 		beq	.L198
 4241 285c 030053E3 		cmp	r3, #3
 4242 2860 9F00000A 		beq	.L199
 4243 2864 000053E3 		cmp	r3, #0
 4244 2868 0401001A 		bne	.L242
1326:../cyfxslfifosync.c ****  							{
1327:../cyfxslfifosync.c ****  								case 0: //TCXO DAC
1328:../cyfxslfifosync.c ****  									if (LMS_Ctrl_Packet_Rx->Data_field[1 + (block * 4)] == 0) //RAW units?
 4245              		.loc 1 1328 0
 4246 286c F4371FE5 		ldr	r3, .L244+72
 4247 2870 001093E5 		ldr	r1, [r3]
 4248 2874 24381FE5 		ldr	r3, .L244+32
 4249 2878 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4250 287c 0331A0E1 		mov	r3, r3, asl #2
 4251 2880 012083E2 		add	r2, r3, #1
 4252 2884 0830A0E3 		mov	r3, #8
 4253 2888 022081E0 		add	r2, r1, r2
 4254 288c 033082E0 		add	r3, r2, r3
 4255 2890 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4256 2894 000053E3 		cmp	r3, #0
 4257 2898 2500001A 		bne	.L201
1329:../cyfxslfifosync.c ****  									{
1330:../cyfxslfifosync.c ****  										if(LMS_Ctrl_Packet_Rx->Data_field[2 + (block * 4)] == 0) //MSB byte empty?
 4258              		.loc 1 1330 0
 4259 289c 24381FE5 		ldr	r3, .L244+72
 4260 28a0 001093E5 		ldr	r1, [r3]
 4261 28a4 54381FE5 		ldr	r3, .L244+32
 4262 28a8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4263 28ac 0331A0E1 		mov	r3, r3, asl #2
 4264 28b0 022083E2 		add	r2, r3, #2
 4265 28b4 0830A0E3 		mov	r3, #8
 4266 28b8 022081E0 		add	r2, r1, r2
 4267 28bc 033082E0 		add	r3, r2, r3
 4268 28c0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4269 28c4 000053E3 		cmp	r3, #0
 4270 28c8 1200001A 		bne	.L202
1331:../cyfxslfifosync.c ****  										{
1332:../cyfxslfifosync.c ****  											Control_TCXO_ADF (0, NULL); //set ADF4002 CP to three-state
 4271              		.loc 1 1332 0
 4272 28cc 0000A0E3 		mov	r0, #0
 4273 28d0 0010A0E3 		mov	r1, #0
 4274 28d4 FEFFFFEB 		bl	Control_TCXO_ADF
1333:../cyfxslfifosync.c **** 
1334:../cyfxslfifosync.c ****  											//write data to DAC
1335:../cyfxslfifosync.c ****  											dac_val = LMS_Ctrl_Packet_Rx->Data_field[3 + (block * 4)];
 4275              		.loc 1 1335 0
 4276 28d8 60381FE5 		ldr	r3, .L244+72
 4277 28dc 001093E5 		ldr	r1, [r3]
 4278 28e0 90381FE5 		ldr	r3, .L244+32
 4279 28e4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4280 28e8 0331A0E1 		mov	r3, r3, asl #2
 4281 28ec 032083E2 		add	r2, r3, #3
 4282 28f0 0830A0E3 		mov	r3, #8
 4283 28f4 022081E0 		add	r2, r1, r2
 4284 28f8 033082E0 		add	r3, r2, r3
 4285 28fc 0020D3E5 		ldrb	r2, [r3]	@ zero_extendqisi2
 4286 2900 B8381FE5 		ldr	r3, .L244+24
 4287 2904 0020C3E5 		strb	r2, [r3]
1336:../cyfxslfifosync.c ****  											Control_TCXO_DAC (1, &dac_val); //enable DAC output, set new val
 4288              		.loc 1 1336 0
 4289 2908 0100A0E3 		mov	r0, #1
 4290 290c C4181FE5 		ldr	r1, .L244+24
 4291 2910 FEFFFFEB 		bl	Control_TCXO_DAC
1337:../cyfxslfifosync.c ****  										}
1338:../cyfxslfifosync.c ****  										else cmd_errors++;
1339:../cyfxslfifosync.c ****  									}
1340:../cyfxslfifosync.c ****  									else cmd_errors++;
1341:../cyfxslfifosync.c **** 
1342:../cyfxslfifosync.c ****  									break;
 4292              		.loc 1 1342 0
 4293 2914 E00000EA 		b	.L205
 4294              	.L202:
1338:../cyfxslfifosync.c ****  									}
 4295              		.loc 1 1338 0
 4296 2918 C4381FE5 		ldr	r3, .L244+36
 4297 291c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4298 2920 013083E2 		add	r3, r3, #1
 4299 2924 FF2003E2 		and	r2, r3, #255
 4300 2928 D4381FE5 		ldr	r3, .L244+36
 4301 292c 0020C3E5 		strb	r2, [r3]
 4302              		.loc 1 1342 0
 4303 2930 D90000EA 		b	.L205
 4304              	.L201:
1340:../cyfxslfifosync.c **** 
 4305              		.loc 1 1340 0
 4306 2934 E0381FE5 		ldr	r3, .L244+36
 4307 2938 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4308 293c 013083E2 		add	r3, r3, #1
 4309 2940 FF2003E2 		and	r2, r3, #255
 4310 2944 F0381FE5 		ldr	r3, .L244+36
 4311 2948 0020C3E5 		strb	r2, [r3]
 4312              		.loc 1 1342 0
 4313 294c D20000EA 		b	.L205
 4314              	.L198:
1343:../cyfxslfifosync.c **** 
1344:../cyfxslfifosync.c ****  								case 2: //MCP4261 wiper 0 control
1345:../cyfxslfifosync.c **** 
1346:../cyfxslfifosync.c ****  									if (LMS_Ctrl_Packet_Rx->Data_field[1 + (block * 4)] == 0) //RAW units?
 4315              		.loc 1 1346 0
 4316 2950 D8381FE5 		ldr	r3, .L244+72
 4317 2954 001093E5 		ldr	r1, [r3]
 4318 2958 08391FE5 		ldr	r3, .L244+32
 4319 295c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4320 2960 0331A0E1 		mov	r3, r3, asl #2
 4321 2964 012083E2 		add	r2, r3, #1
 4322 2968 0830A0E3 		mov	r3, #8
 4323 296c 022081E0 		add	r2, r1, r2
 4324 2970 033082E0 		add	r3, r2, r3
 4325 2974 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4326 2978 000053E3 		cmp	r3, #0
 4327 297c 5100001A 		bne	.L206
1347:../cyfxslfifosync.c **** 									{
1348:../cyfxslfifosync.c ****  										wiper_pos[0] = (LMS_Ctrl_Packet_Rx->Data_field[2 + (block * 4)] << 8) + LMS_Ctrl_Packet_
 4328              		.loc 1 1348 0
 4329 2980 08391FE5 		ldr	r3, .L244+72
 4330 2984 001093E5 		ldr	r1, [r3]
 4331 2988 38391FE5 		ldr	r3, .L244+32
 4332 298c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4333 2990 0331A0E1 		mov	r3, r3, asl #2
 4334 2994 022083E2 		add	r2, r3, #2
 4335 2998 0830A0E3 		mov	r3, #8
 4336 299c 022081E0 		add	r2, r1, r2
 4337 29a0 033082E0 		add	r3, r2, r3
 4338 29a4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4339 29a8 0334A0E1 		mov	r3, r3, asl #8
 4340 29ac 0338A0E1 		mov	r3, r3, asl #16
 4341 29b0 2328A0E1 		mov	r2, r3, lsr #16
 4342 29b4 3C391FE5 		ldr	r3, .L244+72
 4343 29b8 000093E5 		ldr	r0, [r3]
 4344 29bc 6C391FE5 		ldr	r3, .L244+32
 4345 29c0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4346 29c4 0331A0E1 		mov	r3, r3, asl #2
 4347 29c8 031083E2 		add	r1, r3, #3
 4348 29cc 0830A0E3 		mov	r3, #8
 4349 29d0 011080E0 		add	r1, r0, r1
 4350 29d4 033081E0 		add	r3, r1, r3
 4351 29d8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4352 29dc 033082E0 		add	r3, r2, r3
 4353 29e0 0338A0E1 		mov	r3, r3, asl #16
 4354 29e4 2328A0E1 		mov	r2, r3, lsr #16
 4355 29e8 9C391FE5 		ldr	r3, .L244+28
 4356 29ec B020C3E1 		strh	r2, [r3]	@ movhi
1349:../cyfxslfifosync.c ****  										if(wiper_pos[0] <= 256)
 4357              		.loc 1 1349 0
 4358 29f0 A4391FE5 		ldr	r3, .L244+28
 4359 29f4 B030D3E1 		ldrh	r3, [r3]
 4360 29f8 010C53E3 		cmp	r3, #256
 4361 29fc 2A00008A 		bhi	.L207
 4362              	.LBB8:
1350:../cyfxslfifosync.c **** 										{
1351:../cyfxslfifosync.c ****  										Reconfigure_SPI_for_LMS ();
 4363              		.loc 1 1351 0
 4364 2a00 FEFFFFEB 		bl	Reconfigure_SPI_for_LMS
1352:../cyfxslfifosync.c **** 
1353:../cyfxslfifosync.c **** 										//MCP4261 wiper control
1354:../cyfxslfifosync.c **** 										unsigned char MCP_data[2];
1355:../cyfxslfifosync.c **** 
1356:../cyfxslfifosync.c **** 										MCP_data[0] = MCP_data[1] = 0;
 4365              		.loc 1 1356 0
 4366 2a04 0030A0E3 		mov	r3, #0
 4367 2a08 2B304BE5 		strb	r3, [fp, #-43]
 4368 2a0c 2B305BE5 		ldrb	r3, [fp, #-43]	@ zero_extendqisi2
 4369 2a10 2C304BE5 		strb	r3, [fp, #-44]
1357:../cyfxslfifosync.c **** 
1358:../cyfxslfifosync.c **** 										MCP_data[0] |= (0x00 << 4); //Memory addr [16:13] = Volatile Wiper 0 (0x00)
 4370              		.loc 1 1358 0
 4371 2a14 2C305BE5 		ldrb	r3, [fp, #-44]	@ zero_extendqisi2
 4372 2a18 2C304BE5 		strb	r3, [fp, #-44]
1359:../cyfxslfifosync.c **** 										MCP_data[0] |= (0x00 << 2); //Command bits [11:10] = CMD  Write data (0x00)
 4373              		.loc 1 1359 0
 4374 2a1c 2C305BE5 		ldrb	r3, [fp, #-44]	@ zero_extendqisi2
 4375 2a20 2C304BE5 		strb	r3, [fp, #-44]
1360:../cyfxslfifosync.c **** 
1361:../cyfxslfifosync.c **** 										if (wiper_pos[0] > 255)	MCP_data[0] |= (0x01); //Full Scale (W = A)
 4376              		.loc 1 1361 0
 4377 2a24 D8391FE5 		ldr	r3, .L244+28
 4378 2a28 B030D3E1 		ldrh	r3, [r3]
 4379 2a2c FF0053E3 		cmp	r3, #255
 4380 2a30 0300009A 		bls	.L208
 4381              		.loc 1 1361 0 is_stmt 0 discriminator 1
 4382 2a34 2C305BE5 		ldrb	r3, [fp, #-44]	@ zero_extendqisi2
 4383 2a38 013083E3 		orr	r3, r3, #1
 4384 2a3c FF3003E2 		and	r3, r3, #255
 4385 2a40 2C304BE5 		strb	r3, [fp, #-44]
 4386              	.L208:
1362:../cyfxslfifosync.c **** 
1363:../cyfxslfifosync.c **** 										MCP_data[1] = LMS_Ctrl_Packet_Rx->Data_field[3 + (block * 4)];
 4387              		.loc 1 1363 0 is_stmt 1
 4388 2a44 CC391FE5 		ldr	r3, .L244+72
 4389 2a48 001093E5 		ldr	r1, [r3]
 4390 2a4c FC391FE5 		ldr	r3, .L244+32
 4391 2a50 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4392 2a54 0331A0E1 		mov	r3, r3, asl #2
 4393 2a58 032083E2 		add	r2, r3, #3
 4394 2a5c 0830A0E3 		mov	r3, #8
 4395 2a60 022081E0 		add	r2, r1, r2
 4396 2a64 033082E0 		add	r3, r2, r3
 4397 2a68 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4398 2a6c 2B304BE5 		strb	r3, [fp, #-43]
1364:../cyfxslfifosync.c **** 
1365:../cyfxslfifosync.c **** 										Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, POT1_SS, POT1_SS, 0); //select
 4399              		.loc 1 1365 0
 4400 2a70 1200A0E3 		mov	r0, #18
 4401 2a74 0210A0E3 		mov	r1, #2
 4402 2a78 0220A0E3 		mov	r2, #2
 4403 2a7c 0030A0E3 		mov	r3, #0
 4404 2a80 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
1366:../cyfxslfifosync.c **** 										CyU3PSpiTransmitWords (&MCP_data[0], 2);
 4405              		.loc 1 1366 0
 4406 2a84 2C304BE2 		sub	r3, fp, #44
 4407 2a88 0300A0E1 		mov	r0, r3
 4408 2a8c 0210A0E3 		mov	r1, #2
 4409 2a90 FEFFFFEB 		bl	CyU3PSpiTransmitWords
1367:../cyfxslfifosync.c **** 										Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, POT1_SS, POT1_SS, 1); //deselect
 4410              		.loc 1 1367 0
 4411 2a94 1200A0E3 		mov	r0, #18
 4412 2a98 0210A0E3 		mov	r1, #2
 4413 2a9c 0220A0E3 		mov	r2, #2
 4414 2aa0 0130A0E3 		mov	r3, #1
 4415 2aa4 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 4416              	.LBE8:
1368:../cyfxslfifosync.c **** 										}
1369:../cyfxslfifosync.c **** 										else cmd_errors++;
1370:../cyfxslfifosync.c **** 									}
1371:../cyfxslfifosync.c ****  									else cmd_errors++;
1372:../cyfxslfifosync.c ****  									break;
 4417              		.loc 1 1372 0
 4418 2aa8 7B0000EA 		b	.L205
 4419              	.L207:
1369:../cyfxslfifosync.c **** 									}
 4420              		.loc 1 1369 0
 4421 2aac 583A1FE5 		ldr	r3, .L244+36
 4422 2ab0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4423 2ab4 013083E2 		add	r3, r3, #1
 4424 2ab8 FF2003E2 		and	r2, r3, #255
 4425 2abc 683A1FE5 		ldr	r3, .L244+36
 4426 2ac0 0020C3E5 		strb	r2, [r3]
 4427              		.loc 1 1372 0
 4428 2ac4 740000EA 		b	.L205
 4429              	.L206:
1371:../cyfxslfifosync.c ****  									break;
 4430              		.loc 1 1371 0
 4431 2ac8 743A1FE5 		ldr	r3, .L244+36
 4432 2acc 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4433 2ad0 013083E2 		add	r3, r3, #1
 4434 2ad4 FF2003E2 		and	r2, r3, #255
 4435 2ad8 843A1FE5 		ldr	r3, .L244+36
 4436 2adc 0020C3E5 		strb	r2, [r3]
 4437              		.loc 1 1372 0
 4438 2ae0 6D0000EA 		b	.L205
 4439              	.L199:
1373:../cyfxslfifosync.c **** 
1374:../cyfxslfifosync.c ****  								case 3: //MCP4261 wiper 0 control
1375:../cyfxslfifosync.c **** 
1376:../cyfxslfifosync.c ****  									if (LMS_Ctrl_Packet_Rx->Data_field[1 + (block * 4)] == 0) //RAW units?
 4440              		.loc 1 1376 0
 4441 2ae4 6C3A1FE5 		ldr	r3, .L244+72
 4442 2ae8 001093E5 		ldr	r1, [r3]
 4443 2aec 9C3A1FE5 		ldr	r3, .L244+32
 4444 2af0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4445 2af4 0331A0E1 		mov	r3, r3, asl #2
 4446 2af8 012083E2 		add	r2, r3, #1
 4447 2afc 0830A0E3 		mov	r3, #8
 4448 2b00 022081E0 		add	r2, r1, r2
 4449 2b04 033082E0 		add	r3, r2, r3
 4450 2b08 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4451 2b0c 000053E3 		cmp	r3, #0
 4452 2b10 5300001A 		bne	.L211
1377:../cyfxslfifosync.c **** 									{
1378:../cyfxslfifosync.c ****  										wiper_pos[1] = (LMS_Ctrl_Packet_Rx->Data_field[2 + (block * 4)] << 8) + LMS_Ctrl_Packet_
 4453              		.loc 1 1378 0
 4454 2b14 9C3A1FE5 		ldr	r3, .L244+72
 4455 2b18 001093E5 		ldr	r1, [r3]
 4456 2b1c CC3A1FE5 		ldr	r3, .L244+32
 4457 2b20 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4458 2b24 0331A0E1 		mov	r3, r3, asl #2
 4459 2b28 022083E2 		add	r2, r3, #2
 4460 2b2c 0830A0E3 		mov	r3, #8
 4461 2b30 022081E0 		add	r2, r1, r2
 4462 2b34 033082E0 		add	r3, r2, r3
 4463 2b38 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4464 2b3c 0334A0E1 		mov	r3, r3, asl #8
 4465 2b40 0338A0E1 		mov	r3, r3, asl #16
 4466 2b44 2328A0E1 		mov	r2, r3, lsr #16
 4467 2b48 D03A1FE5 		ldr	r3, .L244+72
 4468 2b4c 000093E5 		ldr	r0, [r3]
 4469 2b50 003B1FE5 		ldr	r3, .L244+32
 4470 2b54 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4471 2b58 0331A0E1 		mov	r3, r3, asl #2
 4472 2b5c 031083E2 		add	r1, r3, #3
 4473 2b60 0830A0E3 		mov	r3, #8
 4474 2b64 011080E0 		add	r1, r0, r1
 4475 2b68 033081E0 		add	r3, r1, r3
 4476 2b6c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4477 2b70 033082E0 		add	r3, r2, r3
 4478 2b74 0338A0E1 		mov	r3, r3, asl #16
 4479 2b78 2328A0E1 		mov	r2, r3, lsr #16
 4480 2b7c 303B1FE5 		ldr	r3, .L244+28
 4481 2b80 B220C3E1 		strh	r2, [r3, #2]	@ movhi
1379:../cyfxslfifosync.c ****  										if(wiper_pos[1] <= 256)
 4482              		.loc 1 1379 0
 4483 2b84 383B1FE5 		ldr	r3, .L244+28
 4484 2b88 B230D3E1 		ldrh	r3, [r3, #2]
 4485 2b8c 010C53E3 		cmp	r3, #256
 4486 2b90 2C00008A 		bhi	.L212
 4487              	.LBB9:
1380:../cyfxslfifosync.c **** 										{
1381:../cyfxslfifosync.c ****  										Reconfigure_SPI_for_LMS ();
 4488              		.loc 1 1381 0
 4489 2b94 FEFFFFEB 		bl	Reconfigure_SPI_for_LMS
1382:../cyfxslfifosync.c **** 
1383:../cyfxslfifosync.c **** 										//MCP4261 wiper control
1384:../cyfxslfifosync.c **** 										unsigned char MCP_data[2];
1385:../cyfxslfifosync.c **** 
1386:../cyfxslfifosync.c **** 										MCP_data[0] = MCP_data[1] = 0;
 4490              		.loc 1 1386 0
 4491 2b98 0030A0E3 		mov	r3, #0
 4492 2b9c 2F304BE5 		strb	r3, [fp, #-47]
 4493 2ba0 2F305BE5 		ldrb	r3, [fp, #-47]	@ zero_extendqisi2
 4494 2ba4 30304BE5 		strb	r3, [fp, #-48]
1387:../cyfxslfifosync.c **** 
1388:../cyfxslfifosync.c **** 										MCP_data[0] |= (0x01 << 4); //Memory addr [16:13] = Volatile Wiper 1 (0x01)
 4495              		.loc 1 1388 0
 4496 2ba8 30305BE5 		ldrb	r3, [fp, #-48]	@ zero_extendqisi2
 4497 2bac 103083E3 		orr	r3, r3, #16
 4498 2bb0 FF3003E2 		and	r3, r3, #255
 4499 2bb4 30304BE5 		strb	r3, [fp, #-48]
1389:../cyfxslfifosync.c **** 										MCP_data[0] |= (0x00 << 2); //Command bits [11:10] = CMD  Write data (0x00)
 4500              		.loc 1 1389 0
 4501 2bb8 30305BE5 		ldrb	r3, [fp, #-48]	@ zero_extendqisi2
 4502 2bbc 30304BE5 		strb	r3, [fp, #-48]
1390:../cyfxslfifosync.c **** 
1391:../cyfxslfifosync.c **** 										if (wiper_pos[1] > 255)	MCP_data[0] |= (0x01); //Full Scale (W = A)
 4503              		.loc 1 1391 0
 4504 2bc0 743B1FE5 		ldr	r3, .L244+28
 4505 2bc4 B230D3E1 		ldrh	r3, [r3, #2]
 4506 2bc8 FF0053E3 		cmp	r3, #255
 4507 2bcc 0300009A 		bls	.L213
 4508              		.loc 1 1391 0 is_stmt 0 discriminator 1
 4509 2bd0 30305BE5 		ldrb	r3, [fp, #-48]	@ zero_extendqisi2
 4510 2bd4 013083E3 		orr	r3, r3, #1
 4511 2bd8 FF3003E2 		and	r3, r3, #255
 4512 2bdc 30304BE5 		strb	r3, [fp, #-48]
 4513              	.L213:
1392:../cyfxslfifosync.c **** 
1393:../cyfxslfifosync.c **** 										MCP_data[1] = LMS_Ctrl_Packet_Rx->Data_field[3 + (block * 4)];
 4514              		.loc 1 1393 0 is_stmt 1
 4515 2be0 683B1FE5 		ldr	r3, .L244+72
 4516 2be4 001093E5 		ldr	r1, [r3]
 4517 2be8 983B1FE5 		ldr	r3, .L244+32
 4518 2bec 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4519 2bf0 0331A0E1 		mov	r3, r3, asl #2
 4520 2bf4 032083E2 		add	r2, r3, #3
 4521 2bf8 0830A0E3 		mov	r3, #8
 4522 2bfc 022081E0 		add	r2, r1, r2
 4523 2c00 033082E0 		add	r3, r2, r3
 4524 2c04 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4525 2c08 2F304BE5 		strb	r3, [fp, #-47]
1394:../cyfxslfifosync.c **** 
1395:../cyfxslfifosync.c **** 										Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, POT1_SS, POT1_SS, 0); //select
 4526              		.loc 1 1395 0
 4527 2c0c 1200A0E3 		mov	r0, #18
 4528 2c10 0210A0E3 		mov	r1, #2
 4529 2c14 0220A0E3 		mov	r2, #2
 4530 2c18 0030A0E3 		mov	r3, #0
 4531 2c1c FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
1396:../cyfxslfifosync.c **** 										CyU3PSpiTransmitWords (&MCP_data[0], 2);
 4532              		.loc 1 1396 0
 4533 2c20 30304BE2 		sub	r3, fp, #48
 4534 2c24 0300A0E1 		mov	r0, r3
 4535 2c28 0210A0E3 		mov	r1, #2
 4536 2c2c FEFFFFEB 		bl	CyU3PSpiTransmitWords
1397:../cyfxslfifosync.c **** 										Modify_BRDSPI16_Reg_bits (BRD_SPI_REG_SS_CTRL, POT1_SS, POT1_SS, 1); //deselect
 4537              		.loc 1 1397 0
 4538 2c30 1200A0E3 		mov	r0, #18
 4539 2c34 0210A0E3 		mov	r1, #2
 4540 2c38 0220A0E3 		mov	r2, #2
 4541 2c3c 0130A0E3 		mov	r3, #1
 4542 2c40 FEFFFFEB 		bl	Modify_BRDSPI16_Reg_bits
 4543              	.LBE9:
1398:../cyfxslfifosync.c **** 										}
1399:../cyfxslfifosync.c **** 										else cmd_errors++;
1400:../cyfxslfifosync.c **** 									}
1401:../cyfxslfifosync.c ****  									else cmd_errors++;
1402:../cyfxslfifosync.c ****  									break;
 4544              		.loc 1 1402 0
 4545 2c44 140000EA 		b	.L205
 4546              	.L212:
1399:../cyfxslfifosync.c **** 									}
 4547              		.loc 1 1399 0
 4548 2c48 F43B1FE5 		ldr	r3, .L244+36
 4549 2c4c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4550 2c50 013083E2 		add	r3, r3, #1
 4551 2c54 FF2003E2 		and	r2, r3, #255
 4552 2c58 043C1FE5 		ldr	r3, .L244+36
 4553 2c5c 0020C3E5 		strb	r2, [r3]
 4554              		.loc 1 1402 0
 4555 2c60 0D0000EA 		b	.L205
 4556              	.L211:
1401:../cyfxslfifosync.c ****  									break;
 4557              		.loc 1 1401 0
 4558 2c64 103C1FE5 		ldr	r3, .L244+36
 4559 2c68 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4560 2c6c 013083E2 		add	r3, r3, #1
 4561 2c70 FF2003E2 		and	r2, r3, #255
 4562 2c74 203C1FE5 		ldr	r3, .L244+36
 4563 2c78 0020C3E5 		strb	r2, [r3]
 4564              		.loc 1 1402 0
 4565 2c7c 060000EA 		b	.L205
 4566              	.L242:
1403:../cyfxslfifosync.c **** 
1404:../cyfxslfifosync.c ****  								default:
1405:../cyfxslfifosync.c ****  									cmd_errors++;
 4567              		.loc 1 1405 0
 4568 2c80 2C3C1FE5 		ldr	r3, .L244+36
 4569 2c84 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4570 2c88 013083E2 		add	r3, r3, #1
 4571 2c8c FF2003E2 		and	r2, r3, #255
 4572 2c90 3C3C1FE5 		ldr	r3, .L244+36
 4573 2c94 0020C3E5 		strb	r2, [r3]
1406:../cyfxslfifosync.c ****  									break;
 4574              		.loc 1 1406 0
 4575 2c98 0000A0E1 		mov	r0, r0	@ nop
 4576              	.L205:
1323:../cyfxslfifosync.c ****  						{
 4577              		.loc 1 1323 0
 4578 2c9c 4C3C1FE5 		ldr	r3, .L244+32
 4579 2ca0 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4580 2ca4 013083E2 		add	r3, r3, #1
 4581 2ca8 FF2003E2 		and	r2, r3, #255
 4582 2cac 5C3C1FE5 		ldr	r3, .L244+32
 4583 2cb0 0020C3E5 		strb	r2, [r3]
 4584              	.L196:
1323:../cyfxslfifosync.c ****  						{
 4585              		.loc 1 1323 0 is_stmt 0 discriminator 1
 4586 2cb4 3C3C1FE5 		ldr	r3, .L244+72
 4587 2cb8 003093E5 		ldr	r3, [r3]
 4588 2cbc 0220D3E5 		ldrb	r2, [r3, #2]	@ zero_extendqisi2
 4589 2cc0 703C1FE5 		ldr	r3, .L244+32
 4590 2cc4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4591 2cc8 030052E1 		cmp	r2, r3
 4592 2ccc D7FEFF8A 		bhi	.L216
1407:../cyfxslfifosync.c ****  							}
1408:../cyfxslfifosync.c ****  						}
1409:../cyfxslfifosync.c **** 
1410:../cyfxslfifosync.c **** 
1411:../cyfxslfifosync.c ****  						if(cmd_errors) LMS_Ctrl_Packet_Tx->Header.Status = STATUS_ERROR_CMD;
 4593              		.loc 1 1411 0 is_stmt 1
 4594 2cd0 7C3C1FE5 		ldr	r3, .L244+36
 4595 2cd4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4596 2cd8 000053E3 		cmp	r3, #0
 4597 2cdc 0400000A 		beq	.L217
 4598              		.loc 1 1411 0 is_stmt 0 discriminator 1
 4599 2ce0 843C1FE5 		ldr	r3, .L244+44
 4600 2ce4 003093E5 		ldr	r3, [r3]
 4601 2ce8 0520A0E3 		mov	r2, #5
 4602 2cec 0120C3E5 		strb	r2, [r3, #1]
1412:../cyfxslfifosync.c ****  						else LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
1413:../cyfxslfifosync.c ****  						break;
 4603              		.loc 1 1413 0 is_stmt 1 discriminator 1
 4604 2cf0 880100EA 		b	.L121
 4605              	.L217:
1412:../cyfxslfifosync.c ****  						else LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 4606              		.loc 1 1412 0
 4607 2cf4 983C1FE5 		ldr	r3, .L244+44
 4608 2cf8 003093E5 		ldr	r3, [r3]
 4609 2cfc 0120A0E3 		mov	r2, #1
 4610 2d00 0120C3E5 		strb	r2, [r3, #1]
 4611              		.loc 1 1413 0
 4612 2d04 830100EA 		b	.L121
 4613              	.L117:
1414:../cyfxslfifosync.c **** 
1415:../cyfxslfifosync.c ****  				case CMD_BRDCONF_WR: //write config data to board
1416:../cyfxslfifosync.c **** 					current_portion = (LMS_Ctrl_Packet_Rx->Data_field[1] << 24) | (LMS_Ctrl_Packet_Rx->Data_field[
 4614              		.loc 1 1416 0
 4615 2d08 903C1FE5 		ldr	r3, .L244+72
 4616 2d0c 003093E5 		ldr	r3, [r3]
 4617 2d10 0930D3E5 		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 4618 2d14 032CA0E1 		mov	r2, r3, asl #24
 4619 2d18 A03C1FE5 		ldr	r3, .L244+72
 4620 2d1c 003093E5 		ldr	r3, [r3]
 4621 2d20 0A30D3E5 		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 4622 2d24 0338A0E1 		mov	r3, r3, asl #16
 4623 2d28 032082E1 		orr	r2, r2, r3
 4624 2d2c B43C1FE5 		ldr	r3, .L244+72
 4625 2d30 003093E5 		ldr	r3, [r3]
 4626 2d34 0B30D3E5 		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 4627 2d38 0334A0E1 		mov	r3, r3, asl #8
 4628 2d3c 032082E1 		orr	r2, r2, r3
 4629 2d40 C83C1FE5 		ldr	r3, .L244+72
 4630 2d44 003093E5 		ldr	r3, [r3]
 4631 2d48 0C30D3E5 		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 4632 2d4c 033082E1 		orr	r3, r2, r3
 4633 2d50 0320A0E1 		mov	r2, r3
 4634 2d54 F43C1FE5 		ldr	r3, .L244+48
 4635 2d58 002083E5 		str	r2, [r3]
1417:../cyfxslfifosync.c **** 					data_cnt = LMS_Ctrl_Packet_Rx->Data_field[5];
 4636              		.loc 1 1417 0
 4637 2d5c E43C1FE5 		ldr	r3, .L244+72
 4638 2d60 003093E5 		ldr	r3, [r3]
 4639 2d64 0D20D3E5 		ldrb	r2, [r3, #13]	@ zero_extendqisi2
 4640 2d68 FC3C1FE5 		ldr	r3, .L244+60
 4641 2d6c 0020C3E5 		strb	r2, [r3]
1418:../cyfxslfifosync.c **** 
1419:../cyfxslfifosync.c **** 					LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 4642              		.loc 1 1419 0
 4643 2d70 143D1FE5 		ldr	r3, .L244+44
 4644 2d74 003093E5 		ldr	r3, [r3]
 4645 2d78 0120A0E3 		mov	r2, #1
 4646 2d7c 0120C3E5 		strb	r2, [r3, #1]
1420:../cyfxslfifosync.c **** 
1421:../cyfxslfifosync.c ****  					break;
 4647              		.loc 1 1421 0
 4648 2d80 640100EA 		b	.L121
 4649              	.L118:
1422:../cyfxslfifosync.c **** 
1423:../cyfxslfifosync.c ****  				case CMD_BRDCONF_RD: //read config data from board
1424:../cyfxslfifosync.c **** 					current_portion = (LMS_Ctrl_Packet_Rx->Data_field[1] << 24) | (LMS_Ctrl_Packet_Rx->Data_field[
 4650              		.loc 1 1424 0
 4651 2d84 0C3D1FE5 		ldr	r3, .L244+72
 4652 2d88 003093E5 		ldr	r3, [r3]
 4653 2d8c 0930D3E5 		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 4654 2d90 032CA0E1 		mov	r2, r3, asl #24
 4655 2d94 1C3D1FE5 		ldr	r3, .L244+72
 4656 2d98 003093E5 		ldr	r3, [r3]
 4657 2d9c 0A30D3E5 		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 4658 2da0 0338A0E1 		mov	r3, r3, asl #16
 4659 2da4 032082E1 		orr	r2, r2, r3
 4660 2da8 303D1FE5 		ldr	r3, .L244+72
 4661 2dac 003093E5 		ldr	r3, [r3]
 4662 2db0 0B30D3E5 		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 4663 2db4 0334A0E1 		mov	r3, r3, asl #8
 4664 2db8 032082E1 		orr	r2, r2, r3
 4665 2dbc 443D1FE5 		ldr	r3, .L244+72
 4666 2dc0 003093E5 		ldr	r3, [r3]
 4667 2dc4 0C30D3E5 		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 4668 2dc8 033082E1 		orr	r3, r2, r3
 4669 2dcc 0320A0E1 		mov	r2, r3
 4670 2dd0 703D1FE5 		ldr	r3, .L244+48
 4671 2dd4 002083E5 		str	r2, [r3]
1425:../cyfxslfifosync.c **** 					data_cnt = LMS_Ctrl_Packet_Rx->Data_field[5];
 4672              		.loc 1 1425 0
 4673 2dd8 603D1FE5 		ldr	r3, .L244+72
 4674 2ddc 003093E5 		ldr	r3, [r3]
 4675 2de0 0D20D3E5 		ldrb	r2, [r3, #13]	@ zero_extendqisi2
 4676 2de4 783D1FE5 		ldr	r3, .L244+60
 4677 2de8 0020C3E5 		strb	r2, [r3]
1426:../cyfxslfifosync.c **** 
1427:../cyfxslfifosync.c **** 					config_size = 256;
 4678              		.loc 1 1427 0
 4679 2dec 943D1FE5 		ldr	r3, .L244+40
 4680 2df0 012CA0E3 		mov	r2, #256
 4681 2df4 002083E5 		str	r2, [r3]
1428:../cyfxslfifosync.c **** 
1429:../cyfxslfifosync.c **** 					if(current_portion == 0)
 4682              		.loc 1 1429 0
 4683 2df8 983D1FE5 		ldr	r3, .L244+48
 4684 2dfc 003093E5 		ldr	r3, [r3]
 4685 2e00 000053E3 		cmp	r3, #0
 4686 2e04 0300001A 		bne	.L219
1430:../cyfxslfifosync.c **** 					{
1431:../cyfxslfifosync.c **** 						fpga_byte = 0;
 4687              		.loc 1 1431 0
 4688 2e08 A03D1FE5 		ldr	r3, .L244+56
 4689 2e0c 0020A0E3 		mov	r2, #0
 4690 2e10 002083E5 		str	r2, [r3]
1432:../cyfxslfifosync.c **** 						Reconfigure_SPI_for_Flash ();
 4691              		.loc 1 1432 0
 4692 2e14 FEFFFFEB 		bl	Reconfigure_SPI_for_Flash
 4693              	.L219:
1433:../cyfxslfifosync.c **** 					}
1434:../cyfxslfifosync.c **** 
1435:../cyfxslfifosync.c **** 					if ((current_portion % FLASH_PAGE_SIZE) == 0) //need to read new page?
 4694              		.loc 1 1435 0
 4695 2e18 B83D1FE5 		ldr	r3, .L244+48
 4696 2e1c 003093E5 		ldr	r3, [r3]
 4697 2e20 FF3003E2 		and	r3, r3, #255
 4698 2e24 000053E3 		cmp	r3, #0
 4699 2e28 0400001A 		bne	.L220
1436:../cyfxslfifosync.c **** 					{
1437:../cyfxslfifosync.c **** 						FlashSpiTransfer((FLASH_LAYOUT_FPGA_METADATA * FLASH_SECTOR_SIZE/FLASH_PAGE_SIZE), FLASH_PAGE
 4700              		.loc 1 1437 0
 4701 2e2c 030AA0E3 		mov	r0, #12288
 4702 2e30 011CA0E3 		mov	r1, #256
 4703 2e34 C02D1FE5 		ldr	r2, .L244+68
 4704 2e38 0130A0E3 		mov	r3, #1
 4705 2e3c FEFFFFEB 		bl	FlashSpiTransfer
 4706              	.L220:
1438:../cyfxslfifosync.c **** 					}
1439:../cyfxslfifosync.c **** 
1440:../cyfxslfifosync.c **** 					flash_data_counter_to_copy = config_size - fpga_byte;
 4707              		.loc 1 1440 0
 4708 2e40 E83D1FE5 		ldr	r3, .L244+40
 4709 2e44 002093E5 		ldr	r2, [r3]
 4710 2e48 E03D1FE5 		ldr	r3, .L244+56
 4711 2e4c 003093E5 		ldr	r3, [r3]
 4712 2e50 022063E0 		rsb	r2, r3, r2
 4713 2e54 D83D1FE5 		ldr	r3, .L244+76
 4714 2e58 002083E5 		str	r2, [r3]
1441:../cyfxslfifosync.c **** 					if (flash_data_counter_to_copy >= 32) flash_data_counter_to_copy = 32;
 4715              		.loc 1 1441 0
 4716 2e5c E03D1FE5 		ldr	r3, .L244+76
 4717 2e60 003093E5 		ldr	r3, [r3]
 4718 2e64 1F0053E3 		cmp	r3, #31
 4719 2e68 0200009A 		bls	.L221
 4720              		.loc 1 1441 0 is_stmt 0 discriminator 1
 4721 2e6c F03D1FE5 		ldr	r3, .L244+76
 4722 2e70 2020A0E3 		mov	r2, #32
 4723 2e74 002083E5 		str	r2, [r3]
 4724              	.L221:
1442:../cyfxslfifosync.c **** 
1443:../cyfxslfifosync.c **** 					LMS_Ctrl_Packet_Rx->Data_field[5] = flash_data_counter_to_copy; //data_cnt
 4725              		.loc 1 1443 0 is_stmt 1
 4726 2e78 003E1FE5 		ldr	r3, .L244+72
 4727 2e7c 003093E5 		ldr	r3, [r3]
 4728 2e80 042E1FE5 		ldr	r2, .L244+76
 4729 2e84 002092E5 		ldr	r2, [r2]
 4730 2e88 FF2002E2 		and	r2, r2, #255
 4731 2e8c 0D20C3E5 		strb	r2, [r3, #13]
1444:../cyfxslfifosync.c **** 					memcpy(&LMS_Ctrl_Packet_Rx->Data_field[24], &flash_page_data[0 + (current_portion %FLASH_PAGE_
 4732              		.loc 1 1444 0
 4733 2e90 183E1FE5 		ldr	r3, .L244+72
 4734 2e94 003093E5 		ldr	r3, [r3]
 4735 2e98 201083E2 		add	r1, r3, #32
 4736 2e9c 3C3E1FE5 		ldr	r3, .L244+48
 4737 2ea0 003093E5 		ldr	r3, [r3]
 4738 2ea4 1F2003E2 		and	r2, r3, #31
 4739 2ea8 343E1FE5 		ldr	r3, .L244+68
 4740 2eac 032082E0 		add	r2, r2, r3
 4741 2eb0 343E1FE5 		ldr	r3, .L244+76
 4742 2eb4 003093E5 		ldr	r3, [r3]
 4743 2eb8 0100A0E1 		mov	r0, r1
 4744 2ebc 0210A0E1 		mov	r1, r2
 4745 2ec0 0320A0E1 		mov	r2, r3
 4746 2ec4 FEFFFFEB 		bl	memcpy
1445:../cyfxslfifosync.c **** 
1446:../cyfxslfifosync.c **** 					switch(LMS_Ctrl_Packet_Rx->Data_field[0])//prog_mode
1447:../cyfxslfifosync.c **** 					{
1448:../cyfxslfifosync.c **** 					}
1449:../cyfxslfifosync.c **** 
1450:../cyfxslfifosync.c **** 					LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 4747              		.loc 1 1450 0
 4748 2ec8 6C3E1FE5 		ldr	r3, .L244+44
 4749 2ecc 003093E5 		ldr	r3, [r3]
 4750 2ed0 0120A0E3 		mov	r2, #1
 4751 2ed4 0120C3E5 		strb	r2, [r3, #1]
1451:../cyfxslfifosync.c **** 
1452:../cyfxslfifosync.c ****  					break;
 4752              		.loc 1 1452 0
 4753 2ed8 0E0100EA 		b	.L121
 4754              	.L114:
1453:../cyfxslfifosync.c **** 
1454:../cyfxslfifosync.c **** 				case CMD_ALTERA_FPGA_GW_WR: //FPGA passive serial
1455:../cyfxslfifosync.c **** 
1456:../cyfxslfifosync.c **** 					current_portion = (LMS_Ctrl_Packet_Rx->Data_field[1] << 24) | (LMS_Ctrl_Packet_Rx->Data_field[
 4755              		.loc 1 1456 0
 4756 2edc 643E1FE5 		ldr	r3, .L244+72
 4757 2ee0 003093E5 		ldr	r3, [r3]
 4758 2ee4 0930D3E5 		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 4759 2ee8 032CA0E1 		mov	r2, r3, asl #24
 4760 2eec 743E1FE5 		ldr	r3, .L244+72
 4761 2ef0 003093E5 		ldr	r3, [r3]
 4762 2ef4 0A30D3E5 		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 4763 2ef8 0338A0E1 		mov	r3, r3, asl #16
 4764 2efc 032082E1 		orr	r2, r2, r3
 4765 2f00 883E1FE5 		ldr	r3, .L244+72
 4766 2f04 003093E5 		ldr	r3, [r3]
 4767 2f08 0B30D3E5 		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 4768 2f0c 0334A0E1 		mov	r3, r3, asl #8
 4769 2f10 032082E1 		orr	r2, r2, r3
 4770 2f14 9C3E1FE5 		ldr	r3, .L244+72
 4771 2f18 003093E5 		ldr	r3, [r3]
 4772 2f1c 0C30D3E5 		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 4773 2f20 033082E1 		orr	r3, r2, r3
 4774 2f24 0320A0E1 		mov	r2, r3
 4775 2f28 C83E1FE5 		ldr	r3, .L244+48
 4776 2f2c 002083E5 		str	r2, [r3]
1457:../cyfxslfifosync.c **** 					data_cnt = LMS_Ctrl_Packet_Rx->Data_field[5];
 4777              		.loc 1 1457 0
 4778 2f30 B83E1FE5 		ldr	r3, .L244+72
 4779 2f34 003093E5 		ldr	r3, [r3]
 4780 2f38 0D20D3E5 		ldrb	r2, [r3, #13]	@ zero_extendqisi2
 4781 2f3c D03E1FE5 		ldr	r3, .L244+60
 4782 2f40 0020C3E5 		strb	r2, [r3]
1458:../cyfxslfifosync.c **** 
1459:../cyfxslfifosync.c **** 					switch(LMS_Ctrl_Packet_Rx->Data_field[0])//prog_mode
 4783              		.loc 1 1459 0
 4784 2f44 CC3E1FE5 		ldr	r3, .L244+72
 4785 2f48 003093E5 		ldr	r3, [r3]
 4786 2f4c 0830D3E5 		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 4787 2f50 010053E3 		cmp	r3, #1
 4788 2f54 0800000A 		beq	.L223
 4789 2f58 020053E3 		cmp	r3, #2
 4790 2f5c D500000A 		beq	.L224
 4791 2f60 000053E3 		cmp	r3, #0
 4792 2f64 E000001A 		bne	.L243
1460:../cyfxslfifosync.c **** 					{
1461:../cyfxslfifosync.c **** 						/*
1462:../cyfxslfifosync.c **** 						Programming mode:
1463:../cyfxslfifosync.c **** 
1464:../cyfxslfifosync.c **** 						0 - Bitstream to FPGA
1465:../cyfxslfifosync.c **** 						1 - Bitstream to Flash
1466:../cyfxslfifosync.c **** 						2 - Bitstream from Flash
1467:../cyfxslfifosync.c **** 						*/
1468:../cyfxslfifosync.c **** 
1469:../cyfxslfifosync.c **** 						case 0://Bitstream to FPGA from PC
1470:../cyfxslfifosync.c **** 
1471:../cyfxslfifosync.c **** 							/*if ( Configure_FPGA (&LMS_Ctrl_Packet_Rx->Data_field[24], current_portion, data_cnt) ) LMS
1472:../cyfxslfifosync.c **** 							else */
1473:../cyfxslfifosync.c **** 
1474:../cyfxslfifosync.c **** 							LMS_Ctrl_Packet_Tx->Header.Status = STATUS_ERROR_CMD;
 4793              		.loc 1 1474 0
 4794 2f68 0C3F1FE5 		ldr	r3, .L244+44
 4795 2f6c 003093E5 		ldr	r3, [r3]
 4796 2f70 0520A0E3 		mov	r2, #5
 4797 2f74 0120C3E5 		strb	r2, [r3, #1]
1475:../cyfxslfifosync.c **** 
1476:../cyfxslfifosync.c **** 							break;
 4798              		.loc 1 1476 0
 4799 2f78 E00000EA 		b	.L226
 4800              	.L223:
1477:../cyfxslfifosync.c **** 
1478:../cyfxslfifosync.c **** 						case 1: //write data to Flash from PC
1479:../cyfxslfifosync.c **** 							//Flash_ID();
1480:../cyfxslfifosync.c **** 							Reconfigure_SPI_for_Flash ();
 4801              		.loc 1 1480 0
 4802 2f7c FEFFFFEB 		bl	Reconfigure_SPI_for_Flash
1481:../cyfxslfifosync.c **** 
1482:../cyfxslfifosync.c **** 							if(current_portion == 0)//beginning
 4803              		.loc 1 1482 0
 4804 2f80 203F1FE5 		ldr	r3, .L244+48
 4805 2f84 003093E5 		ldr	r3, [r3]
 4806 2f88 000053E3 		cmp	r3, #0
 4807 2f8c 0E00001A 		bne	.L227
1483:../cyfxslfifosync.c **** 							{
1484:../cyfxslfifosync.c **** 								flash_page = 0;
 4808              		.loc 1 1484 0
 4809 2f90 2C3F1FE5 		ldr	r3, .L244+52
 4810 2f94 0020A0E3 		mov	r2, #0
 4811 2f98 002083E5 		str	r2, [r3]
1485:../cyfxslfifosync.c **** 								flash_page_data_cnt = 0;
 4812              		.loc 1 1485 0
 4813 2f9c 1C3F1FE5 		ldr	r3, .L244+80
 4814 2fa0 0020A0E3 		mov	r2, #0
 4815 2fa4 002083E5 		str	r2, [r3]
1486:../cyfxslfifosync.c **** 								flash_data_counter_to_copy = 0;
 4816              		.loc 1 1486 0
 4817 2fa8 2C3F1FE5 		ldr	r3, .L244+76
 4818 2fac 0020A0E3 		mov	r2, #0
 4819 2fb0 002083E5 		str	r2, [r3]
1487:../cyfxslfifosync.c **** 								fpga_byte = 0;
 4820              		.loc 1 1487 0
 4821 2fb4 4C3F1FE5 		ldr	r3, .L244+56
 4822 2fb8 0020A0E3 		mov	r2, #0
 4823 2fbc 002083E5 		str	r2, [r3]
1488:../cyfxslfifosync.c **** 
1489:../cyfxslfifosync.c **** 								//status = FlashSpiEraseSector(CyTrue, FLASH_LAYOUT_FPGA_METADATA); //erase sector for FPGA
1490:../cyfxslfifosync.c **** 
1491:../cyfxslfifosync.c **** 								CyU3PGpioSimpleSetValue  (FX3_AS_SW, CyFalse); //connect FPGA flash to FX3
 4824              		.loc 1 1491 0
 4825 2fc0 2C00A0E3 		mov	r0, #44
 4826 2fc4 0010A0E3 		mov	r1, #0
 4827 2fc8 FEFFFFEB 		bl	CyU3PGpioSimpleSetValue
 4828              	.L227:
1492:../cyfxslfifosync.c **** 							}
1493:../cyfxslfifosync.c **** 
1494:../cyfxslfifosync.c **** 							flash_data_cnt_free = FLASH_PAGE_SIZE - flash_page_data_cnt;
 4829              		.loc 1 1494 0
 4830 2fcc 4C3F1FE5 		ldr	r3, .L244+80
 4831 2fd0 003093E5 		ldr	r3, [r3]
 4832 2fd4 012C63E2 		rsb	r2, r3, #256
 4833 2fd8 683F1FE5 		ldr	r3, .L244+64
 4834 2fdc 002083E5 		str	r2, [r3]
1495:../cyfxslfifosync.c **** 
1496:../cyfxslfifosync.c **** 							if (flash_data_cnt_free > 0)
 4835              		.loc 1 1496 0
 4836 2fe0 703F1FE5 		ldr	r3, .L244+64
 4837 2fe4 003093E5 		ldr	r3, [r3]
 4838 2fe8 000053E3 		cmp	r3, #0
 4839 2fec 3900000A 		beq	.L228
1497:../cyfxslfifosync.c **** 							{
1498:../cyfxslfifosync.c **** 								if (flash_data_cnt_free > data_cnt)
 4840              		.loc 1 1498 0
 4841 2ff0 843F1FE5 		ldr	r3, .L244+60
 4842 2ff4 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4843 2ff8 0320A0E1 		mov	r2, r3
 4844 2ffc 8C3F1FE5 		ldr	r3, .L244+64
 4845 3000 003093E5 		ldr	r3, [r3]
 4846 3004 030052E1 		cmp	r2, r3
 4847 3008 0500002A 		bcs	.L229
1499:../cyfxslfifosync.c **** 									flash_data_counter_to_copy = data_cnt; //copy all data if fits to free page space
 4848              		.loc 1 1499 0
 4849 300c A03F1FE5 		ldr	r3, .L244+60
 4850 3010 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4851 3014 0320A0E1 		mov	r2, r3
 4852 3018 9C3F1FE5 		ldr	r3, .L244+76
 4853 301c 002083E5 		str	r2, [r3]
 4854 3020 030000EA 		b	.L230
 4855              	.L229:
1500:../cyfxslfifosync.c **** 								else
1501:../cyfxslfifosync.c **** 									flash_data_counter_to_copy = flash_data_cnt_free; //copy only amount of data that fits in 
 4856              		.loc 1 1501 0
 4857 3024 B43F1FE5 		ldr	r3, .L244+64
 4858 3028 002093E5 		ldr	r2, [r3]
 4859 302c B03F1FE5 		ldr	r3, .L244+76
 4860 3030 002083E5 		str	r2, [r3]
 4861              	.L230:
1502:../cyfxslfifosync.c **** 
1503:../cyfxslfifosync.c **** 								memcpy(&flash_page_data[flash_page_data_cnt], &LMS_Ctrl_Packet_Rx->Data_field[24], flash_da
 4862              		.loc 1 1503 0
 4863 3034 B43F1FE5 		ldr	r3, .L244+80
 4864 3038 002093E5 		ldr	r2, [r3]
 4865 303c C83F1FE5 		ldr	r3, .L244+68
 4866 3040 031082E0 		add	r1, r2, r3
 4867 3044 CC3F1FE5 		ldr	r3, .L244+72
 4868 3048 003093E5 		ldr	r3, [r3]
 4869 304c 202083E2 		add	r2, r3, #32
 4870 3050 D43F1FE5 		ldr	r3, .L244+76
 4871 3054 003093E5 		ldr	r3, [r3]
 4872 3058 0100A0E1 		mov	r0, r1
 4873 305c 0210A0E1 		mov	r1, r2
 4874 3060 0320A0E1 		mov	r2, r3
 4875 3064 FEFFFFEB 		bl	memcpy
1504:../cyfxslfifosync.c **** 
1505:../cyfxslfifosync.c **** 								flash_page_data_cnt = flash_page_data_cnt + flash_data_counter_to_copy;
 4876              		.loc 1 1505 0
 4877 3068 E83F1FE5 		ldr	r3, .L244+80
 4878 306c 002093E5 		ldr	r2, [r3]
 4879 3070 F43F1FE5 		ldr	r3, .L244+76
 4880 3074 003093E5 		ldr	r3, [r3]
 4881 3078 032082E0 		add	r2, r2, r3
 4882 307c FC3F1FE5 		ldr	r3, .L244+80
 4883 3080 002083E5 		str	r2, [r3]
1506:../cyfxslfifosync.c **** 								flash_data_cnt_free = FLASH_PAGE_SIZE - flash_page_data_cnt;
 4884              		.loc 1 1506 0
 4885 3084 CC329FE5 		ldr	r3, .L246
 4886 3088 003093E5 		ldr	r3, [r3]
 4887 308c 012C63E2 		rsb	r2, r3, #256
 4888 3090 C4329FE5 		ldr	r3, .L246+4
 4889 3094 002083E5 		str	r2, [r3]
1507:../cyfxslfifosync.c **** 
1508:../cyfxslfifosync.c **** 								if (data_cnt == 0)//all bytes transmitted, end of programming
 4890              		.loc 1 1508 0
 4891 3098 C0329FE5 		ldr	r3, .L246+8
 4892 309c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4893 30a0 000053E3 		cmp	r3, #0
 4894 30a4 0600001A 		bne	.L231
1509:../cyfxslfifosync.c **** 								{
1510:../cyfxslfifosync.c **** 									if (flash_page_data_cnt > 0)
 4895              		.loc 1 1510 0
 4896 30a8 A8329FE5 		ldr	r3, .L246
 4897 30ac 003093E5 		ldr	r3, [r3]
 4898 30b0 000053E3 		cmp	r3, #0
 4899 30b4 0200000A 		beq	.L231
1511:../cyfxslfifosync.c **** 										flash_page_data_cnt = FLASH_PAGE_SIZE; //finish page
 4900              		.loc 1 1511 0
 4901 30b8 98329FE5 		ldr	r3, .L246
 4902 30bc 012CA0E3 		mov	r2, #256
 4903 30c0 002083E5 		str	r2, [r3]
 4904              	.L231:
1512:../cyfxslfifosync.c **** 
1513:../cyfxslfifosync.c **** 								}
1514:../cyfxslfifosync.c **** 
1515:../cyfxslfifosync.c **** 								flash_data_cnt_free = FLASH_PAGE_SIZE - flash_page_data_cnt;
 4905              		.loc 1 1515 0
 4906 30c4 8C329FE5 		ldr	r3, .L246
 4907 30c8 003093E5 		ldr	r3, [r3]
 4908 30cc 012C63E2 		rsb	r2, r3, #256
 4909 30d0 84329FE5 		ldr	r3, .L246+4
 4910 30d4 002083E5 		str	r2, [r3]
 4911              	.L228:
1516:../cyfxslfifosync.c **** 
1517:../cyfxslfifosync.c **** 							}
1518:../cyfxslfifosync.c **** 
1519:../cyfxslfifosync.c **** 							if (flash_page_data_cnt >= FLASH_PAGE_SIZE)
 4912              		.loc 1 1519 0
 4913 30d8 78329FE5 		ldr	r3, .L246
 4914 30dc 003093E5 		ldr	r3, [r3]
 4915 30e0 FF0053E3 		cmp	r3, #255
 4916 30e4 2400009A 		bls	.L232
1520:../cyfxslfifosync.c **** 							{
1521:../cyfxslfifosync.c **** 								//CyU3PGpioSimpleSetValue  (FX3_AS_SW, CyFalse); //connect FPGA flash to FX3
1522:../cyfxslfifosync.c **** 
1523:../cyfxslfifosync.c **** 								if ((flash_page % (FLASH_SECTOR_SIZE/FLASH_PAGE_SIZE)) == 0) //need to erase sector? reache
 4917              		.loc 1 1523 0
 4918 30e8 74329FE5 		ldr	r3, .L246+12
 4919 30ec 003093E5 		ldr	r3, [r3]
 4920 30f0 033BA0E1 		mov	r3, r3, asl #22
 4921 30f4 233BA0E1 		mov	r3, r3, lsr #22
 4922 30f8 000053E3 		cmp	r3, #0
 4923 30fc 0700001A 		bne	.L233
1524:../cyfxslfifosync.c **** 									status = FlashSpiEraseSector(CyTrue, FLASH_LAYOUT_FPGA_BITSTREAM + flash_page/(FLASH_SECTO
 4924              		.loc 1 1524 0
 4925 3100 5C329FE5 		ldr	r3, .L246+12
 4926 3104 003093E5 		ldr	r3, [r3]
 4927 3108 2335A0E1 		mov	r3, r3, lsr #10
 4928 310c FF3003E2 		and	r3, r3, #255
 4929 3110 0100A0E3 		mov	r0, #1
 4930 3114 0310A0E1 		mov	r1, r3
 4931 3118 FEFFFFEB 		bl	FlashSpiEraseSector
 4932 311c 0C000BE5 		str	r0, [fp, #-12]
 4933              	.L233:
1525:../cyfxslfifosync.c **** 
1526:../cyfxslfifosync.c **** 								status = FlashSpiTransfer((FLASH_LAYOUT_FPGA_BITSTREAM * FLASH_SECTOR_SIZE/FLASH_PAGE_SIZE)
 4934              		.loc 1 1526 0
 4935 3120 3C329FE5 		ldr	r3, .L246+12
 4936 3124 003093E5 		ldr	r3, [r3]
 4937 3128 0338A0E1 		mov	r3, r3, asl #16
 4938 312c 2338A0E1 		mov	r3, r3, lsr #16
 4939 3130 0300A0E1 		mov	r0, r3
 4940 3134 011CA0E3 		mov	r1, #256
 4941 3138 28229FE5 		ldr	r2, .L246+16
 4942 313c 0030A0E3 		mov	r3, #0
 4943 3140 FEFFFFEB 		bl	FlashSpiTransfer
 4944 3144 0C000BE5 		str	r0, [fp, #-12]
1527:../cyfxslfifosync.c **** 
1528:../cyfxslfifosync.c **** 								//CyU3PGpioSimpleSetValue  (FX3_AS_SW, CyTrue); //disconnect FPGA flash to FX3
1529:../cyfxslfifosync.c **** 
1530:../cyfxslfifosync.c **** 								flash_page++;
 4945              		.loc 1 1530 0
 4946 3148 14329FE5 		ldr	r3, .L246+12
 4947 314c 003093E5 		ldr	r3, [r3]
 4948 3150 012083E2 		add	r2, r3, #1
 4949 3154 08329FE5 		ldr	r3, .L246+12
 4950 3158 002083E5 		str	r2, [r3]
1531:../cyfxslfifosync.c **** 								flash_page_data_cnt = 0;
 4951              		.loc 1 1531 0
 4952 315c F4319FE5 		ldr	r3, .L246
 4953 3160 0020A0E3 		mov	r2, #0
 4954 3164 002083E5 		str	r2, [r3]
1532:../cyfxslfifosync.c **** 								flash_data_cnt_free = FLASH_PAGE_SIZE - flash_page_data_cnt;
 4955              		.loc 1 1532 0
 4956 3168 E8319FE5 		ldr	r3, .L246
 4957 316c 003093E5 		ldr	r3, [r3]
 4958 3170 012C63E2 		rsb	r2, r3, #256
 4959 3174 E0319FE5 		ldr	r3, .L246+4
 4960 3178 002083E5 		str	r2, [r3]
 4961              	.L232:
1533:../cyfxslfifosync.c **** 							}
1534:../cyfxslfifosync.c **** 
1535:../cyfxslfifosync.c **** 							//if not all bytes written to flash page
1536:../cyfxslfifosync.c **** 							if (data_cnt > flash_data_counter_to_copy)
 4962              		.loc 1 1536 0
 4963 317c DC319FE5 		ldr	r3, .L246+8
 4964 3180 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4965 3184 0320A0E1 		mov	r2, r3
 4966 3188 DC319FE5 		ldr	r3, .L246+20
 4967 318c 003093E5 		ldr	r3, [r3]
 4968 3190 030052E1 		cmp	r2, r3
 4969 3194 2000009A 		bls	.L234
1537:../cyfxslfifosync.c **** 							{
1538:../cyfxslfifosync.c **** 								flash_data_counter_to_copy = data_cnt - flash_data_counter_to_copy;
 4970              		.loc 1 1538 0
 4971 3198 C0319FE5 		ldr	r3, .L246+8
 4972 319c 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4973 31a0 0320A0E1 		mov	r2, r3
 4974 31a4 C0319FE5 		ldr	r3, .L246+20
 4975 31a8 003093E5 		ldr	r3, [r3]
 4976 31ac 022063E0 		rsb	r2, r3, r2
 4977 31b0 B4319FE5 		ldr	r3, .L246+20
 4978 31b4 002083E5 		str	r2, [r3]
1539:../cyfxslfifosync.c **** 
1540:../cyfxslfifosync.c **** 								memcpy(&flash_page_data[flash_page_data_cnt], &LMS_Ctrl_Packet_Rx->Data_field[24], data_cnt
 4979              		.loc 1 1540 0
 4980 31b8 98319FE5 		ldr	r3, .L246
 4981 31bc 002093E5 		ldr	r2, [r3]
 4982 31c0 A0319FE5 		ldr	r3, .L246+16
 4983 31c4 031082E0 		add	r1, r2, r3
 4984 31c8 A0319FE5 		ldr	r3, .L246+24
 4985 31cc 003093E5 		ldr	r3, [r3]
 4986 31d0 202083E2 		add	r2, r3, #32
 4987 31d4 84319FE5 		ldr	r3, .L246+8
 4988 31d8 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 4989 31dc 0100A0E1 		mov	r0, r1
 4990 31e0 0210A0E1 		mov	r1, r2
 4991 31e4 0320A0E1 		mov	r2, r3
 4992 31e8 FEFFFFEB 		bl	memcpy
1541:../cyfxslfifosync.c **** 
1542:../cyfxslfifosync.c **** 								flash_page_data_cnt = flash_page_data_cnt + flash_data_counter_to_copy;
 4993              		.loc 1 1542 0
 4994 31ec 64319FE5 		ldr	r3, .L246
 4995 31f0 002093E5 		ldr	r2, [r3]
 4996 31f4 70319FE5 		ldr	r3, .L246+20
 4997 31f8 003093E5 		ldr	r3, [r3]
 4998 31fc 032082E0 		add	r2, r2, r3
 4999 3200 50319FE5 		ldr	r3, .L246
 5000 3204 002083E5 		str	r2, [r3]
1543:../cyfxslfifosync.c **** 								flash_data_cnt_free = FLASH_PAGE_SIZE - flash_page_data_cnt;
 5001              		.loc 1 1543 0
 5002 3208 48319FE5 		ldr	r3, .L246
 5003 320c 003093E5 		ldr	r3, [r3]
 5004 3210 012C63E2 		rsb	r2, r3, #256
 5005 3214 40319FE5 		ldr	r3, .L246+4
 5006 3218 002083E5 		str	r2, [r3]
 5007              	.L234:
1544:../cyfxslfifosync.c **** 							}
1545:../cyfxslfifosync.c **** 
1546:../cyfxslfifosync.c **** 							fpga_byte = fpga_byte + data_cnt;
 5008              		.loc 1 1546 0
 5009 321c 3C319FE5 		ldr	r3, .L246+8
 5010 3220 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 5011 3224 0320A0E1 		mov	r2, r3
 5012 3228 44319FE5 		ldr	r3, .L246+28
 5013 322c 003093E5 		ldr	r3, [r3]
 5014 3230 032082E0 		add	r2, r2, r3
 5015 3234 38319FE5 		ldr	r3, .L246+28
 5016 3238 002083E5 		str	r2, [r3]
1547:../cyfxslfifosync.c **** 
1548:../cyfxslfifosync.c **** 							if (fpga_byte <= FPGA_SIZE) //correct bitream size?
 5017              		.loc 1 1548 0
 5018 323c 30319FE5 		ldr	r3, .L246+28
 5019 3240 002093E5 		ldr	r2, [r3]
 5020 3244 2C319FE5 		ldr	r3, .L246+32
 5021 3248 030052E1 		cmp	r2, r3
 5022 324c 1400008A 		bhi	.L235
1549:../cyfxslfifosync.c **** 							{
1550:../cyfxslfifosync.c **** 								if (data_cnt == 0)//end of programming
 5023              		.loc 1 1550 0
 5024 3250 08319FE5 		ldr	r3, .L246+8
 5025 3254 0030D3E5 		ldrb	r3, [r3]	@ zero_extendqisi2
 5026 3258 000053E3 		cmp	r3, #0
 5027 325c 0B00001A 		bne	.L236
1551:../cyfxslfifosync.c **** 								{
1552:../cyfxslfifosync.c **** 									Board_Config_FPGA->Bitream_size = fpga_byte; //bitsream ok
 5028              		.loc 1 1552 0
 5029 3260 14319FE5 		ldr	r3, .L246+36
 5030 3264 003093E5 		ldr	r3, [r3]
 5031 3268 04219FE5 		ldr	r2, .L246+28
 5032 326c 002092E5 		ldr	r2, [r2]
 5033 3270 002083E5 		str	r2, [r3]
1553:../cyfxslfifosync.c **** 									Board_Config_FPGA->Autoload = 1; //autoload
 5034              		.loc 1 1553 0
 5035 3274 00319FE5 		ldr	r3, .L246+36
 5036 3278 003093E5 		ldr	r3, [r3]
 5037 327c 0120A0E3 		mov	r2, #1
 5038 3280 0420C3E5 		strb	r2, [r3, #4]
1554:../cyfxslfifosync.c **** 
1555:../cyfxslfifosync.c **** 									//FlashChangeConfigforFPGA ();
1556:../cyfxslfifosync.c **** 
1557:../cyfxslfifosync.c **** 									CyU3PGpioSimpleSetValue  (FX3_AS_SW, CyTrue); //disconnect FPGA flash to FX3
 5039              		.loc 1 1557 0
 5040 3284 2C00A0E3 		mov	r0, #44
 5041 3288 0110A0E3 		mov	r1, #1
 5042 328c FEFFFFEB 		bl	CyU3PGpioSimpleSetValue
 5043              	.L236:
1558:../cyfxslfifosync.c **** 									/*status = FlashSpiEraseSector(CyTrue, FLASH_LAYOUT_FPGA_METADATA); //erase sector for FPG
1559:../cyfxslfifosync.c **** 									FlashSpiTransfer((FLASH_LAYOUT_FPGA_METADATA * FLASH_SECTOR_SIZE/FLASH_PAGE_SIZE), FLASH_P
1560:../cyfxslfifosync.c **** 								}
1561:../cyfxslfifosync.c **** 
1562:../cyfxslfifosync.c **** 								LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 5044              		.loc 1 1562 0
 5045 3290 E8309FE5 		ldr	r3, .L246+40
 5046 3294 003093E5 		ldr	r3, [r3]
 5047 3298 0120A0E3 		mov	r2, #1
 5048 329c 0120C3E5 		strb	r2, [r3, #1]
1563:../cyfxslfifosync.c **** 							}
1564:../cyfxslfifosync.c **** 							else //not correct bitsream size
1565:../cyfxslfifosync.c **** 								LMS_Ctrl_Packet_Tx->Header.Status = STATUS_ERROR_CMD;
1566:../cyfxslfifosync.c **** 
1567:../cyfxslfifosync.c **** 							break;
 5049              		.loc 1 1567 0
 5050 32a0 160000EA 		b	.L226
 5051              	.L235:
1565:../cyfxslfifosync.c **** 
 5052              		.loc 1 1565 0
 5053 32a4 D4309FE5 		ldr	r3, .L246+40
 5054 32a8 003093E5 		ldr	r3, [r3]
 5055 32ac 0520A0E3 		mov	r2, #5
 5056 32b0 0120C3E5 		strb	r2, [r3, #1]
 5057              		.loc 1 1567 0
 5058 32b4 110000EA 		b	.L226
 5059              	.L224:
1568:../cyfxslfifosync.c **** 
1569:../cyfxslfifosync.c **** 						case 2: //configure FPGA from flash
1570:../cyfxslfifosync.c **** 
1571:../cyfxslfifosync.c **** 							CyU3PGpioSimpleSetValue  (FPGA_PS_NCONFIG, CyFalse);//NCONFIG = 0
 5060              		.loc 1 1571 0
 5061 32b8 2B00A0E3 		mov	r0, #43
 5062 32bc 0010A0E3 		mov	r1, #0
 5063 32c0 FEFFFFEB 		bl	CyU3PGpioSimpleSetValue
1572:../cyfxslfifosync.c **** 							CyU3PThreadSleep (1);
 5064              		.loc 1 1572 0
 5065 32c4 0100A0E3 		mov	r0, #1
 5066 32c8 FEFFFFEB 		bl	_tx_thread_sleep
1573:../cyfxslfifosync.c **** 							CyU3PGpioSimpleSetValue  (FPGA_PS_NCONFIG, CyTrue);//NCONFIG = 1
 5067              		.loc 1 1573 0
 5068 32cc 2B00A0E3 		mov	r0, #43
 5069 32d0 0110A0E3 		mov	r1, #1
 5070 32d4 FEFFFFEB 		bl	CyU3PGpioSimpleSetValue
1574:../cyfxslfifosync.c **** 
1575:../cyfxslfifosync.c **** 
1576:../cyfxslfifosync.c **** 							LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 5071              		.loc 1 1576 0
 5072 32d8 A0309FE5 		ldr	r3, .L246+40
 5073 32dc 003093E5 		ldr	r3, [r3]
 5074 32e0 0120A0E3 		mov	r2, #1
 5075 32e4 0120C3E5 		strb	r2, [r3, #1]
1577:../cyfxslfifosync.c **** 
1578:../cyfxslfifosync.c **** 							break;
 5076              		.loc 1 1578 0
 5077 32e8 040000EA 		b	.L226
 5078              	.L243:
1579:../cyfxslfifosync.c **** 
1580:../cyfxslfifosync.c **** 						default:
1581:../cyfxslfifosync.c **** 							LMS_Ctrl_Packet_Tx->Header.Status = STATUS_COMPLETED_CMD;
 5079              		.loc 1 1581 0
 5080 32ec 8C309FE5 		ldr	r3, .L246+40
 5081 32f0 003093E5 		ldr	r3, [r3]
 5082 32f4 0120A0E3 		mov	r2, #1
 5083 32f8 0120C3E5 		strb	r2, [r3, #1]
1582:../cyfxslfifosync.c **** 							break;
 5084              		.loc 1 1582 0
 5085 32fc 0000A0E1 		mov	r0, r0	@ nop
 5086              	.L226:
1583:../cyfxslfifosync.c **** 
1584:../cyfxslfifosync.c **** 					}
1585:../cyfxslfifosync.c **** 
1586:../cyfxslfifosync.c **** 					break;
 5087              		.loc 1 1586 0
 5088 3300 040000EA 		b	.L121
 5089              	.L104:
1587:../cyfxslfifosync.c **** 
1588:../cyfxslfifosync.c ****  				default:
1589:../cyfxslfifosync.c **** 
1590:../cyfxslfifosync.c ****  					LMS_Ctrl_Packet_Tx->Header.Status = STATUS_UNKNOWN_CMD;
 5090              		.loc 1 1590 0
 5091 3304 74309FE5 		ldr	r3, .L246+40
 5092 3308 003093E5 		ldr	r3, [r3]
 5093 330c 0220A0E3 		mov	r2, #2
 5094 3310 0120C3E5 		strb	r2, [r3, #1]
1591:../cyfxslfifosync.c ****  					break;
 5095              		.loc 1 1591 0
 5096 3314 0000A0E1 		mov	r0, r0	@ nop
 5097              	.L121:
1592:../cyfxslfifosync.c ****      		}
1593:../cyfxslfifosync.c **** 
1594:../cyfxslfifosync.c ****      		Set_LED_mode (2, LED_MODE_WINK);
 5098              		.loc 1 1594 0
 5099 3318 0200A0E3 		mov	r0, #2
 5100 331c 0210A0E3 		mov	r1, #2
 5101 3320 FEFFFFEB 		bl	Set_LED_mode
1595:../cyfxslfifosync.c ****          	break;
 5102              		.loc 1 1595 0
 5103 3324 020000EA 		b	.L103
 5104              	.L240:
1596:../cyfxslfifosync.c **** 
1597:../cyfxslfifosync.c ****              default:
1598:../cyfxslfifosync.c ****                  /* This is unknown request. */
1599:../cyfxslfifosync.c ****                  isHandled = CyFalse;
 5105              		.loc 1 1599 0
 5106 3328 0030A0E3 		mov	r3, #0
 5107 332c 08300BE5 		str	r3, [fp, #-8]
1600:../cyfxslfifosync.c ****                  break;
 5108              		.loc 1 1600 0
 5109 3330 0000A0E1 		mov	r0, r0	@ nop
 5110              	.L103:
1601:../cyfxslfifosync.c ****          }
1602:../cyfxslfifosync.c **** 
1603:../cyfxslfifosync.c ****          /* If there was any error, return not handled so that the library will
1604:../cyfxslfifosync.c ****           * stall the request. Alternatively EP0 can be stalled here and return
1605:../cyfxslfifosync.c ****           * CyTrue. */
1606:../cyfxslfifosync.c ****          if (status != CY_U3P_SUCCESS)
 5111              		.loc 1 1606 0
 5112 3334 0C301BE5 		ldr	r3, [fp, #-12]
 5113 3338 000053E3 		cmp	r3, #0
 5114 333c 0100000A 		beq	.L98
1607:../cyfxslfifosync.c ****          {
1608:../cyfxslfifosync.c ****              isHandled = CyFalse;
 5115              		.loc 1 1608 0
 5116 3340 0030A0E3 		mov	r3, #0
 5117 3344 08300BE5 		str	r3, [fp, #-8]
 5118              	.L98:
 5119              	.LBE5:
1609:../cyfxslfifosync.c ****          }
1610:../cyfxslfifosync.c ****      }
1611:../cyfxslfifosync.c **** 
1612:../cyfxslfifosync.c ****     return isHandled;
 5120              		.loc 1 1612 0
 5121 3348 08301BE5 		ldr	r3, [fp, #-8]
1613:../cyfxslfifosync.c **** }
 5122              		.loc 1 1613 0
 5123 334c 0300A0E1 		mov	r0, r3
 5124 3350 04D04BE2 		sub	sp, fp, #4
 5125              		@ sp needed
 5126 3354 0088BDE8 		ldmfd	sp!, {fp, pc}
 5127              	.L247:
 5128              		.align	2
 5129              	.L246:
 5130 3358 00000000 		.word	flash_page_data_cnt
 5131 335c 00000000 		.word	flash_data_cnt_free
 5132 3360 00000000 		.word	data_cnt
 5133 3364 00000000 		.word	flash_page
 5134 3368 00000000 		.word	flash_page_data
 5135 336c 00000000 		.word	flash_data_counter_to_copy
 5136 3370 00000000 		.word	LMS_Ctrl_Packet_Rx
 5137 3374 00000000 		.word	fpga_byte
 5138 3378 90216B00 		.word	7020944
 5139 337c 00000000 		.word	Board_Config_FPGA
 5140 3380 00000000 		.word	LMS_Ctrl_Packet_Tx
 5141              		.cfi_endproc
 5142              	.LFE19:
 5144              		.align	2
 5145              		.global	CyFxSlFifoApplnUSBEventCB
 5147              	CyFxSlFifoApplnUSBEventCB:
 5148              	.LFB20:
1614:../cyfxslfifosync.c **** 
1615:../cyfxslfifosync.c **** /* This is the callback function to handle the USB events. */
1616:../cyfxslfifosync.c **** void
1617:../cyfxslfifosync.c **** CyFxSlFifoApplnUSBEventCB (
1618:../cyfxslfifosync.c ****     CyU3PUsbEventType_t evtype,
1619:../cyfxslfifosync.c ****     uint16_t            evdata
1620:../cyfxslfifosync.c ****     )
1621:../cyfxslfifosync.c **** {
 5149              		.loc 1 1621 0
 5150              		.cfi_startproc
 5151              		@ args = 0, pretend = 0, frame = 8
 5152              		@ frame_needed = 1, uses_anonymous_args = 0
 5153 3384 00482DE9 		stmfd	sp!, {fp, lr}
 5154              	.LCFI40:
 5155              		.cfi_def_cfa_offset 8
 5156              		.cfi_offset 11, -8
 5157              		.cfi_offset 14, -4
 5158 3388 04B08DE2 		add	fp, sp, #4
 5159              	.LCFI41:
 5160              		.cfi_def_cfa 11, 4
 5161 338c 08D04DE2 		sub	sp, sp, #8
 5162 3390 0020A0E1 		mov	r2, r0
 5163 3394 0130A0E1 		mov	r3, r1
 5164 3398 05204BE5 		strb	r2, [fp, #-5]
 5165 339c B8304BE1 		strh	r3, [fp, #-8]	@ movhi
1622:../cyfxslfifosync.c ****     switch (evtype)
 5166              		.loc 1 1622 0
 5167 33a0 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 5168 33a4 040053E3 		cmp	r3, #4
 5169 33a8 0C00000A 		beq	.L250
 5170 33ac 050053E3 		cmp	r3, #5
 5171 33b0 0200000A 		beq	.L251
 5172 33b4 010053E3 		cmp	r3, #1
 5173 33b8 0800000A 		beq	.L250
1623:../cyfxslfifosync.c ****     {
1624:../cyfxslfifosync.c ****         case CY_U3P_USB_EVENT_SETCONF:
1625:../cyfxslfifosync.c ****             /* Stop the application before re-starting. */
1626:../cyfxslfifosync.c ****             if (glIsApplnActive)
1627:../cyfxslfifosync.c ****             {
1628:../cyfxslfifosync.c ****                 CyFxSlFifoApplnStop ();
1629:../cyfxslfifosync.c ****             }
1630:../cyfxslfifosync.c ****             CyU3PUsbLPMDisable();
1631:../cyfxslfifosync.c ****             /* Start the loop back function. */
1632:../cyfxslfifosync.c ****             CyFxSlFifoApplnStart ();
1633:../cyfxslfifosync.c ****             break;
1634:../cyfxslfifosync.c **** 
1635:../cyfxslfifosync.c ****         case CY_U3P_USB_EVENT_RESET:
1636:../cyfxslfifosync.c ****         case CY_U3P_USB_EVENT_DISCONNECT:
1637:../cyfxslfifosync.c ****             /* Stop the loop back function. */
1638:../cyfxslfifosync.c ****             if (glIsApplnActive)
1639:../cyfxslfifosync.c ****             {
1640:../cyfxslfifosync.c ****                 CyFxSlFifoApplnStop ();
1641:../cyfxslfifosync.c ****             }
1642:../cyfxslfifosync.c ****             break;
1643:../cyfxslfifosync.c **** 
1644:../cyfxslfifosync.c ****         default:
1645:../cyfxslfifosync.c ****             break;
 5174              		.loc 1 1645 0
 5175 33bc 0E0000EA 		b	.L253
 5176              	.L251:
1626:../cyfxslfifosync.c ****             {
 5177              		.loc 1 1626 0
 5178 33c0 48309FE5 		ldr	r3, .L256
 5179 33c4 003093E5 		ldr	r3, [r3]
 5180 33c8 000053E3 		cmp	r3, #0
 5181 33cc 0000000A 		beq	.L252
1628:../cyfxslfifosync.c ****             }
 5182              		.loc 1 1628 0
 5183 33d0 FEFFFFEB 		bl	CyFxSlFifoApplnStop
 5184              	.L252:
1630:../cyfxslfifosync.c ****             /* Start the loop back function. */
 5185              		.loc 1 1630 0
 5186 33d4 FEFFFFEB 		bl	CyU3PUsbLPMDisable
1632:../cyfxslfifosync.c ****             break;
 5187              		.loc 1 1632 0
 5188 33d8 FEFFFFEB 		bl	CyFxSlFifoApplnStart
1633:../cyfxslfifosync.c **** 
 5189              		.loc 1 1633 0
 5190 33dc 060000EA 		b	.L253
 5191              	.L250:
1638:../cyfxslfifosync.c ****             {
 5192              		.loc 1 1638 0
 5193 33e0 28309FE5 		ldr	r3, .L256
 5194 33e4 003093E5 		ldr	r3, [r3]
 5195 33e8 000053E3 		cmp	r3, #0
 5196 33ec 0100000A 		beq	.L254
1640:../cyfxslfifosync.c ****             }
 5197              		.loc 1 1640 0
 5198 33f0 FEFFFFEB 		bl	CyFxSlFifoApplnStop
1642:../cyfxslfifosync.c **** 
 5199              		.loc 1 1642 0
 5200 33f4 FFFFFFEA 		b	.L255
 5201              	.L254:
 5202              	.L255:
 5203 33f8 0000A0E1 		mov	r0, r0	@ nop
 5204              	.L253:
1646:../cyfxslfifosync.c ****     }
1647:../cyfxslfifosync.c ****     Set_LED_mode (2, LED_MODE_WINK);
 5205              		.loc 1 1647 0
 5206 33fc 0200A0E3 		mov	r0, #2
 5207 3400 0210A0E3 		mov	r1, #2
 5208 3404 FEFFFFEB 		bl	Set_LED_mode
1648:../cyfxslfifosync.c **** }
 5209              		.loc 1 1648 0
 5210 3408 04D04BE2 		sub	sp, fp, #4
 5211              		@ sp needed
 5212 340c 0088BDE8 		ldmfd	sp!, {fp, pc}
 5213              	.L257:
 5214              		.align	2
 5215              	.L256:
 5216 3410 00000000 		.word	glIsApplnActive
 5217              		.cfi_endproc
 5218              	.LFE20:
 5220              		.align	2
 5221              		.global	CyFxApplnLPMRqtCB
 5223              	CyFxApplnLPMRqtCB:
 5224              	.LFB21:
1649:../cyfxslfifosync.c **** 
1650:../cyfxslfifosync.c **** /* Callback function to handle LPM requests from the USB 3.0 host. This function is invoked by the 
1651:../cyfxslfifosync.c ****    whenever a state change from U0 -> U1 or U0 -> U2 happens. If we return CyTrue from this functio
1652:../cyfxslfifosync.c ****    FX3 device is retained in the low power state. If we return CyFalse, the FX3 device immediately 
1653:../cyfxslfifosync.c ****    to trigger an exit back to U0.
1654:../cyfxslfifosync.c **** 
1655:../cyfxslfifosync.c ****    This application does not have any state in which we should not allow U1/U2 transitions; and the
1656:../cyfxslfifosync.c ****    the function always return CyTrue.
1657:../cyfxslfifosync.c ****  */
1658:../cyfxslfifosync.c **** CyBool_t
1659:../cyfxslfifosync.c **** CyFxApplnLPMRqtCB (
1660:../cyfxslfifosync.c ****         CyU3PUsbLinkPowerMode link_mode)
1661:../cyfxslfifosync.c **** {
 5225              		.loc 1 1661 0
 5226              		.cfi_startproc
 5227              		@ args = 0, pretend = 0, frame = 8
 5228              		@ frame_needed = 1, uses_anonymous_args = 0
 5229              		@ link register save eliminated.
 5230 3414 04B02DE5 		str	fp, [sp, #-4]!
 5231              	.LCFI42:
 5232              		.cfi_def_cfa_offset 4
 5233              		.cfi_offset 11, -4
 5234 3418 00B08DE2 		add	fp, sp, #0
 5235              	.LCFI43:
 5236              		.cfi_def_cfa_register 11
 5237 341c 0CD04DE2 		sub	sp, sp, #12
 5238 3420 0030A0E1 		mov	r3, r0
 5239 3424 05304BE5 		strb	r3, [fp, #-5]
1662:../cyfxslfifosync.c ****     return CyTrue;
 5240              		.loc 1 1662 0
 5241 3428 0130A0E3 		mov	r3, #1
1663:../cyfxslfifosync.c **** }
 5242              		.loc 1 1663 0
 5243 342c 0300A0E1 		mov	r0, r3
 5244 3430 00D04BE2 		sub	sp, fp, #0
 5245              		@ sp needed
 5246 3434 04B09DE4 		ldr	fp, [sp], #4
 5247 3438 1EFF2FE1 		bx	lr
 5248              		.cfi_endproc
 5249              	.LFE21:
 5251              		.align	2
 5252              		.global	gpif_error_cb
 5254              	gpif_error_cb:
 5255              	.LFB22:
1664:../cyfxslfifosync.c **** 
1665:../cyfxslfifosync.c **** void
1666:../cyfxslfifosync.c **** gpif_error_cb(CyU3PPibIntrType cbType, uint16_t cbArg)
1667:../cyfxslfifosync.c **** {
 5256              		.loc 1 1667 0
 5257              		.cfi_startproc
 5258              		@ args = 0, pretend = 0, frame = 8
 5259              		@ frame_needed = 1, uses_anonymous_args = 0
 5260              		@ link register save eliminated.
 5261 343c 04B02DE5 		str	fp, [sp, #-4]!
 5262              	.LCFI44:
 5263              		.cfi_def_cfa_offset 4
 5264              		.cfi_offset 11, -4
 5265 3440 00B08DE2 		add	fp, sp, #0
 5266              	.LCFI45:
 5267              		.cfi_def_cfa_register 11
 5268 3444 0CD04DE2 		sub	sp, sp, #12
 5269 3448 0020A0E1 		mov	r2, r0
 5270 344c 0130A0E1 		mov	r3, r1
 5271 3450 05204BE5 		strb	r2, [fp, #-5]
 5272 3454 B8304BE1 		strh	r3, [fp, #-8]	@ movhi
1668:../cyfxslfifosync.c **** 
1669:../cyfxslfifosync.c **** if(cbType==CYU3P_PIB_INTR_ERROR)
 5273              		.loc 1 1669 0
 5274 3458 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 5275 345c 040053E3 		cmp	r3, #4
 5276 3460 0F00001A 		bne	.L260
1670:../cyfxslfifosync.c **** {
1671:../cyfxslfifosync.c ****     switch (CYU3P_GET_PIB_ERROR_TYPE(cbArg))
 5277              		.loc 1 1671 0
 5278 3464 B8305BE1 		ldrh	r3, [fp, #-8]	@ movhi
 5279 3468 FF3003E2 		and	r3, r3, #255
 5280 346c 3F3003E2 		and	r3, r3, #63
 5281 3470 053043E2 		sub	r3, r3, #5
 5282 3474 070053E3 		cmp	r3, #7
 5283 3478 03F19F97 		ldrls	pc, [pc, r3, asl #2]
 5284 347c 070000EA 		b	.L272
 5285              	.L264:
 5286 3480 A0340000 		.word	.L272
 5287 3484 A0340000 		.word	.L272
 5288 3488 A0340000 		.word	.L272
 5289 348c A0340000 		.word	.L272
 5290 3490 A0340000 		.word	.L272
 5291 3494 A0340000 		.word	.L272
 5292 3498 A0340000 		.word	.L272
 5293 349c A0340000 		.word	.L272
 5294              	.L272:
1672:../cyfxslfifosync.c ****     {
1673:../cyfxslfifosync.c ****         case CYU3P_PIB_ERR_THR0_WR_OVERRUN:
1674:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR0_WR_OVERRUN");
1675:../cyfxslfifosync.c ****         break;
1676:../cyfxslfifosync.c ****         case CYU3P_PIB_ERR_THR1_WR_OVERRUN:
1677:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR1_WR_OVERRUN");
1678:../cyfxslfifosync.c ****         break;
1679:../cyfxslfifosync.c ****         case CYU3P_PIB_ERR_THR2_WR_OVERRUN:
1680:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR2_WR_OVERRUN");
1681:../cyfxslfifosync.c ****         break;
1682:../cyfxslfifosync.c ****         case CYU3P_PIB_ERR_THR3_WR_OVERRUN:
1683:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR3_WR_OVERRUN");
1684:../cyfxslfifosync.c ****         break;
1685:../cyfxslfifosync.c **** 
1686:../cyfxslfifosync.c ****         case CYU3P_PIB_ERR_THR0_RD_UNDERRUN:
1687:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR0_RD_UNDERRUN");
1688:../cyfxslfifosync.c ****         break;
1689:../cyfxslfifosync.c ****         case CYU3P_PIB_ERR_THR1_RD_UNDERRUN:
1690:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR1_RD_UNDERRUN");
1691:../cyfxslfifosync.c ****         break;
1692:../cyfxslfifosync.c ****         case CYU3P_PIB_ERR_THR2_RD_UNDERRUN:
1693:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR2_RD_UNDERRUN");
1694:../cyfxslfifosync.c ****         break;
1695:../cyfxslfifosync.c ****         case CYU3P_PIB_ERR_THR3_RD_UNDERRUN:
1696:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CYU3P_PIB_ERR_THR3_RD_UNDERRUN");
1697:../cyfxslfifosync.c ****         break;
1698:../cyfxslfifosync.c **** 
1699:../cyfxslfifosync.c ****         default:
1700:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "No Error :%d\n ",CYU3P_GET_PIB_ERROR_TYPE(cbArg));
1701:../cyfxslfifosync.c ****             break;
 5295              		.loc 1 1701 0
 5296 34a0 0000A0E1 		mov	r0, r0	@ nop
 5297              	.L260:
1702:../cyfxslfifosync.c ****     }
1703:../cyfxslfifosync.c **** }
1704:../cyfxslfifosync.c **** 
1705:../cyfxslfifosync.c **** }
 5298              		.loc 1 1705 0
 5299 34a4 00D04BE2 		sub	sp, fp, #0
 5300              		@ sp needed
 5301 34a8 04B09DE4 		ldr	fp, [sp], #4
 5302 34ac 1EFF2FE1 		bx	lr
 5303              		.cfi_endproc
 5304              	.LFE22:
 5306              		.align	2
 5307              		.global	CyFxSlFifoApplnInit
 5309              	CyFxSlFifoApplnInit:
 5310              	.LFB23:
1706:../cyfxslfifosync.c **** 
1707:../cyfxslfifosync.c **** 
1708:../cyfxslfifosync.c **** 
1709:../cyfxslfifosync.c **** /* This function initializes the GPIF interface and initializes
1710:../cyfxslfifosync.c ****  * the USB interface. */
1711:../cyfxslfifosync.c **** void
1712:../cyfxslfifosync.c **** CyFxSlFifoApplnInit (void)
1713:../cyfxslfifosync.c **** {
 5311              		.loc 1 1713 0
 5312              		.cfi_startproc
 5313              		@ args = 0, pretend = 0, frame = 56
 5314              		@ frame_needed = 1, uses_anonymous_args = 0
 5315 34b0 00482DE9 		stmfd	sp!, {fp, lr}
 5316              	.LCFI46:
 5317              		.cfi_def_cfa_offset 8
 5318              		.cfi_offset 11, -8
 5319              		.cfi_offset 14, -4
 5320 34b4 04B08DE2 		add	fp, sp, #4
 5321              	.LCFI47:
 5322              		.cfi_def_cfa 11, 4
 5323 34b8 40D04DE2 		sub	sp, sp, #64
1714:../cyfxslfifosync.c ****     CyU3PPibClock_t pibClock;
1715:../cyfxslfifosync.c ****     CyU3PGpioClock_t gpioClock;
1716:../cyfxslfifosync.c ****     CyU3PGpioSimpleConfig_t gpioConfig;
1717:../cyfxslfifosync.c ****     CyU3PReturnStatus_t apiRetStatus = CY_U3P_SUCCESS;
 5324              		.loc 1 1717 0
 5325 34bc 0030A0E3 		mov	r3, #0
 5326 34c0 08300BE5 		str	r3, [fp, #-8]
1718:../cyfxslfifosync.c **** 
1719:../cyfxslfifosync.c ****     /* Initialize the p-port block. */
1720:../cyfxslfifosync.c ****     pibClock.clkDiv = 2;
 5327              		.loc 1 1720 0
 5328 34c4 0230A0E3 		mov	r3, #2
 5329 34c8 B8314BE1 		strh	r3, [fp, #-24]	@ movhi
1721:../cyfxslfifosync.c ****     pibClock.clkSrc = CY_U3P_SYS_CLK;
 5330              		.loc 1 1721 0
 5331 34cc 0330A0E3 		mov	r3, #3
 5332 34d0 0C304BE5 		strb	r3, [fp, #-12]
1722:../cyfxslfifosync.c ****     pibClock.isHalfDiv = CyFalse;
 5333              		.loc 1 1722 0
 5334 34d4 0030A0E3 		mov	r3, #0
 5335 34d8 14300BE5 		str	r3, [fp, #-20]
1723:../cyfxslfifosync.c ****     /* Disable DLL for sync GPIF */
1724:../cyfxslfifosync.c ****     pibClock.isDllEnable = CyFalse;
 5336              		.loc 1 1724 0
 5337 34dc 0030A0E3 		mov	r3, #0
 5338 34e0 10300BE5 		str	r3, [fp, #-16]
1725:../cyfxslfifosync.c ****     apiRetStatus = CyU3PPibInit(CyTrue, &pibClock);
 5339              		.loc 1 1725 0
 5340 34e4 18304BE2 		sub	r3, fp, #24
 5341 34e8 0100A0E3 		mov	r0, #1
 5342 34ec 0310A0E1 		mov	r1, r3
 5343 34f0 FEFFFFEB 		bl	CyU3PPibInit
 5344 34f4 08000BE5 		str	r0, [fp, #-8]
1726:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5345              		.loc 1 1726 0
 5346 34f8 08301BE5 		ldr	r3, [fp, #-8]
 5347 34fc 000053E3 		cmp	r3, #0
 5348 3500 0100000A 		beq	.L274
1727:../cyfxslfifosync.c ****     {
1728:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "P-port Initialization failed, Error Code = %d\n",apiRetStatus);
1729:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5349              		.loc 1 1729 0
 5350 3504 08001BE5 		ldr	r0, [fp, #-8]
 5351 3508 FEFFFFEB 		bl	CyFxAppErrorHandler
 5352              	.L274:
1730:../cyfxslfifosync.c ****     }
1731:../cyfxslfifosync.c **** 
1732:../cyfxslfifosync.c ****     /* Load the GPIF configuration for Slave FIFO sync mode. */
1733:../cyfxslfifosync.c ****     apiRetStatus = CyU3PGpifLoad (&CyFxGpifConfig);
 5353              		.loc 1 1733 0
 5354 350c 74059FE5 		ldr	r0, .L290
 5355 3510 FEFFFFEB 		bl	CyU3PGpifLoad
 5356 3514 08000BE5 		str	r0, [fp, #-8]
1734:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5357              		.loc 1 1734 0
 5358 3518 08301BE5 		ldr	r3, [fp, #-8]
 5359 351c 000053E3 		cmp	r3, #0
 5360 3520 0100000A 		beq	.L275
1735:../cyfxslfifosync.c ****     {
1736:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CyU3PGpifLoad failed, Error Code = %d\n",apiRetStatus);
1737:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5361              		.loc 1 1737 0
 5362 3524 08001BE5 		ldr	r0, [fp, #-8]
 5363 3528 FEFFFFEB 		bl	CyFxAppErrorHandler
 5364              	.L275:
1738:../cyfxslfifosync.c ****     }
1739:../cyfxslfifosync.c **** 
1740:../cyfxslfifosync.c ****     /*CyU3PGpifSocketConfigure (0,CY_U3P_PIB_SOCKET_0,6,CyFalse,1);
1741:../cyfxslfifosync.c ****     CyU3PGpifSocketConfigure (3,CY_U3P_PIB_SOCKET_3,6,CyFalse,1);*/
1742:../cyfxslfifosync.c **** 
1743:../cyfxslfifosync.c ****     CyU3PGpifSocketConfigure (0,CY_U3P_PIB_SOCKET_0,3,CyFalse,1); //n=3, watermark= n * 32/16 - 4
 5365              		.loc 1 1743 0
 5366 352c 0130A0E3 		mov	r3, #1
 5367 3530 00308DE5 		str	r3, [sp]
 5368 3534 0000A0E3 		mov	r0, #0
 5369 3538 011CA0E3 		mov	r1, #256
 5370 353c 0320A0E3 		mov	r2, #3
 5371 3540 0030A0E3 		mov	r3, #0
 5372 3544 FEFFFFEB 		bl	CyU3PGpifSocketConfigure
1744:../cyfxslfifosync.c ****     CyU3PGpifSocketConfigure (3,CY_U3P_PIB_SOCKET_3,2,CyFalse,1); //n=2, watermark= n * 32/16 - 4
 5373              		.loc 1 1744 0
 5374 3548 0130A0E3 		mov	r3, #1
 5375 354c 00308DE5 		str	r3, [sp]
 5376 3550 0300A0E3 		mov	r0, #3
 5377 3554 30159FE5 		ldr	r1, .L290+4
 5378 3558 0220A0E3 		mov	r2, #2
 5379 355c 0030A0E3 		mov	r3, #0
 5380 3560 FEFFFFEB 		bl	CyU3PGpifSocketConfigure
1745:../cyfxslfifosync.c **** 
1746:../cyfxslfifosync.c ****     /* Start the state machine. */
1747:../cyfxslfifosync.c ****     apiRetStatus = CyU3PGpifSMStart (RESET,ALPHA_RESET);
 5381              		.loc 1 1747 0
 5382 3564 0000A0E3 		mov	r0, #0
 5383 3568 0C10A0E3 		mov	r1, #12
 5384 356c FEFFFFEB 		bl	CyU3PGpifSMStart
 5385 3570 08000BE5 		str	r0, [fp, #-8]
1748:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5386              		.loc 1 1748 0
 5387 3574 08301BE5 		ldr	r3, [fp, #-8]
 5388 3578 000053E3 		cmp	r3, #0
 5389 357c 0100000A 		beq	.L276
1749:../cyfxslfifosync.c ****     {
1750:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CyU3PGpifSMStart failed, Error Code = %d\n",apiRetStatus);
1751:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5390              		.loc 1 1751 0
 5391 3580 08001BE5 		ldr	r0, [fp, #-8]
 5392 3584 FEFFFFEB 		bl	CyFxAppErrorHandler
 5393              	.L276:
1752:../cyfxslfifosync.c ****     }
1753:../cyfxslfifosync.c **** 
1754:../cyfxslfifosync.c ****     /* Init the GPIO module */
1755:../cyfxslfifosync.c **** 	gpioClock.fastClkDiv = 2;
 5394              		.loc 1 1755 0
 5395 3588 0230A0E3 		mov	r3, #2
 5396 358c 24304BE5 		strb	r3, [fp, #-36]
1756:../cyfxslfifosync.c **** 	gpioClock.slowClkDiv = 0;
 5397              		.loc 1 1756 0
 5398 3590 0030A0E3 		mov	r3, #0
 5399 3594 23304BE5 		strb	r3, [fp, #-35]
1757:../cyfxslfifosync.c **** 	gpioClock.simpleDiv = CY_U3P_GPIO_SIMPLE_DIV_BY_2;
 5400              		.loc 1 1757 0
 5401 3598 0030A0E3 		mov	r3, #0
 5402 359c 1C304BE5 		strb	r3, [fp, #-28]
1758:../cyfxslfifosync.c **** 	gpioClock.clkSrc = CY_U3P_SYS_CLK;
 5403              		.loc 1 1758 0
 5404 35a0 0330A0E3 		mov	r3, #3
 5405 35a4 1B304BE5 		strb	r3, [fp, #-27]
1759:../cyfxslfifosync.c **** 	gpioClock.halfDiv = 0;
 5406              		.loc 1 1759 0
 5407 35a8 0030A0E3 		mov	r3, #0
 5408 35ac 20300BE5 		str	r3, [fp, #-32]
1760:../cyfxslfifosync.c **** 
1761:../cyfxslfifosync.c **** 	apiRetStatus = CyU3PGpioInit(&gpioClock, NULL);
 5409              		.loc 1 1761 0
 5410 35b0 24304BE2 		sub	r3, fp, #36
 5411 35b4 0300A0E1 		mov	r0, r3
 5412 35b8 0010A0E3 		mov	r1, #0
 5413 35bc FEFFFFEB 		bl	CyU3PGpioInit
 5414 35c0 08000BE5 		str	r0, [fp, #-8]
1762:../cyfxslfifosync.c **** 	if (apiRetStatus != 0)
 5415              		.loc 1 1762 0
 5416 35c4 08301BE5 		ldr	r3, [fp, #-8]
 5417 35c8 000053E3 		cmp	r3, #0
 5418 35cc 0100000A 		beq	.L277
1763:../cyfxslfifosync.c **** 	{
1764:../cyfxslfifosync.c **** 		/* Error Handling */
1765:../cyfxslfifosync.c **** 		//CyU3PDebugPrint (4, "CyU3PGpioInit failed, error code = %d\n", apiRetStatus);
1766:../cyfxslfifosync.c **** 		CyFxAppErrorHandler(apiRetStatus);
 5419              		.loc 1 1766 0
 5420 35d0 08001BE5 		ldr	r0, [fp, #-8]
 5421 35d4 FEFFFFEB 		bl	CyFxAppErrorHandler
 5422              	.L277:
1767:../cyfxslfifosync.c **** 	}
1768:../cyfxslfifosync.c **** 
1769:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyFalse;
 5423              		.loc 1 1769 0
 5424 35d8 0030A0E3 		mov	r3, #0
 5425 35dc 38300BE5 		str	r3, [fp, #-56]
1770:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyFalse;
 5426              		.loc 1 1770 0
 5427 35e0 0030A0E3 		mov	r3, #0
 5428 35e4 2C300BE5 		str	r3, [fp, #-44]
1771:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyTrue;
 5429              		.loc 1 1771 0
 5430 35e8 0130A0E3 		mov	r3, #1
 5431 35ec 34300BE5 		str	r3, [fp, #-52]
1772:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyTrue;
 5432              		.loc 1 1772 0
 5433 35f0 0130A0E3 		mov	r3, #1
 5434 35f4 30300BE5 		str	r3, [fp, #-48]
1773:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
 5435              		.loc 1 1773 0
 5436 35f8 0030A0E3 		mov	r3, #0
 5437 35fc 28304BE5 		strb	r3, [fp, #-40]
1774:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FX3_LED0, CyTrue);
 5438              		.loc 1 1774 0
 5439 3600 2100A0E3 		mov	r0, #33
 5440 3604 0110A0E3 		mov	r1, #1
 5441 3608 FEFFFFEB 		bl	CyU3PDeviceGpioOverride
1775:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FX3_LED0, &gpioConfig);
 5442              		.loc 1 1775 0
 5443 360c 38304BE2 		sub	r3, fp, #56
 5444 3610 2100A0E3 		mov	r0, #33
 5445 3614 0310A0E1 		mov	r1, r3
 5446 3618 FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
1776:../cyfxslfifosync.c **** 
1777:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyFalse;
 5447              		.loc 1 1777 0
 5448 361c 0030A0E3 		mov	r3, #0
 5449 3620 38300BE5 		str	r3, [fp, #-56]
1778:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyFalse;
 5450              		.loc 1 1778 0
 5451 3624 0030A0E3 		mov	r3, #0
 5452 3628 2C300BE5 		str	r3, [fp, #-44]
1779:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyTrue;
 5453              		.loc 1 1779 0
 5454 362c 0130A0E3 		mov	r3, #1
 5455 3630 34300BE5 		str	r3, [fp, #-52]
1780:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyTrue;
 5456              		.loc 1 1780 0
 5457 3634 0130A0E3 		mov	r3, #1
 5458 3638 30300BE5 		str	r3, [fp, #-48]
1781:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
 5459              		.loc 1 1781 0
 5460 363c 0030A0E3 		mov	r3, #0
 5461 3640 28304BE5 		strb	r3, [fp, #-40]
1782:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FX3_LED1, CyTrue);
 5462              		.loc 1 1782 0
 5463 3644 2200A0E3 		mov	r0, #34
 5464 3648 0110A0E3 		mov	r1, #1
 5465 364c FEFFFFEB 		bl	CyU3PDeviceGpioOverride
1783:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FX3_LED1, &gpioConfig);
 5466              		.loc 1 1783 0
 5467 3650 38304BE2 		sub	r3, fp, #56
 5468 3654 2200A0E3 		mov	r0, #34
 5469 3658 0310A0E1 		mov	r1, r3
 5470 365c FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
1784:../cyfxslfifosync.c **** 
1785:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyFalse;
 5471              		.loc 1 1785 0
 5472 3660 0030A0E3 		mov	r3, #0
 5473 3664 38300BE5 		str	r3, [fp, #-56]
1786:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyFalse;
 5474              		.loc 1 1786 0
 5475 3668 0030A0E3 		mov	r3, #0
 5476 366c 2C300BE5 		str	r3, [fp, #-44]
1787:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyTrue;
 5477              		.loc 1 1787 0
 5478 3670 0130A0E3 		mov	r3, #1
 5479 3674 34300BE5 		str	r3, [fp, #-52]
1788:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyTrue;
 5480              		.loc 1 1788 0
 5481 3678 0130A0E3 		mov	r3, #1
 5482 367c 30300BE5 		str	r3, [fp, #-48]
1789:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
 5483              		.loc 1 1789 0
 5484 3680 0030A0E3 		mov	r3, #0
 5485 3684 28304BE5 		strb	r3, [fp, #-40]
1790:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FX3_LED2, CyTrue);
 5486              		.loc 1 1790 0
 5487 3688 2300A0E3 		mov	r0, #35
 5488 368c 0110A0E3 		mov	r1, #1
 5489 3690 FEFFFFEB 		bl	CyU3PDeviceGpioOverride
1791:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FX3_LED2, &gpioConfig);
 5490              		.loc 1 1791 0
 5491 3694 38304BE2 		sub	r3, fp, #56
 5492 3698 2300A0E3 		mov	r0, #35
 5493 369c 0310A0E1 		mov	r1, r3
 5494 36a0 FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
1792:../cyfxslfifosync.c **** 
1793:../cyfxslfifosync.c **** 
1794:../cyfxslfifosync.c **** 
1795:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyTrue;
 5495              		.loc 1 1795 0
 5496 36a4 0130A0E3 		mov	r3, #1
 5497 36a8 38300BE5 		str	r3, [fp, #-56]
1796:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyFalse;
 5498              		.loc 1 1796 0
 5499 36ac 0030A0E3 		mov	r3, #0
 5500 36b0 2C300BE5 		str	r3, [fp, #-44]
1797:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyTrue;
 5501              		.loc 1 1797 0
 5502 36b4 0130A0E3 		mov	r3, #1
 5503 36b8 34300BE5 		str	r3, [fp, #-52]
1798:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyTrue;
 5504              		.loc 1 1798 0
 5505 36bc 0130A0E3 		mov	r3, #1
 5506 36c0 30300BE5 		str	r3, [fp, #-48]
1799:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
 5507              		.loc 1 1799 0
 5508 36c4 0030A0E3 		mov	r3, #0
 5509 36c8 28304BE5 		strb	r3, [fp, #-40]
1800:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FX3_FLASH1_SS, CyTrue);
 5510              		.loc 1 1800 0
 5511 36cc 3600A0E3 		mov	r0, #54
 5512 36d0 0110A0E3 		mov	r1, #1
 5513 36d4 FEFFFFEB 		bl	CyU3PDeviceGpioOverride
1801:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FX3_FLASH1_SS, &gpioConfig);
 5514              		.loc 1 1801 0
 5515 36d8 38304BE2 		sub	r3, fp, #56
 5516 36dc 3600A0E3 		mov	r0, #54
 5517 36e0 0310A0E1 		mov	r1, r3
 5518 36e4 FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
1802:../cyfxslfifosync.c **** 
1803:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyTrue;
 5519              		.loc 1 1803 0
 5520 36e8 0130A0E3 		mov	r3, #1
 5521 36ec 38300BE5 		str	r3, [fp, #-56]
1804:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyFalse;
 5522              		.loc 1 1804 0
 5523 36f0 0030A0E3 		mov	r3, #0
 5524 36f4 2C300BE5 		str	r3, [fp, #-44]
1805:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyTrue;
 5525              		.loc 1 1805 0
 5526 36f8 0130A0E3 		mov	r3, #1
 5527 36fc 34300BE5 		str	r3, [fp, #-52]
1806:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyTrue;
 5528              		.loc 1 1806 0
 5529 3700 0130A0E3 		mov	r3, #1
 5530 3704 30300BE5 		str	r3, [fp, #-48]
1807:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
 5531              		.loc 1 1807 0
 5532 3708 0030A0E3 		mov	r3, #0
 5533 370c 28304BE5 		strb	r3, [fp, #-40]
1808:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FX3_SPI_AS_SS, CyTrue);
 5534              		.loc 1 1808 0
 5535 3710 2D00A0E3 		mov	r0, #45
 5536 3714 0110A0E3 		mov	r1, #1
 5537 3718 FEFFFFEB 		bl	CyU3PDeviceGpioOverride
1809:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FX3_SPI_AS_SS, &gpioConfig);
 5538              		.loc 1 1809 0
 5539 371c 38304BE2 		sub	r3, fp, #56
 5540 3720 2D00A0E3 		mov	r0, #45
 5541 3724 0310A0E1 		mov	r1, r3
 5542 3728 FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
1810:../cyfxslfifosync.c **** 
1811:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyTrue;
 5543              		.loc 1 1811 0
 5544 372c 0130A0E3 		mov	r3, #1
 5545 3730 38300BE5 		str	r3, [fp, #-56]
1812:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyFalse;
 5546              		.loc 1 1812 0
 5547 3734 0030A0E3 		mov	r3, #0
 5548 3738 2C300BE5 		str	r3, [fp, #-44]
1813:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyTrue;
 5549              		.loc 1 1813 0
 5550 373c 0130A0E3 		mov	r3, #1
 5551 3740 34300BE5 		str	r3, [fp, #-52]
1814:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyTrue;
 5552              		.loc 1 1814 0
 5553 3744 0130A0E3 		mov	r3, #1
 5554 3748 30300BE5 		str	r3, [fp, #-48]
1815:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
 5555              		.loc 1 1815 0
 5556 374c 0030A0E3 		mov	r3, #0
 5557 3750 28304BE5 		strb	r3, [fp, #-40]
1816:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FX3_FPGA_SS, CyTrue);
 5558              		.loc 1 1816 0
 5559 3754 2E00A0E3 		mov	r0, #46
 5560 3758 0110A0E3 		mov	r1, #1
 5561 375c FEFFFFEB 		bl	CyU3PDeviceGpioOverride
1817:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FX3_FPGA_SS, &gpioConfig);
 5562              		.loc 1 1817 0
 5563 3760 38304BE2 		sub	r3, fp, #56
 5564 3764 2E00A0E3 		mov	r0, #46
 5565 3768 0310A0E1 		mov	r1, r3
 5566 376c FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
1818:../cyfxslfifosync.c **** 
1819:../cyfxslfifosync.c **** 	//FPGA PS OUTs
1820:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyTrue;
 5567              		.loc 1 1820 0
 5568 3770 0130A0E3 		mov	r3, #1
 5569 3774 38300BE5 		str	r3, [fp, #-56]
1821:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyFalse;
 5570              		.loc 1 1821 0
 5571 3778 0030A0E3 		mov	r3, #0
 5572 377c 2C300BE5 		str	r3, [fp, #-44]
1822:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyTrue;
 5573              		.loc 1 1822 0
 5574 3780 0130A0E3 		mov	r3, #1
 5575 3784 34300BE5 		str	r3, [fp, #-52]
1823:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyTrue;
 5576              		.loc 1 1823 0
 5577 3788 0130A0E3 		mov	r3, #1
 5578 378c 30300BE5 		str	r3, [fp, #-48]
1824:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
 5579              		.loc 1 1824 0
 5580 3790 0030A0E3 		mov	r3, #0
 5581 3794 28304BE5 		strb	r3, [fp, #-40]
1825:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FPGA_PS_NCONFIG, CyTrue);
 5582              		.loc 1 1825 0
 5583 3798 2B00A0E3 		mov	r0, #43
 5584 379c 0110A0E3 		mov	r1, #1
 5585 37a0 FEFFFFEB 		bl	CyU3PDeviceGpioOverride
1826:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FPGA_PS_NCONFIG, &gpioConfig);
 5586              		.loc 1 1826 0
 5587 37a4 38304BE2 		sub	r3, fp, #56
 5588 37a8 2B00A0E3 		mov	r0, #43
 5589 37ac 0310A0E1 		mov	r1, r3
 5590 37b0 FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
1827:../cyfxslfifosync.c **** 
1828:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyTrue;
 5591              		.loc 1 1828 0
 5592 37b4 0130A0E3 		mov	r3, #1
 5593 37b8 38300BE5 		str	r3, [fp, #-56]
1829:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyFalse;
 5594              		.loc 1 1829 0
 5595 37bc 0030A0E3 		mov	r3, #0
 5596 37c0 2C300BE5 		str	r3, [fp, #-44]
1830:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyTrue;
 5597              		.loc 1 1830 0
 5598 37c4 0130A0E3 		mov	r3, #1
 5599 37c8 34300BE5 		str	r3, [fp, #-52]
1831:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyTrue;
 5600              		.loc 1 1831 0
 5601 37cc 0130A0E3 		mov	r3, #1
 5602 37d0 30300BE5 		str	r3, [fp, #-48]
1832:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
 5603              		.loc 1 1832 0
 5604 37d4 0030A0E3 		mov	r3, #0
 5605 37d8 28304BE5 		strb	r3, [fp, #-40]
1833:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FX3_AS_SW, CyTrue);
 5606              		.loc 1 1833 0
 5607 37dc 2C00A0E3 		mov	r0, #44
 5608 37e0 0110A0E3 		mov	r1, #1
 5609 37e4 FEFFFFEB 		bl	CyU3PDeviceGpioOverride
1834:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FX3_AS_SW, &gpioConfig);
 5610              		.loc 1 1834 0
 5611 37e8 38304BE2 		sub	r3, fp, #56
 5612 37ec 2C00A0E3 		mov	r0, #44
 5613 37f0 0310A0E1 		mov	r1, r3
 5614 37f4 FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
1835:../cyfxslfifosync.c **** 
1836:../cyfxslfifosync.c **** 	#ifdef FPGA_PS_METHOD_GPIO //FPGA PS over GPIO
1837:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyFalse;
1838:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyFalse;
1839:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyTrue;
1840:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyTrue;
1841:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
1842:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FPGA_PS_DCLK, CyTrue);
1843:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FPGA_PS_DCLK, &gpioConfig);
1844:../cyfxslfifosync.c **** 
1845:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyFalse;
1846:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyFalse;
1847:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyTrue;
1848:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyTrue;
1849:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
1850:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FPGA_PS_DATA0, CyTrue);
1851:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FPGA_PS_DATA0, &gpioConfig);
1852:../cyfxslfifosync.c **** 	#endif
1853:../cyfxslfifosync.c **** 
1854:../cyfxslfifosync.c **** 	#ifdef FPGA_PS_METHOD_SPI //FPGA PS over SPI
1855:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyTrue; //disable FX3_AS_SW
1856:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyFalse;
1857:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyTrue;
1858:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyTrue;
1859:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
1860:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FX3_AS_SW, CyTrue);
1861:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FX3_AS_SW, &gpioConfig);
1862:../cyfxslfifosync.c **** 	#endif
1863:../cyfxslfifosync.c **** 
1864:../cyfxslfifosync.c **** 	//FPGA PS INs
1865:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyFalse;
 5615              		.loc 1 1865 0
 5616 37f8 0030A0E3 		mov	r3, #0
 5617 37fc 38300BE5 		str	r3, [fp, #-56]
1866:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyTrue;
 5618              		.loc 1 1866 0
 5619 3800 0130A0E3 		mov	r3, #1
 5620 3804 2C300BE5 		str	r3, [fp, #-44]
1867:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyFalse;
 5621              		.loc 1 1867 0
 5622 3808 0030A0E3 		mov	r3, #0
 5623 380c 34300BE5 		str	r3, [fp, #-52]
1868:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyFalse;
 5624              		.loc 1 1868 0
 5625 3810 0030A0E3 		mov	r3, #0
 5626 3814 30300BE5 		str	r3, [fp, #-48]
1869:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
 5627              		.loc 1 1869 0
 5628 3818 0030A0E3 		mov	r3, #0
 5629 381c 28304BE5 		strb	r3, [fp, #-40]
1870:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FPGA_PS_NSTATUS, CyTrue);
 5630              		.loc 1 1870 0
 5631 3820 2A00A0E3 		mov	r0, #42
 5632 3824 0110A0E3 		mov	r1, #1
 5633 3828 FEFFFFEB 		bl	CyU3PDeviceGpioOverride
1871:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FPGA_PS_NSTATUS, &gpioConfig);
 5634              		.loc 1 1871 0
 5635 382c 38304BE2 		sub	r3, fp, #56
 5636 3830 2A00A0E3 		mov	r0, #42
 5637 3834 0310A0E1 		mov	r1, r3
 5638 3838 FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
1872:../cyfxslfifosync.c **** 
1873:../cyfxslfifosync.c **** 	gpioConfig.outValue = CyFalse;
 5639              		.loc 1 1873 0
 5640 383c 0030A0E3 		mov	r3, #0
 5641 3840 38300BE5 		str	r3, [fp, #-56]
1874:../cyfxslfifosync.c **** 	gpioConfig.inputEn = CyTrue;
 5642              		.loc 1 1874 0
 5643 3844 0130A0E3 		mov	r3, #1
 5644 3848 2C300BE5 		str	r3, [fp, #-44]
1875:../cyfxslfifosync.c **** 	gpioConfig.driveLowEn = CyFalse;
 5645              		.loc 1 1875 0
 5646 384c 0030A0E3 		mov	r3, #0
 5647 3850 34300BE5 		str	r3, [fp, #-52]
1876:../cyfxslfifosync.c **** 	gpioConfig.driveHighEn = CyFalse;
 5648              		.loc 1 1876 0
 5649 3854 0030A0E3 		mov	r3, #0
 5650 3858 30300BE5 		str	r3, [fp, #-48]
1877:../cyfxslfifosync.c **** 	gpioConfig.intrMode = CY_U3P_GPIO_NO_INTR;
 5651              		.loc 1 1877 0
 5652 385c 0030A0E3 		mov	r3, #0
 5653 3860 28304BE5 		strb	r3, [fp, #-40]
1878:../cyfxslfifosync.c **** 	CyU3PDeviceGpioOverride (FPGA_PS_CONFDONE, CyTrue);
 5654              		.loc 1 1878 0
 5655 3864 2900A0E3 		mov	r0, #41
 5656 3868 0110A0E3 		mov	r1, #1
 5657 386c FEFFFFEB 		bl	CyU3PDeviceGpioOverride
1879:../cyfxslfifosync.c **** 	CyU3PGpioSetSimpleConfig(FPGA_PS_CONFDONE, &gpioConfig);
 5658              		.loc 1 1879 0
 5659 3870 38304BE2 		sub	r3, fp, #56
 5660 3874 2900A0E3 		mov	r0, #41
 5661 3878 0310A0E1 		mov	r1, r3
 5662 387c FEFFFFEB 		bl	CyU3PGpioSetSimpleConfig
1880:../cyfxslfifosync.c **** 
1881:../cyfxslfifosync.c **** 
1882:../cyfxslfifosync.c ****     /* Start the USB functionality. */
1883:../cyfxslfifosync.c ****     apiRetStatus = CyU3PUsbStart();
 5663              		.loc 1 1883 0
 5664 3880 FEFFFFEB 		bl	CyU3PUsbStart
 5665 3884 08000BE5 		str	r0, [fp, #-8]
1884:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5666              		.loc 1 1884 0
 5667 3888 08301BE5 		ldr	r3, [fp, #-8]
 5668 388c 000053E3 		cmp	r3, #0
 5669 3890 0100000A 		beq	.L278
1885:../cyfxslfifosync.c ****     {
1886:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "CyU3PUsbStart failed to Start, Error code = %d\n", apiRetStatus);
1887:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5670              		.loc 1 1887 0
 5671 3894 08001BE5 		ldr	r0, [fp, #-8]
 5672 3898 FEFFFFEB 		bl	CyFxAppErrorHandler
 5673              	.L278:
1888:../cyfxslfifosync.c ****     }
1889:../cyfxslfifosync.c **** 
1890:../cyfxslfifosync.c ****     CyU3PUsbSetTxSwing(127); //TX Amplitude swing of the electrical signalling on the USB superspee
 5674              		.loc 1 1890 0
 5675 389c 7F00A0E3 		mov	r0, #127
 5676 38a0 FEFFFFEB 		bl	CyU3PUsbSetTxSwing
1891:../cyfxslfifosync.c **** 
1892:../cyfxslfifosync.c ****     /* callback to see if there is any overflow of data on the GPIF II side*/
1893:../cyfxslfifosync.c ****     CyU3PPibRegisterCallback(gpif_error_cb,0xffff);
 5677              		.loc 1 1893 0
 5678 38a4 E4019FE5 		ldr	r0, .L290+8
 5679 38a8 E4119FE5 		ldr	r1, .L290+12
 5680 38ac FEFFFFEB 		bl	CyU3PPibRegisterCallback
1894:../cyfxslfifosync.c **** 
1895:../cyfxslfifosync.c ****     /* The fast enumeration is the easiest way to setup a USB connection,
1896:../cyfxslfifosync.c ****      * where all enumeration phase is handled by the library. Only the
1897:../cyfxslfifosync.c ****      * class / vendor requests need to be handled by the application. */
1898:../cyfxslfifosync.c ****     CyU3PUsbRegisterSetupCallback(CyFxSlFifoApplnUSBSetupCB, CyTrue);
 5681              		.loc 1 1898 0
 5682 38b0 E0019FE5 		ldr	r0, .L290+16
 5683 38b4 0110A0E3 		mov	r1, #1
 5684 38b8 FEFFFFEB 		bl	CyU3PUsbRegisterSetupCallback
1899:../cyfxslfifosync.c **** 
1900:../cyfxslfifosync.c ****     /* Setup the callback to handle the USB events. */
1901:../cyfxslfifosync.c ****     CyU3PUsbRegisterEventCallback(CyFxSlFifoApplnUSBEventCB);
 5685              		.loc 1 1901 0
 5686 38bc D8019FE5 		ldr	r0, .L290+20
 5687 38c0 FEFFFFEB 		bl	CyU3PUsbRegisterEventCallback
1902:../cyfxslfifosync.c **** 
1903:../cyfxslfifosync.c ****     /* Register a callback to handle LPM requests from the USB 3.0 host. */
1904:../cyfxslfifosync.c ****     CyU3PUsbRegisterLPMRequestCallback(CyFxApplnLPMRqtCB);    
 5688              		.loc 1 1904 0
 5689 38c4 D4019FE5 		ldr	r0, .L290+24
 5690 38c8 FEFFFFEB 		bl	CyU3PUsbRegisterLPMRequestCallback
1905:../cyfxslfifosync.c **** 
1906:../cyfxslfifosync.c ****     /* Set the USB Enumeration descriptors */
1907:../cyfxslfifosync.c **** 
1908:../cyfxslfifosync.c ****     /* Super speed device descriptor. */
1909:../cyfxslfifosync.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_SS_DEVICE_DESCR, NULL, (uint8_t *)CyFxUSB30Device
 5691              		.loc 1 1909 0
 5692 38cc 0000A0E3 		mov	r0, #0
 5693 38d0 0010A0E3 		mov	r1, #0
 5694 38d4 C8219FE5 		ldr	r2, .L290+28
 5695 38d8 FEFFFFEB 		bl	CyU3PUsbSetDesc
 5696 38dc 08000BE5 		str	r0, [fp, #-8]
1910:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5697              		.loc 1 1910 0
 5698 38e0 08301BE5 		ldr	r3, [fp, #-8]
 5699 38e4 000053E3 		cmp	r3, #0
 5700 38e8 0100000A 		beq	.L279
1911:../cyfxslfifosync.c ****     {
1912:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "USB set device descriptor failed, Error code = %d\n", apiRetStatus);
1913:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5701              		.loc 1 1913 0
 5702 38ec 08001BE5 		ldr	r0, [fp, #-8]
 5703 38f0 FEFFFFEB 		bl	CyFxAppErrorHandler
 5704              	.L279:
1914:../cyfxslfifosync.c ****     }
1915:../cyfxslfifosync.c **** 
1916:../cyfxslfifosync.c ****     /* High speed device descriptor. */
1917:../cyfxslfifosync.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_HS_DEVICE_DESCR, NULL, (uint8_t *)CyFxUSB20Device
 5705              		.loc 1 1917 0
 5706 38f4 0100A0E3 		mov	r0, #1
 5707 38f8 0010A0E3 		mov	r1, #0
 5708 38fc A4219FE5 		ldr	r2, .L290+32
 5709 3900 FEFFFFEB 		bl	CyU3PUsbSetDesc
 5710 3904 08000BE5 		str	r0, [fp, #-8]
1918:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5711              		.loc 1 1918 0
 5712 3908 08301BE5 		ldr	r3, [fp, #-8]
 5713 390c 000053E3 		cmp	r3, #0
 5714 3910 0100000A 		beq	.L280
1919:../cyfxslfifosync.c ****     {
1920:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "USB set device descriptor failed, Error code = %d\n", apiRetStatus);
1921:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5715              		.loc 1 1921 0
 5716 3914 08001BE5 		ldr	r0, [fp, #-8]
 5717 3918 FEFFFFEB 		bl	CyFxAppErrorHandler
 5718              	.L280:
1922:../cyfxslfifosync.c ****     }
1923:../cyfxslfifosync.c **** 
1924:../cyfxslfifosync.c ****     /* BOS descriptor */
1925:../cyfxslfifosync.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_SS_BOS_DESCR, NULL, (uint8_t *)CyFxUSBBOSDscr);
 5719              		.loc 1 1925 0
 5720 391c 0700A0E3 		mov	r0, #7
 5721 3920 0010A0E3 		mov	r1, #0
 5722 3924 80219FE5 		ldr	r2, .L290+36
 5723 3928 FEFFFFEB 		bl	CyU3PUsbSetDesc
 5724 392c 08000BE5 		str	r0, [fp, #-8]
1926:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5725              		.loc 1 1926 0
 5726 3930 08301BE5 		ldr	r3, [fp, #-8]
 5727 3934 000053E3 		cmp	r3, #0
 5728 3938 0100000A 		beq	.L281
1927:../cyfxslfifosync.c ****     {
1928:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "USB set configuration descriptor failed, Error code = %d\n", apiRetS
1929:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5729              		.loc 1 1929 0
 5730 393c 08001BE5 		ldr	r0, [fp, #-8]
 5731 3940 FEFFFFEB 		bl	CyFxAppErrorHandler
 5732              	.L281:
1930:../cyfxslfifosync.c ****     }
1931:../cyfxslfifosync.c **** 
1932:../cyfxslfifosync.c ****     /* Device qualifier descriptor */
1933:../cyfxslfifosync.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_DEVQUAL_DESCR, NULL, (uint8_t *)CyFxUSBDeviceQual
 5733              		.loc 1 1933 0
 5734 3944 0200A0E3 		mov	r0, #2
 5735 3948 0010A0E3 		mov	r1, #0
 5736 394c 5C219FE5 		ldr	r2, .L290+40
 5737 3950 FEFFFFEB 		bl	CyU3PUsbSetDesc
 5738 3954 08000BE5 		str	r0, [fp, #-8]
1934:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5739              		.loc 1 1934 0
 5740 3958 08301BE5 		ldr	r3, [fp, #-8]
 5741 395c 000053E3 		cmp	r3, #0
 5742 3960 0100000A 		beq	.L282
1935:../cyfxslfifosync.c ****     {
1936:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "USB set device qualifier descriptor failed, Error code = %d\n", apiR
1937:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5743              		.loc 1 1937 0
 5744 3964 08001BE5 		ldr	r0, [fp, #-8]
 5745 3968 FEFFFFEB 		bl	CyFxAppErrorHandler
 5746              	.L282:
1938:../cyfxslfifosync.c ****     }
1939:../cyfxslfifosync.c **** 
1940:../cyfxslfifosync.c ****     /* Super speed configuration descriptor */
1941:../cyfxslfifosync.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_SS_CONFIG_DESCR, NULL, (uint8_t *)CyFxUSBSSConfig
 5747              		.loc 1 1941 0
 5748 396c 0600A0E3 		mov	r0, #6
 5749 3970 0010A0E3 		mov	r1, #0
 5750 3974 38219FE5 		ldr	r2, .L290+44
 5751 3978 FEFFFFEB 		bl	CyU3PUsbSetDesc
 5752 397c 08000BE5 		str	r0, [fp, #-8]
1942:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5753              		.loc 1 1942 0
 5754 3980 08301BE5 		ldr	r3, [fp, #-8]
 5755 3984 000053E3 		cmp	r3, #0
 5756 3988 0100000A 		beq	.L283
1943:../cyfxslfifosync.c ****     {
1944:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "USB set configuration descriptor failed, Error code = %d\n", apiRetS
1945:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5757              		.loc 1 1945 0
 5758 398c 08001BE5 		ldr	r0, [fp, #-8]
 5759 3990 FEFFFFEB 		bl	CyFxAppErrorHandler
 5760              	.L283:
1946:../cyfxslfifosync.c ****     }
1947:../cyfxslfifosync.c **** 
1948:../cyfxslfifosync.c ****     /* High speed configuration descriptor */
1949:../cyfxslfifosync.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_HS_CONFIG_DESCR, NULL, (uint8_t *)CyFxUSBHSConfig
 5761              		.loc 1 1949 0
 5762 3994 0400A0E3 		mov	r0, #4
 5763 3998 0010A0E3 		mov	r1, #0
 5764 399c 14219FE5 		ldr	r2, .L290+48
 5765 39a0 FEFFFFEB 		bl	CyU3PUsbSetDesc
 5766 39a4 08000BE5 		str	r0, [fp, #-8]
1950:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5767              		.loc 1 1950 0
 5768 39a8 08301BE5 		ldr	r3, [fp, #-8]
 5769 39ac 000053E3 		cmp	r3, #0
 5770 39b0 0100000A 		beq	.L284
1951:../cyfxslfifosync.c ****     {
1952:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "USB Set Other Speed Descriptor failed, Error Code = %d\n", apiRetSta
1953:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5771              		.loc 1 1953 0
 5772 39b4 08001BE5 		ldr	r0, [fp, #-8]
 5773 39b8 FEFFFFEB 		bl	CyFxAppErrorHandler
 5774              	.L284:
1954:../cyfxslfifosync.c ****     }
1955:../cyfxslfifosync.c **** 
1956:../cyfxslfifosync.c ****     /* Full speed configuration descriptor */
1957:../cyfxslfifosync.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_FS_CONFIG_DESCR, NULL, (uint8_t *)CyFxUSBFSConfig
 5775              		.loc 1 1957 0
 5776 39bc 0300A0E3 		mov	r0, #3
 5777 39c0 0010A0E3 		mov	r1, #0
 5778 39c4 F0209FE5 		ldr	r2, .L290+52
 5779 39c8 FEFFFFEB 		bl	CyU3PUsbSetDesc
 5780 39cc 08000BE5 		str	r0, [fp, #-8]
1958:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5781              		.loc 1 1958 0
 5782 39d0 08301BE5 		ldr	r3, [fp, #-8]
 5783 39d4 000053E3 		cmp	r3, #0
 5784 39d8 0100000A 		beq	.L285
1959:../cyfxslfifosync.c ****     {
1960:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "USB Set Configuration Descriptor failed, Error Code = %d\n", apiRetS
1961:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5785              		.loc 1 1961 0
 5786 39dc 08001BE5 		ldr	r0, [fp, #-8]
 5787 39e0 FEFFFFEB 		bl	CyFxAppErrorHandler
 5788              	.L285:
1962:../cyfxslfifosync.c ****     }
1963:../cyfxslfifosync.c **** 
1964:../cyfxslfifosync.c ****     /* String descriptor 0 */
1965:../cyfxslfifosync.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_STRING_DESCR, 0, (uint8_t *)CyFxUSBStringLangIDDs
 5789              		.loc 1 1965 0
 5790 39e4 0500A0E3 		mov	r0, #5
 5791 39e8 0010A0E3 		mov	r1, #0
 5792 39ec CC209FE5 		ldr	r2, .L290+56
 5793 39f0 FEFFFFEB 		bl	CyU3PUsbSetDesc
 5794 39f4 08000BE5 		str	r0, [fp, #-8]
1966:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5795              		.loc 1 1966 0
 5796 39f8 08301BE5 		ldr	r3, [fp, #-8]
 5797 39fc 000053E3 		cmp	r3, #0
 5798 3a00 0100000A 		beq	.L286
1967:../cyfxslfifosync.c ****     {
1968:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "USB set string descriptor failed, Error code = %d\n", apiRetStatus);
1969:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5799              		.loc 1 1969 0
 5800 3a04 08001BE5 		ldr	r0, [fp, #-8]
 5801 3a08 FEFFFFEB 		bl	CyFxAppErrorHandler
 5802              	.L286:
1970:../cyfxslfifosync.c ****     }
1971:../cyfxslfifosync.c **** 
1972:../cyfxslfifosync.c ****     /* String descriptor 1 */
1973:../cyfxslfifosync.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_STRING_DESCR, 1, (uint8_t *)CyFxUSBManufactureDsc
 5803              		.loc 1 1973 0
 5804 3a0c 0500A0E3 		mov	r0, #5
 5805 3a10 0110A0E3 		mov	r1, #1
 5806 3a14 A8209FE5 		ldr	r2, .L290+60
 5807 3a18 FEFFFFEB 		bl	CyU3PUsbSetDesc
 5808 3a1c 08000BE5 		str	r0, [fp, #-8]
1974:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5809              		.loc 1 1974 0
 5810 3a20 08301BE5 		ldr	r3, [fp, #-8]
 5811 3a24 000053E3 		cmp	r3, #0
 5812 3a28 0100000A 		beq	.L287
1975:../cyfxslfifosync.c ****     {
1976:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "USB set string descriptor failed, Error code = %d\n", apiRetStatus);
1977:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5813              		.loc 1 1977 0
 5814 3a2c 08001BE5 		ldr	r0, [fp, #-8]
 5815 3a30 FEFFFFEB 		bl	CyFxAppErrorHandler
 5816              	.L287:
1978:../cyfxslfifosync.c ****     }
1979:../cyfxslfifosync.c **** 
1980:../cyfxslfifosync.c ****     /* String descriptor 2 */
1981:../cyfxslfifosync.c ****     apiRetStatus = CyU3PUsbSetDesc(CY_U3P_USB_SET_STRING_DESCR, 2, (uint8_t *)CyFxUSBProductDscr);
 5817              		.loc 1 1981 0
 5818 3a34 0500A0E3 		mov	r0, #5
 5819 3a38 0210A0E3 		mov	r1, #2
 5820 3a3c 84209FE5 		ldr	r2, .L290+64
 5821 3a40 FEFFFFEB 		bl	CyU3PUsbSetDesc
 5822 3a44 08000BE5 		str	r0, [fp, #-8]
1982:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5823              		.loc 1 1982 0
 5824 3a48 08301BE5 		ldr	r3, [fp, #-8]
 5825 3a4c 000053E3 		cmp	r3, #0
 5826 3a50 0100000A 		beq	.L288
1983:../cyfxslfifosync.c ****     {
1984:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "USB set string descriptor failed, Error code = %d\n", apiRetStatus);
1985:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5827              		.loc 1 1985 0
 5828 3a54 08001BE5 		ldr	r0, [fp, #-8]
 5829 3a58 FEFFFFEB 		bl	CyFxAppErrorHandler
 5830              	.L288:
1986:../cyfxslfifosync.c ****     }
1987:../cyfxslfifosync.c **** 
1988:../cyfxslfifosync.c ****     /* Connect the USB Pins with super speed operation enabled. */
1989:../cyfxslfifosync.c ****     apiRetStatus = CyU3PConnectState(CyTrue, CyTrue);
 5831              		.loc 1 1989 0
 5832 3a5c 0100A0E3 		mov	r0, #1
 5833 3a60 0110A0E3 		mov	r1, #1
 5834 3a64 FEFFFFEB 		bl	CyU3PConnectState
 5835 3a68 08000BE5 		str	r0, [fp, #-8]
1990:../cyfxslfifosync.c ****     if (apiRetStatus != CY_U3P_SUCCESS)
 5836              		.loc 1 1990 0
 5837 3a6c 08301BE5 		ldr	r3, [fp, #-8]
 5838 3a70 000053E3 		cmp	r3, #0
 5839 3a74 0100000A 		beq	.L273
1991:../cyfxslfifosync.c ****     {
1992:../cyfxslfifosync.c ****         //CyU3PDebugPrint (4, "USB Connect failed, Error code = %d\n", apiRetStatus);
1993:../cyfxslfifosync.c ****         CyFxAppErrorHandler(apiRetStatus);
 5840              		.loc 1 1993 0
 5841 3a78 08001BE5 		ldr	r0, [fp, #-8]
 5842 3a7c FEFFFFEB 		bl	CyFxAppErrorHandler
 5843              	.L273:
1994:../cyfxslfifosync.c ****     }
1995:../cyfxslfifosync.c **** }
 5844              		.loc 1 1995 0
 5845 3a80 04D04BE2 		sub	sp, fp, #4
 5846              		@ sp needed
 5847 3a84 0088BDE8 		ldmfd	sp!, {fp, pc}
 5848              	.L291:
 5849              		.align	2
 5850              	.L290:
 5851 3a88 00000000 		.word	CyFxGpifConfig
 5852 3a8c 03010000 		.word	259
 5853 3a90 00000000 		.word	gpif_error_cb
 5854 3a94 FFFF0000 		.word	65535
 5855 3a98 00000000 		.word	CyFxSlFifoApplnUSBSetupCB
 5856 3a9c 00000000 		.word	CyFxSlFifoApplnUSBEventCB
 5857 3aa0 00000000 		.word	CyFxApplnLPMRqtCB
 5858 3aa4 00000000 		.word	CyFxUSB30DeviceDscr
 5859 3aa8 00000000 		.word	CyFxUSB20DeviceDscr
 5860 3aac 00000000 		.word	CyFxUSBBOSDscr
 5861 3ab0 00000000 		.word	CyFxUSBDeviceQualDscr
 5862 3ab4 00000000 		.word	CyFxUSBSSConfigDscr
 5863 3ab8 00000000 		.word	CyFxUSBHSConfigDscr
 5864 3abc 00000000 		.word	CyFxUSBFSConfigDscr
 5865 3ac0 00000000 		.word	CyFxUSBStringLangIDDscr
 5866 3ac4 00000000 		.word	CyFxUSBManufactureDscr
 5867 3ac8 00000000 		.word	CyFxUSBProductDscr
 5868              		.cfi_endproc
 5869              	.LFE23:
 5871              		.align	2
 5872              		.global	FPGA_config_thread
 5874              	FPGA_config_thread:
 5875              	.LFB24:
1996:../cyfxslfifosync.c **** 
1997:../cyfxslfifosync.c **** void
1998:../cyfxslfifosync.c **** FPGA_config_thread(uint32_t input)
1999:../cyfxslfifosync.c **** {
 5876              		.loc 1 1999 0
 5877              		.cfi_startproc
 5878              		@ args = 0, pretend = 0, frame = 16
 5879              		@ frame_needed = 1, uses_anonymous_args = 0
 5880 3acc 00482DE9 		stmfd	sp!, {fp, lr}
 5881              	.LCFI48:
 5882              		.cfi_def_cfa_offset 8
 5883              		.cfi_offset 11, -8
 5884              		.cfi_offset 14, -4
 5885 3ad0 04B08DE2 		add	fp, sp, #4
 5886              	.LCFI49:
 5887              		.cfi_def_cfa 11, 4
 5888 3ad4 10D04DE2 		sub	sp, sp, #16
 5889 3ad8 10000BE5 		str	r0, [fp, #-16]
2000:../cyfxslfifosync.c **** 	CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 5890              		.loc 1 2000 0
 5891 3adc 0030A0E3 		mov	r3, #0
 5892 3ae0 08300BE5 		str	r3, [fp, #-8]
2001:../cyfxslfifosync.c **** 
2002:../cyfxslfifosync.c **** 	flash_page = 0;
 5893              		.loc 1 2002 0
 5894 3ae4 04319FE5 		ldr	r3, .L297
 5895 3ae8 0020A0E3 		mov	r2, #0
 5896 3aec 002083E5 		str	r2, [r3]
2003:../cyfxslfifosync.c **** 
2004:../cyfxslfifosync.c **** 	Set_LED_mode (0, LED_MODE_ON);
 5897              		.loc 1 2004 0
 5898 3af0 0000A0E3 		mov	r0, #0
 5899 3af4 0110A0E3 		mov	r1, #1
 5900 3af8 FEFFFFEB 		bl	Set_LED_mode
2005:../cyfxslfifosync.c **** 	FPGA_config_thread_runnning = 1;
 5901              		.loc 1 2005 0
 5902 3afc F0309FE5 		ldr	r3, .L297+4
 5903 3b00 0120A0E3 		mov	r2, #1
 5904 3b04 0020C3E5 		strb	r2, [r3]
2006:../cyfxslfifosync.c **** 
2007:../cyfxslfifosync.c **** 	for (fpga_byte = 0; fpga_byte < fpga_bitstream_size; fpga_byte++)
 5905              		.loc 1 2007 0
 5906 3b08 E8309FE5 		ldr	r3, .L297+8
 5907 3b0c 0020A0E3 		mov	r2, #0
 5908 3b10 002083E5 		str	r2, [r3]
 5909 3b14 270000EA 		b	.L293
 5910              	.L296:
2008:../cyfxslfifosync.c **** 	{
2009:../cyfxslfifosync.c **** 		if(fpga_byte % FLASH_PAGE_SIZE == 0)
 5911              		.loc 1 2009 0
 5912 3b18 D8309FE5 		ldr	r3, .L297+8
 5913 3b1c 003093E5 		ldr	r3, [r3]
 5914 3b20 FF3003E2 		and	r3, r3, #255
 5915 3b24 000053E3 		cmp	r3, #0
 5916 3b28 1D00001A 		bne	.L294
2010:../cyfxslfifosync.c **** 		{
2011:../cyfxslfifosync.c **** 			Reconfigure_SPI_for_Flash ();
 5917              		.loc 1 2011 0
 5918 3b2c FEFFFFEB 		bl	Reconfigure_SPI_for_Flash
2012:../cyfxslfifosync.c **** 			status = FlashSpiTransfer((FLASH_LAYOUT_FPGA_BITSTREAM * FLASH_SECTOR_SIZE/FLASH_PAGE_SIZE) + fl
 5919              		.loc 1 2012 0
 5920 3b30 B8309FE5 		ldr	r3, .L297
 5921 3b34 003093E5 		ldr	r3, [r3]
 5922 3b38 0338A0E1 		mov	r3, r3, asl #16
 5923 3b3c 2338A0E1 		mov	r3, r3, lsr #16
 5924 3b40 0300A0E1 		mov	r0, r3
 5925 3b44 011CA0E3 		mov	r1, #256
 5926 3b48 AC209FE5 		ldr	r2, .L297+12
 5927 3b4c 0130A0E3 		mov	r3, #1
 5928 3b50 FEFFFFEB 		bl	FlashSpiTransfer
 5929 3b54 08000BE5 		str	r0, [fp, #-8]
2013:../cyfxslfifosync.c **** 
2014:../cyfxslfifosync.c **** 			flash_page_data_cnt = fpga_bitstream_size - fpga_byte;
 5930              		.loc 1 2014 0
 5931 3b58 A0309FE5 		ldr	r3, .L297+16
 5932 3b5c 002093E5 		ldr	r2, [r3]
 5933 3b60 90309FE5 		ldr	r3, .L297+8
 5934 3b64 003093E5 		ldr	r3, [r3]
 5935 3b68 022063E0 		rsb	r2, r3, r2
 5936 3b6c 90309FE5 		ldr	r3, .L297+20
 5937 3b70 002083E5 		str	r2, [r3]
2015:../cyfxslfifosync.c **** 
2016:../cyfxslfifosync.c **** 			if (flash_page_data_cnt > FLASH_PAGE_SIZE)
 5938              		.loc 1 2016 0
 5939 3b74 88309FE5 		ldr	r3, .L297+20
 5940 3b78 003093E5 		ldr	r3, [r3]
 5941 3b7c 010C53E3 		cmp	r3, #256
 5942 3b80 0200009A 		bls	.L295
2017:../cyfxslfifosync.c **** 				flash_page_data_cnt = FLASH_PAGE_SIZE;
 5943              		.loc 1 2017 0
 5944 3b84 78309FE5 		ldr	r3, .L297+20
 5945 3b88 012CA0E3 		mov	r2, #256
 5946 3b8c 002083E5 		str	r2, [r3]
 5947              	.L295:
2018:../cyfxslfifosync.c **** 
2019:../cyfxslfifosync.c **** 			//Configure_FPGA (flash_page_data, flash_page, flash_page_data_cnt);
2020:../cyfxslfifosync.c **** 			flash_page++;
 5948              		.loc 1 2020 0
 5949 3b90 58309FE5 		ldr	r3, .L297
 5950 3b94 003093E5 		ldr	r3, [r3]
 5951 3b98 012083E2 		add	r2, r3, #1
 5952 3b9c 4C309FE5 		ldr	r3, .L297
 5953 3ba0 002083E5 		str	r2, [r3]
 5954              	.L294:
2007:../cyfxslfifosync.c **** 	{
 5955              		.loc 1 2007 0
 5956 3ba4 4C309FE5 		ldr	r3, .L297+8
 5957 3ba8 003093E5 		ldr	r3, [r3]
 5958 3bac 012083E2 		add	r2, r3, #1
 5959 3bb0 40309FE5 		ldr	r3, .L297+8
 5960 3bb4 002083E5 		str	r2, [r3]
 5961              	.L293:
2007:../cyfxslfifosync.c **** 	{
 5962              		.loc 1 2007 0 is_stmt 0 discriminator 1
 5963 3bb8 38309FE5 		ldr	r3, .L297+8
 5964 3bbc 002093E5 		ldr	r2, [r3]
 5965 3bc0 38309FE5 		ldr	r3, .L297+16
 5966 3bc4 003093E5 		ldr	r3, [r3]
 5967 3bc8 030052E1 		cmp	r2, r3
 5968 3bcc D1FFFF3A 		bcc	.L296
2021:../cyfxslfifosync.c **** 		}
2022:../cyfxslfifosync.c **** 	}
2023:../cyfxslfifosync.c **** 
2024:../cyfxslfifosync.c **** 	//Configure_FPGA (flash_page_data, flash_page, 0);
2025:../cyfxslfifosync.c **** 	Set_LED_mode (0, LED_MODE_BLINK1);
 5969              		.loc 1 2025 0 is_stmt 1
 5970 3bd0 0000A0E3 		mov	r0, #0
 5971 3bd4 0310A0E3 		mov	r1, #3
 5972 3bd8 FEFFFFEB 		bl	Set_LED_mode
2026:../cyfxslfifosync.c **** 	FPGA_config_thread_runnning = 0;
 5973              		.loc 1 2026 0
 5974 3bdc 10309FE5 		ldr	r3, .L297+4
 5975 3be0 0020A0E3 		mov	r2, #0
 5976 3be4 0020C3E5 		strb	r2, [r3]
2027:../cyfxslfifosync.c **** }
 5977              		.loc 1 2027 0
 5978 3be8 04D04BE2 		sub	sp, fp, #4
 5979              		@ sp needed
 5980 3bec 0088BDE8 		ldmfd	sp!, {fp, pc}
 5981              	.L298:
 5982              		.align	2
 5983              	.L297:
 5984 3bf0 00000000 		.word	flash_page
 5985 3bf4 00000000 		.word	FPGA_config_thread_runnning
 5986 3bf8 00000000 		.word	fpga_byte
 5987 3bfc 00000000 		.word	flash_page_data
 5988 3c00 00000000 		.word	fpga_bitstream_size
 5989 3c04 00000000 		.word	flash_page_data_cnt
 5990              		.cfi_endproc
 5991              	.LFE24:
 5993              		.align	2
 5994              		.global	SlFifoAppThread_Entry
 5996              	SlFifoAppThread_Entry:
 5997              	.LFB25:
2028:../cyfxslfifosync.c **** 
2029:../cyfxslfifosync.c **** /* Entry function for the slFifoAppThread. */
2030:../cyfxslfifosync.c **** void
2031:../cyfxslfifosync.c **** SlFifoAppThread_Entry (
2032:../cyfxslfifosync.c ****         uint32_t input)
2033:../cyfxslfifosync.c **** {
 5998              		.loc 1 2033 0
 5999              		.cfi_startproc
 6000              		@ args = 0, pretend = 0, frame = 48
 6001              		@ frame_needed = 1, uses_anonymous_args = 0
 6002 3c08 00482DE9 		stmfd	sp!, {fp, lr}
 6003              	.LCFI50:
 6004              		.cfi_def_cfa_offset 8
 6005              		.cfi_offset 11, -8
 6006              		.cfi_offset 14, -4
 6007 3c0c 04B08DE2 		add	fp, sp, #4
 6008              	.LCFI51:
 6009              		.cfi_def_cfa 11, 4
 6010 3c10 30D04DE2 		sub	sp, sp, #48
 6011 3c14 30000BE5 		str	r0, [fp, #-48]
2034:../cyfxslfifosync.c **** 	CyU3PDmaState_t state;
2035:../cyfxslfifosync.c **** 	uint32_t prodXferCount, consXferCount, count_new, count_old;
2036:../cyfxslfifosync.c **** 	uint8_t sckIndex;
2037:../cyfxslfifosync.c **** 
2038:../cyfxslfifosync.c **** 	CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 6012              		.loc 1 2038 0
 6013 3c18 0030A0E3 		mov	r3, #0
 6014 3c1c 0C300BE5 		str	r3, [fp, #-12]
2039:../cyfxslfifosync.c **** 
2040:../cyfxslfifosync.c **** 	unsigned char LED, LED_GPIO;
2041:../cyfxslfifosync.c **** 	CyBool_t LED_GPIO_state;
2042:../cyfxslfifosync.c **** 
2043:../cyfxslfifosync.c ****     CyFxI2cInit ();
 6015              		.loc 1 2043 0
 6016 3c20 FEFFFFEB 		bl	CyFxI2cInit
2044:../cyfxslfifosync.c ****     CyFxSpiInit (8);//Reconfigure_SPI_for_LMS();
 6017              		.loc 1 2044 0
 6018 3c24 0800A0E3 		mov	r0, #8
 6019 3c28 FEFFFFEB 		bl	CyFxSpiInit
2045:../cyfxslfifosync.c **** 
2046:../cyfxslfifosync.c ****     /* Initialize the slave FIFO application */
2047:../cyfxslfifosync.c ****     CyFxSlFifoApplnInit();
 6020              		.loc 1 2047 0
 6021 3c2c FEFFFFEB 		bl	CyFxSlFifoApplnInit
2048:../cyfxslfifosync.c **** 
2049:../cyfxslfifosync.c ****     wiper_pos[0] = wiper_pos[1] = 0x80; //default dig pot wiper values
 6022              		.loc 1 2049 0
 6023 3c30 70329FE5 		ldr	r3, .L321
 6024 3c34 8020A0E3 		mov	r2, #128
 6025 3c38 B220C3E1 		strh	r2, [r3, #2]	@ movhi
 6026 3c3c 64329FE5 		ldr	r3, .L321
 6027 3c40 B220D3E1 		ldrh	r2, [r3, #2]
 6028 3c44 5C329FE5 		ldr	r3, .L321
 6029 3c48 B020C3E1 		strh	r2, [r3]	@ movhi
2050:../cyfxslfifosync.c **** 
2051:../cyfxslfifosync.c **** 	//write default TCXO DAC value
2052:../cyfxslfifosync.c **** 	Control_TCXO_ADF (0, NULL); //set ADF4002 CP to three-state
 6030              		.loc 1 2052 0
 6031 3c4c 0000A0E3 		mov	r0, #0
 6032 3c50 0010A0E3 		mov	r1, #0
 6033 3c54 FEFFFFEB 		bl	Control_TCXO_ADF
2053:../cyfxslfifosync.c **** 	dac_val = 124;//default DAV value
 6034              		.loc 1 2053 0
 6035 3c58 4C329FE5 		ldr	r3, .L321+4
 6036 3c5c 7C20A0E3 		mov	r2, #124
 6037 3c60 0020C3E5 		strb	r2, [r3]
2054:../cyfxslfifosync.c **** 	Control_TCXO_DAC (1, &dac_val); //enable DAC output, set new val
 6038              		.loc 1 2054 0
 6039 3c64 0100A0E3 		mov	r0, #1
 6040 3c68 3C129FE5 		ldr	r1, .L321+4
 6041 3c6c FEFFFFEB 		bl	Control_TCXO_DAC
2055:../cyfxslfifosync.c **** 
2056:../cyfxslfifosync.c **** 	Configure_LM75 (); //set LM75 configuration
 6042              		.loc 1 2056 0
 6043 3c70 FEFFFFEB 		bl	Configure_LM75
2057:../cyfxslfifosync.c **** 
2058:../cyfxslfifosync.c ****     Set_LED_mode (0, LED_MODE_BLINK1); //blink
 6044              		.loc 1 2058 0
 6045 3c74 0000A0E3 		mov	r0, #0
 6046 3c78 0310A0E3 		mov	r1, #3
 6047 3c7c FEFFFFEB 		bl	Set_LED_mode
2059:../cyfxslfifosync.c ****     Set_LED_mode (1, LED_MODE_OFF); //usb transfer
 6048              		.loc 1 2059 0
 6049 3c80 0100A0E3 		mov	r0, #1
 6050 3c84 0010A0E3 		mov	r1, #0
 6051 3c88 FEFFFFEB 		bl	Set_LED_mode
2060:../cyfxslfifosync.c ****     Set_LED_mode (2, LED_MODE_WINK); //control endpoint
 6052              		.loc 1 2060 0
 6053 3c8c 0200A0E3 		mov	r0, #2
 6054 3c90 0210A0E3 		mov	r1, #2
 6055 3c94 FEFFFFEB 		bl	Set_LED_mode
 6056              	.L319:
2061:../cyfxslfifosync.c **** 
2062:../cyfxslfifosync.c ****     for (;;)
2063:../cyfxslfifosync.c ****     {
2064:../cyfxslfifosync.c ****         CyU3PThreadSleep (10);
 6057              		.loc 1 2064 0
 6058 3c98 0A00A0E3 		mov	r0, #10
 6059 3c9c FEFFFFEB 		bl	_tx_thread_sleep
2065:../cyfxslfifosync.c **** 
2066:../cyfxslfifosync.c ****     	for (LED = 0; LED < 3; LED++)
 6060              		.loc 1 2066 0
 6061 3ca0 0030A0E3 		mov	r3, #0
 6062 3ca4 05304BE5 		strb	r3, [fp, #-5]
 6063 3ca8 620000EA 		b	.L300
 6064              	.L317:
2067:../cyfxslfifosync.c ****     	{
2068:../cyfxslfifosync.c **** 
2069:../cyfxslfifosync.c ****         	switch(LED)
 6065              		.loc 1 2069 0
 6066 3cac 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 6067 3cb0 010053E3 		cmp	r3, #1
 6068 3cb4 0400000A 		beq	.L302
 6069 3cb8 020053E3 		cmp	r3, #2
 6070 3cbc 0500000A 		beq	.L303
2070:../cyfxslfifosync.c ****         	{
2071:../cyfxslfifosync.c ****         		default:
2072:../cyfxslfifosync.c ****         		case 0:
2073:../cyfxslfifosync.c ****         			LED_GPIO = FX3_LED0;
 6071              		.loc 1 2073 0
 6072 3cc0 2130A0E3 		mov	r3, #33
 6073 3cc4 06304BE5 		strb	r3, [fp, #-6]
2074:../cyfxslfifosync.c ****         			break;
 6074              		.loc 1 2074 0
 6075 3cc8 050000EA 		b	.L304
 6076              	.L302:
2075:../cyfxslfifosync.c ****         		case 1:
2076:../cyfxslfifosync.c ****         			LED_GPIO = FX3_LED1;
 6077              		.loc 1 2076 0
 6078 3ccc 2230A0E3 		mov	r3, #34
 6079 3cd0 06304BE5 		strb	r3, [fp, #-6]
2077:../cyfxslfifosync.c ****         			break;
 6080              		.loc 1 2077 0
 6081 3cd4 020000EA 		b	.L304
 6082              	.L303:
2078:../cyfxslfifosync.c ****         		case 2:
2079:../cyfxslfifosync.c ****         			LED_GPIO = FX3_LED2;
 6083              		.loc 1 2079 0
 6084 3cd8 2330A0E3 		mov	r3, #35
 6085 3cdc 06304BE5 		strb	r3, [fp, #-6]
2080:../cyfxslfifosync.c ****         			break;
 6086              		.loc 1 2080 0
 6087 3ce0 0000A0E1 		mov	r0, r0	@ nop
 6088              	.L304:
2081:../cyfxslfifosync.c ****         	}
2082:../cyfxslfifosync.c **** 
2083:../cyfxslfifosync.c ****     		CyU3PGpioGetValue (LED_GPIO, &LED_GPIO_state);
 6089              		.loc 1 2083 0
 6090 3ce4 06205BE5 		ldrb	r2, [fp, #-6]	@ zero_extendqisi2
 6091 3ce8 28304BE2 		sub	r3, fp, #40
 6092 3cec 0200A0E1 		mov	r0, r2
 6093 3cf0 0310A0E1 		mov	r1, r3
 6094 3cf4 FEFFFFEB 		bl	CyU3PGpioGetValue
2084:../cyfxslfifosync.c **** 
2085:../cyfxslfifosync.c **** 			if (LED_mode[LED] != LED_MODE_OFF)
 6095              		.loc 1 2085 0
 6096 3cf8 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 6097 3cfc AC219FE5 		ldr	r2, .L321+8
 6098 3d00 0330D2E7 		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 6099 3d04 000053E3 		cmp	r3, #0
 6100 3d08 4700000A 		beq	.L305
2086:../cyfxslfifosync.c **** 			{
2087:../cyfxslfifosync.c **** 				if (LED_timeout[LED]) LED_timeout[LED]--;
 6101              		.loc 1 2087 0
 6102 3d0c 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 6103 3d10 9C219FE5 		ldr	r2, .L321+12
 6104 3d14 0330D2E7 		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 6105 3d18 000053E3 		cmp	r3, #0
 6106 3d1c 0600000A 		beq	.L306
 6107              		.loc 1 2087 0 is_stmt 0 discriminator 1
 6108 3d20 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 6109 3d24 88219FE5 		ldr	r2, .L321+12
 6110 3d28 0320D2E7 		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 6111 3d2c 012042E2 		sub	r2, r2, #1
 6112 3d30 FF1002E2 		and	r1, r2, #255
 6113 3d34 78219FE5 		ldr	r2, .L321+12
 6114 3d38 0310C2E7 		strb	r1, [r2, r3]
 6115              	.L306:
2088:../cyfxslfifosync.c **** 
2089:../cyfxslfifosync.c **** 				if(LED_timeout[LED] == 0)
 6116              		.loc 1 2089 0 is_stmt 1
 6117 3d3c 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 6118 3d40 6C219FE5 		ldr	r2, .L321+12
 6119 3d44 0330D2E7 		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 6120 3d48 000053E3 		cmp	r3, #0
 6121 3d4c 3600001A 		bne	.L305
2090:../cyfxslfifosync.c **** 				{
2091:../cyfxslfifosync.c **** 					switch(LED_mode[LED])
 6122              		.loc 1 2091 0
 6123 3d50 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 6124 3d54 54219FE5 		ldr	r2, .L321+8
 6125 3d58 0330D2E7 		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 6126 3d5c 013043E2 		sub	r3, r3, #1
 6127 3d60 030053E3 		cmp	r3, #3
 6128 3d64 03F19F97 		ldrls	pc, [pc, r3, asl #2]
 6129 3d68 2E0000EA 		b	.L320
 6130              	.L309:
 6131 3d6c 283E0000 		.word	.L320
 6132 3d70 7C3D0000 		.word	.L310
 6133 3d74 A03D0000 		.word	.L311
 6134 3d78 E43D0000 		.word	.L312
 6135              	.L310:
2092:../cyfxslfifosync.c **** 					{
2093:../cyfxslfifosync.c **** 						case LED_MODE_WINK:
2094:../cyfxslfifosync.c **** 							CyU3PGpioSimpleSetValue (LED_GPIO, CyFalse); //turn off led
 6136              		.loc 1 2094 0
 6137 3d7c 06305BE5 		ldrb	r3, [fp, #-6]	@ zero_extendqisi2
 6138 3d80 0300A0E1 		mov	r0, r3
 6139 3d84 0010A0E3 		mov	r1, #0
 6140 3d88 FEFFFFEB 		bl	CyU3PGpioSimpleSetValue
2095:../cyfxslfifosync.c **** 
2096:../cyfxslfifosync.c **** 							LED_mode[LED]= LED_MODE_OFF;
 6141              		.loc 1 2096 0
 6142 3d8c 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 6143 3d90 18219FE5 		ldr	r2, .L321+8
 6144 3d94 0010A0E3 		mov	r1, #0
 6145 3d98 0310C2E7 		strb	r1, [r2, r3]
2097:../cyfxslfifosync.c **** 							break;
 6146              		.loc 1 2097 0
 6147 3d9c 220000EA 		b	.L305
 6148              	.L311:
2098:../cyfxslfifosync.c **** 
2099:../cyfxslfifosync.c **** 						case LED_MODE_BLINK1:
2100:../cyfxslfifosync.c **** 							if(LED_GPIO_state) CyU3PGpioSimpleSetValue (LED_GPIO, CyFalse); //turn off led
 6149              		.loc 1 2100 0
 6150 3da0 28301BE5 		ldr	r3, [fp, #-40]
 6151 3da4 000053E3 		cmp	r3, #0
 6152 3da8 0400000A 		beq	.L313
 6153              		.loc 1 2100 0 is_stmt 0 discriminator 1
 6154 3dac 06305BE5 		ldrb	r3, [fp, #-6]	@ zero_extendqisi2
 6155 3db0 0300A0E1 		mov	r0, r3
 6156 3db4 0010A0E3 		mov	r1, #0
 6157 3db8 FEFFFFEB 		bl	CyU3PGpioSimpleSetValue
 6158 3dbc 030000EA 		b	.L314
 6159              	.L313:
2101:../cyfxslfifosync.c **** 							else CyU3PGpioSimpleSetValue (LED_GPIO, CyTrue); //turn on led
 6160              		.loc 1 2101 0 is_stmt 1
 6161 3dc0 06305BE5 		ldrb	r3, [fp, #-6]	@ zero_extendqisi2
 6162 3dc4 0300A0E1 		mov	r0, r3
 6163 3dc8 0110A0E3 		mov	r1, #1
 6164 3dcc FEFFFFEB 		bl	CyU3PGpioSimpleSetValue
 6165              	.L314:
2102:../cyfxslfifosync.c **** 
2103:../cyfxslfifosync.c **** 							LED_timeout[LED] = LED_BLINK1_PERIOD;
 6166              		.loc 1 2103 0
 6167 3dd0 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 6168 3dd4 D8209FE5 		ldr	r2, .L321+12
 6169 3dd8 1410A0E3 		mov	r1, #20
 6170 3ddc 0310C2E7 		strb	r1, [r2, r3]
2104:../cyfxslfifosync.c **** 							break;
 6171              		.loc 1 2104 0
 6172 3de0 110000EA 		b	.L305
 6173              	.L312:
2105:../cyfxslfifosync.c **** 
2106:../cyfxslfifosync.c **** 						case LED_MODE_BLINK2:
2107:../cyfxslfifosync.c **** 							if(LED_GPIO_state) CyU3PGpioSimpleSetValue (LED_GPIO, CyFalse); //turn off led
 6174              		.loc 1 2107 0
 6175 3de4 28301BE5 		ldr	r3, [fp, #-40]
 6176 3de8 000053E3 		cmp	r3, #0
 6177 3dec 0400000A 		beq	.L315
 6178              		.loc 1 2107 0 is_stmt 0 discriminator 1
 6179 3df0 06305BE5 		ldrb	r3, [fp, #-6]	@ zero_extendqisi2
 6180 3df4 0300A0E1 		mov	r0, r3
 6181 3df8 0010A0E3 		mov	r1, #0
 6182 3dfc FEFFFFEB 		bl	CyU3PGpioSimpleSetValue
 6183 3e00 030000EA 		b	.L316
 6184              	.L315:
2108:../cyfxslfifosync.c **** 							else CyU3PGpioSimpleSetValue (LED_GPIO, CyTrue); //turn on led
 6185              		.loc 1 2108 0 is_stmt 1
 6186 3e04 06305BE5 		ldrb	r3, [fp, #-6]	@ zero_extendqisi2
 6187 3e08 0300A0E1 		mov	r0, r3
 6188 3e0c 0110A0E3 		mov	r1, #1
 6189 3e10 FEFFFFEB 		bl	CyU3PGpioSimpleSetValue
 6190              	.L316:
2109:../cyfxslfifosync.c **** 
2110:../cyfxslfifosync.c **** 							LED_timeout[LED] = LED_BLINK2_PERIOD;
 6191              		.loc 1 2110 0
 6192 3e14 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 6193 3e18 94209FE5 		ldr	r2, .L321+12
 6194 3e1c 0A10A0E3 		mov	r1, #10
 6195 3e20 0310C2E7 		strb	r1, [r2, r3]
2111:../cyfxslfifosync.c **** 							break;
 6196              		.loc 1 2111 0
 6197 3e24 000000EA 		b	.L305
 6198              	.L320:
2112:../cyfxslfifosync.c **** 
2113:../cyfxslfifosync.c **** 						case LED_MODE_ON:
2114:../cyfxslfifosync.c **** 							break;
2115:../cyfxslfifosync.c **** 
2116:../cyfxslfifosync.c **** 						default:
2117:../cyfxslfifosync.c **** 						case LED_MODE_OFF:
2118:../cyfxslfifosync.c **** 							break;
 6199              		.loc 1 2118 0
 6200 3e28 0000A0E1 		mov	r0, r0	@ nop
 6201              	.L305:
2066:../cyfxslfifosync.c ****     	{
 6202              		.loc 1 2066 0
 6203 3e2c 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 6204 3e30 013083E2 		add	r3, r3, #1
 6205 3e34 05304BE5 		strb	r3, [fp, #-5]
 6206              	.L300:
2066:../cyfxslfifosync.c ****     	{
 6207              		.loc 1 2066 0 is_stmt 0 discriminator 1
 6208 3e38 05305BE5 		ldrb	r3, [fp, #-5]	@ zero_extendqisi2
 6209 3e3c 020053E3 		cmp	r3, #2
 6210 3e40 99FFFF9A 		bls	.L317
2119:../cyfxslfifosync.c **** 					}
2120:../cyfxslfifosync.c **** 				}
2121:../cyfxslfifosync.c **** 			}
2122:../cyfxslfifosync.c **** 
2123:../cyfxslfifosync.c ****     	}
2124:../cyfxslfifosync.c **** 
2125:../cyfxslfifosync.c ****     	count_old = prodXferCount;
 6211              		.loc 1 2125 0 is_stmt 1
 6212 3e44 20301BE5 		ldr	r3, [fp, #-32]
 6213 3e48 10300BE5 		str	r3, [fp, #-16]
2126:../cyfxslfifosync.c ****     	sckIndex = 0;
 6214              		.loc 1 2126 0
 6215 3e4c 0030A0E3 		mov	r3, #0
 6216 3e50 11304BE5 		strb	r3, [fp, #-17]
2127:../cyfxslfifosync.c ****         CyU3PDmaChannelGetStatus(&glChHandleSlFifoUtoP, &state, &prodXferCount, &consXferCount);
 6217              		.loc 1 2127 0
 6218 3e54 19104BE2 		sub	r1, fp, #25
 6219 3e58 20204BE2 		sub	r2, fp, #32
 6220 3e5c 24304BE2 		sub	r3, fp, #36
 6221 3e60 50009FE5 		ldr	r0, .L321+16
 6222 3e64 FEFFFFEB 		bl	CyU3PDmaChannelGetStatus
2128:../cyfxslfifosync.c ****         CyU3PDmaChannelGetStatus(&glChHandleSlFifoPtoU, &state, &prodXferCount, &consXferCount);
 6223              		.loc 1 2128 0
 6224 3e68 19104BE2 		sub	r1, fp, #25
 6225 3e6c 20204BE2 		sub	r2, fp, #32
 6226 3e70 24304BE2 		sub	r3, fp, #36
 6227 3e74 40009FE5 		ldr	r0, .L321+20
 6228 3e78 FEFFFFEB 		bl	CyU3PDmaChannelGetStatus
2129:../cyfxslfifosync.c ****         count_new = prodXferCount;
 6229              		.loc 1 2129 0
 6230 3e7c 20301BE5 		ldr	r3, [fp, #-32]
 6231 3e80 18300BE5 		str	r3, [fp, #-24]
2130:../cyfxslfifosync.c **** 
2131:../cyfxslfifosync.c ****         if (count_new != count_old) Set_LED_mode (1, LED_MODE_WINK);
 6232              		.loc 1 2131 0
 6233 3e84 18201BE5 		ldr	r2, [fp, #-24]
 6234 3e88 10301BE5 		ldr	r3, [fp, #-16]
 6235 3e8c 030052E1 		cmp	r2, r3
 6236 3e90 0300000A 		beq	.L318
 6237              		.loc 1 2131 0 is_stmt 0 discriminator 1
 6238 3e94 0100A0E3 		mov	r0, #1
 6239 3e98 0210A0E3 		mov	r1, #2
 6240 3e9c FEFFFFEB 		bl	Set_LED_mode
2132:../cyfxslfifosync.c ****     }
 6241              		.loc 1 2132 0 is_stmt 1 discriminator 1
 6242 3ea0 7CFFFFEA 		b	.L319
 6243              	.L318:
 6244              		.loc 1 2132 0 is_stmt 0
 6245 3ea4 7BFFFFEA 		b	.L319
 6246              	.L322:
 6247              		.align	2
 6248              	.L321:
 6249 3ea8 00000000 		.word	wiper_pos
 6250 3eac 00000000 		.word	dac_val
 6251 3eb0 00000000 		.word	LED_mode
 6252 3eb4 00000000 		.word	LED_timeout
 6253 3eb8 00000000 		.word	glChHandleSlFifoUtoP
 6254 3ebc 00000000 		.word	glChHandleSlFifoPtoU
 6255              		.cfi_endproc
 6256              	.LFE25:
 6258              		.section	.rodata
 6259              		.align	2
 6260              	.LC0:
 6261 001c 32313A53 		.ascii	"21:Slave_FIFO_sync\000"
 6261      6C617665 
 6261      5F464946 
 6261      4F5F7379 
 6261      6E6300
 6262              		.text
 6263              		.align	2
 6264              		.global	CyFxApplicationDefine
 6266              	CyFxApplicationDefine:
 6267              	.LFB26:
2133:../cyfxslfifosync.c **** }
2134:../cyfxslfifosync.c **** 
2135:../cyfxslfifosync.c **** /* Application define function which creates the threads. */
2136:../cyfxslfifosync.c **** void
2137:../cyfxslfifosync.c **** CyFxApplicationDefine (
2138:../cyfxslfifosync.c ****         void)
2139:../cyfxslfifosync.c **** {
 6268              		.loc 1 2139 0 is_stmt 1
 6269              		.cfi_startproc
 6270              		@ args = 0, pretend = 0, frame = 8
 6271              		@ frame_needed = 1, uses_anonymous_args = 0
 6272 3ec0 00482DE9 		stmfd	sp!, {fp, lr}
 6273              	.LCFI52:
 6274              		.cfi_def_cfa_offset 8
 6275              		.cfi_offset 11, -8
 6276              		.cfi_offset 14, -4
 6277 3ec4 04B08DE2 		add	fp, sp, #4
 6278              	.LCFI53:
 6279              		.cfi_def_cfa 11, 4
 6280 3ec8 28D04DE2 		sub	sp, sp, #40
2140:../cyfxslfifosync.c ****     void *ptr = NULL;
 6281              		.loc 1 2140 0
 6282 3ecc 0030A0E3 		mov	r3, #0
 6283 3ed0 08300BE5 		str	r3, [fp, #-8]
2141:../cyfxslfifosync.c ****     uint32_t retThrdCreate = CY_U3P_SUCCESS;
 6284              		.loc 1 2141 0
 6285 3ed4 0030A0E3 		mov	r3, #0
 6286 3ed8 0C300BE5 		str	r3, [fp, #-12]
2142:../cyfxslfifosync.c **** 
2143:../cyfxslfifosync.c ****     /* Allocate the memory for the thread */
2144:../cyfxslfifosync.c ****     ptr = CyU3PMemAlloc (CY_FX_SLFIFO_THREAD_STACK);
 6287              		.loc 1 2144 0
 6288 3edc 010BA0E3 		mov	r0, #1024
 6289 3ee0 FEFFFFEB 		bl	CyU3PMemAlloc
 6290 3ee4 08000BE5 		str	r0, [fp, #-8]
2145:../cyfxslfifosync.c **** 
2146:../cyfxslfifosync.c ****     /* Create the thread for the application */
2147:../cyfxslfifosync.c ****     retThrdCreate = CyU3PThreadCreate (&slFifoAppThread,           /* Slave FIFO app thread structu
 6291              		.loc 1 2147 0
 6292 3ee8 08301BE5 		ldr	r3, [fp, #-8]
 6293 3eec 00308DE5 		str	r3, [sp]
 6294 3ef0 013BA0E3 		mov	r3, #1024
 6295 3ef4 04308DE5 		str	r3, [sp, #4]
 6296 3ef8 0830A0E3 		mov	r3, #8
 6297 3efc 08308DE5 		str	r3, [sp, #8]
 6298 3f00 0830A0E3 		mov	r3, #8
 6299 3f04 0C308DE5 		str	r3, [sp, #12]
 6300 3f08 0030A0E3 		mov	r3, #0
 6301 3f0c 10308DE5 		str	r3, [sp, #16]
 6302 3f10 0130A0E3 		mov	r3, #1
 6303 3f14 14308DE5 		str	r3, [sp, #20]
 6304 3f18 A830A0E3 		mov	r3, #168
 6305 3f1c 18308DE5 		str	r3, [sp, #24]
 6306 3f20 28009FE5 		ldr	r0, .L326
 6307 3f24 28109FE5 		ldr	r1, .L326+4
 6308 3f28 28209FE5 		ldr	r2, .L326+8
 6309 3f2c 0030A0E3 		mov	r3, #0
 6310 3f30 FEFFFFEB 		bl	_txe_thread_create
 6311 3f34 0C000BE5 		str	r0, [fp, #-12]
2148:../cyfxslfifosync.c ****                           "21:Slave_FIFO_sync",                    /* Thread ID and thread name */
2149:../cyfxslfifosync.c ****                           SlFifoAppThread_Entry,                   /* Slave FIFO app thread entry f
2150:../cyfxslfifosync.c ****                           0,                                       /* No input parameter to thread 
2151:../cyfxslfifosync.c ****                           ptr,                                     /* Pointer to the allocated thre
2152:../cyfxslfifosync.c ****                           CY_FX_SLFIFO_THREAD_STACK,               /* App Thread stack size */
2153:../cyfxslfifosync.c ****                           CY_FX_SLFIFO_THREAD_PRIORITY,            /* App Thread priority */
2154:../cyfxslfifosync.c ****                           CY_FX_SLFIFO_THREAD_PRIORITY,            /* App Thread pre-emption thresh
2155:../cyfxslfifosync.c ****                           CYU3P_NO_TIME_SLICE,                     /* No time slice for the applica
2156:../cyfxslfifosync.c ****                           CYU3P_AUTO_START                         /* Start the thread immediately 
2157:../cyfxslfifosync.c ****                           );
2158:../cyfxslfifosync.c **** 
2159:../cyfxslfifosync.c ****     /* Check the return code */
2160:../cyfxslfifosync.c ****     if (retThrdCreate != 0)
 6312              		.loc 1 2160 0
 6313 3f38 0C301BE5 		ldr	r3, [fp, #-12]
 6314 3f3c 000053E3 		cmp	r3, #0
 6315 3f40 0000000A 		beq	.L323
 6316              	.L325:
2161:../cyfxslfifosync.c ****     {
2162:../cyfxslfifosync.c ****         /* Thread Creation failed with the error code retThrdCreate */
2163:../cyfxslfifosync.c **** 
2164:../cyfxslfifosync.c ****         /* Add custom recovery or debug actions here */
2165:../cyfxslfifosync.c **** 
2166:../cyfxslfifosync.c ****         /* Application cannot continue */
2167:../cyfxslfifosync.c ****         /* Loop indefinitely */
2168:../cyfxslfifosync.c ****         while(1);
 6317              		.loc 1 2168 0 discriminator 1
 6318 3f44 FEFFFFEA 		b	.L325
 6319              	.L323:
2169:../cyfxslfifosync.c ****     }
2170:../cyfxslfifosync.c **** }
 6320              		.loc 1 2170 0
 6321 3f48 04D04BE2 		sub	sp, fp, #4
 6322              		@ sp needed
 6323 3f4c 0088BDE8 		ldmfd	sp!, {fp, pc}
 6324              	.L327:
 6325              		.align	2
 6326              	.L326:
 6327 3f50 00000000 		.word	slFifoAppThread
 6328 3f54 1C000000 		.word	.LC0
 6329 3f58 00000000 		.word	SlFifoAppThread_Entry
 6330              		.cfi_endproc
 6331              	.LFE26:
 6333              		.section	.rodata
 6334 002f 00       		.align	2
 6335              	.LC1:
 6336 0030 32323A46 		.ascii	"22:FPGA_Configuration\000"
 6336      5047415F 
 6336      436F6E66 
 6336      69677572 
 6336      6174696F 
 6337 0046 0000     		.text
 6338              		.align	2
 6339              		.global	FPGA_config_thread_start
 6341              	FPGA_config_thread_start:
 6342              	.LFB27:
2171:../cyfxslfifosync.c **** 
2172:../cyfxslfifosync.c **** void
2173:../cyfxslfifosync.c **** FPGA_config_thread_start (
2174:../cyfxslfifosync.c ****         void)
2175:../cyfxslfifosync.c **** {
 6343              		.loc 1 2175 0
 6344              		.cfi_startproc
 6345              		@ args = 0, pretend = 0, frame = 8
 6346              		@ frame_needed = 1, uses_anonymous_args = 0
 6347 3f5c 00482DE9 		stmfd	sp!, {fp, lr}
 6348              	.LCFI54:
 6349              		.cfi_def_cfa_offset 8
 6350              		.cfi_offset 11, -8
 6351              		.cfi_offset 14, -4
 6352 3f60 04B08DE2 		add	fp, sp, #4
 6353              	.LCFI55:
 6354              		.cfi_def_cfa 11, 4
 6355 3f64 28D04DE2 		sub	sp, sp, #40
2176:../cyfxslfifosync.c ****     uint32_t retThrdCreate = CY_U3P_SUCCESS;
 6356              		.loc 1 2176 0
 6357 3f68 0030A0E3 		mov	r3, #0
 6358 3f6c 08300BE5 		str	r3, [fp, #-8]
2177:../cyfxslfifosync.c **** 
2178:../cyfxslfifosync.c ****     if (FPGA_config_thread_ptr != NULL)
 6359              		.loc 1 2178 0
 6360 3f70 A0309FE5 		ldr	r3, .L333
 6361 3f74 003093E5 		ldr	r3, [r3]
 6362 3f78 000053E3 		cmp	r3, #0
 6363 3f7c 0100000A 		beq	.L329
2179:../cyfxslfifosync.c ****     	CyU3PThreadDestroy(&FPGA_config_thread_st);
 6364              		.loc 1 2179 0
 6365 3f80 94009FE5 		ldr	r0, .L333+4
 6366 3f84 FEFFFFEB 		bl	_txe_thread_delete
 6367              	.L329:
2180:../cyfxslfifosync.c **** 
2181:../cyfxslfifosync.c ****     /* Allocate the memory for the thread */
2182:../cyfxslfifosync.c ****     if (FPGA_config_thread_ptr == NULL) FPGA_config_thread_ptr = CyU3PMemAlloc (CY_FX_SLFIFO_THREAD
 6368              		.loc 1 2182 0
 6369 3f88 88309FE5 		ldr	r3, .L333
 6370 3f8c 003093E5 		ldr	r3, [r3]
 6371 3f90 000053E3 		cmp	r3, #0
 6372 3f94 0400001A 		bne	.L330
 6373              		.loc 1 2182 0 is_stmt 0 discriminator 1
 6374 3f98 010BA0E3 		mov	r0, #1024
 6375 3f9c FEFFFFEB 		bl	CyU3PMemAlloc
 6376 3fa0 0020A0E1 		mov	r2, r0
 6377 3fa4 6C309FE5 		ldr	r3, .L333
 6378 3fa8 002083E5 		str	r2, [r3]
 6379              	.L330:
2183:../cyfxslfifosync.c **** 
2184:../cyfxslfifosync.c ****     /* Create the thread for the application */
2185:../cyfxslfifosync.c ****     retThrdCreate = CyU3PThreadCreate (&FPGA_config_thread_st,           /* Slave FIFO app thread s
 6380              		.loc 1 2185 0 is_stmt 1
 6381 3fac 64309FE5 		ldr	r3, .L333
 6382 3fb0 003093E5 		ldr	r3, [r3]
 6383 3fb4 00308DE5 		str	r3, [sp]
 6384 3fb8 013BA0E3 		mov	r3, #1024
 6385 3fbc 04308DE5 		str	r3, [sp, #4]
 6386 3fc0 0F30A0E3 		mov	r3, #15
 6387 3fc4 08308DE5 		str	r3, [sp, #8]
 6388 3fc8 0F30A0E3 		mov	r3, #15
 6389 3fcc 0C308DE5 		str	r3, [sp, #12]
 6390 3fd0 0030A0E3 		mov	r3, #0
 6391 3fd4 10308DE5 		str	r3, [sp, #16]
 6392 3fd8 0130A0E3 		mov	r3, #1
 6393 3fdc 14308DE5 		str	r3, [sp, #20]
 6394 3fe0 A830A0E3 		mov	r3, #168
 6395 3fe4 18308DE5 		str	r3, [sp, #24]
 6396 3fe8 2C009FE5 		ldr	r0, .L333+4
 6397 3fec 2C109FE5 		ldr	r1, .L333+8
 6398 3ff0 2C209FE5 		ldr	r2, .L333+12
 6399 3ff4 0030A0E3 		mov	r3, #0
 6400 3ff8 FEFFFFEB 		bl	_txe_thread_create
 6401 3ffc 08000BE5 		str	r0, [fp, #-8]
2186:../cyfxslfifosync.c ****                           "22:FPGA_Configuration",                    /* Thread ID and thread name 
2187:../cyfxslfifosync.c ****                           FPGA_config_thread, //SlFifoAppThread_Entry,                   /* Slave F
2188:../cyfxslfifosync.c ****                           0,                                       /* No input parameter to thread 
2189:../cyfxslfifosync.c ****                           FPGA_config_thread_ptr,                                     /* Pointer to
2190:../cyfxslfifosync.c ****                           CY_FX_SLFIFO_THREAD_STACK,               /* App Thread stack size */
2191:../cyfxslfifosync.c ****                           15,            /* App Thread priority */
2192:../cyfxslfifosync.c ****                           15,            /* App Thread pre-emption threshold */
2193:../cyfxslfifosync.c ****                           CYU3P_NO_TIME_SLICE,                     /* No time slice for the applica
2194:../cyfxslfifosync.c ****                           CYU3P_AUTO_START                         /* Start the thread immediately 
2195:../cyfxslfifosync.c ****                           );
2196:../cyfxslfifosync.c **** 
2197:../cyfxslfifosync.c ****     /* Check the return code */
2198:../cyfxslfifosync.c ****     if (retThrdCreate != 0)
 6402              		.loc 1 2198 0
 6403 4000 08301BE5 		ldr	r3, [fp, #-8]
 6404 4004 000053E3 		cmp	r3, #0
 6405 4008 0000000A 		beq	.L328
 6406              	.L332:
2199:../cyfxslfifosync.c ****     {
2200:../cyfxslfifosync.c ****         /* Thread Creation failed with the error code retThrdCreate */
2201:../cyfxslfifosync.c **** 
2202:../cyfxslfifosync.c ****         /* Add custom recovery or debug actions here */
2203:../cyfxslfifosync.c **** 
2204:../cyfxslfifosync.c ****         /* Application cannot continue */
2205:../cyfxslfifosync.c ****         /* Loop indefinitely */
2206:../cyfxslfifosync.c ****         while(1);
 6407              		.loc 1 2206 0 discriminator 1
 6408 400c FEFFFFEA 		b	.L332
 6409              	.L328:
2207:../cyfxslfifosync.c ****     }
2208:../cyfxslfifosync.c **** }
 6410              		.loc 1 2208 0
 6411 4010 04D04BE2 		sub	sp, fp, #4
 6412              		@ sp needed
 6413 4014 0088BDE8 		ldmfd	sp!, {fp, pc}
 6414              	.L334:
 6415              		.align	2
 6416              	.L333:
 6417 4018 00000000 		.word	FPGA_config_thread_ptr
 6418 401c 00000000 		.word	FPGA_config_thread_st
 6419 4020 30000000 		.word	.LC1
 6420 4024 00000000 		.word	FPGA_config_thread
 6421              		.cfi_endproc
 6422              	.LFE27:
 6424              		.align	2
 6425              		.global	main
 6427              	main:
 6428              	.LFB28:
2209:../cyfxslfifosync.c **** 
2210:../cyfxslfifosync.c **** /*
2211:../cyfxslfifosync.c ****  * Main function
2212:../cyfxslfifosync.c ****  */
2213:../cyfxslfifosync.c **** int
2214:../cyfxslfifosync.c **** main (void)
2215:../cyfxslfifosync.c **** {
 6429              		.loc 1 2215 0
 6430              		.cfi_startproc
 6431              		@ args = 0, pretend = 0, frame = 64
 6432              		@ frame_needed = 1, uses_anonymous_args = 0
 6433 4028 00482DE9 		stmfd	sp!, {fp, lr}
 6434              	.LCFI56:
 6435              		.cfi_def_cfa_offset 8
 6436              		.cfi_offset 11, -8
 6437              		.cfi_offset 14, -4
 6438 402c 04B08DE2 		add	fp, sp, #4
 6439              	.LCFI57:
 6440              		.cfi_def_cfa 11, 4
 6441 4030 40D04DE2 		sub	sp, sp, #64
2216:../cyfxslfifosync.c ****     CyU3PIoMatrixConfig_t io_cfg;
2217:../cyfxslfifosync.c ****     CyU3PReturnStatus_t status = CY_U3P_SUCCESS;
 6442              		.loc 1 2217 0
 6443 4034 0030A0E3 		mov	r3, #0
 6444 4038 08300BE5 		str	r3, [fp, #-8]
2218:../cyfxslfifosync.c ****     CyU3PSysClockConfig_t clkCfg;
2219:../cyfxslfifosync.c **** 
2220:../cyfxslfifosync.c ****         /* setSysClk400 clock configurations */
2221:../cyfxslfifosync.c ****         clkCfg.setSysClk400 = CyTrue;   /* FX3 device's master clock is set to a frequency > 400 MH
 6445              		.loc 1 2221 0
 6446 403c 0130A0E3 		mov	r3, #1
 6447 4040 40300BE5 		str	r3, [fp, #-64]
2222:../cyfxslfifosync.c ****         clkCfg.cpuClkDiv = 2;           /* CPU clock divider */
 6448              		.loc 1 2222 0
 6449 4044 0230A0E3 		mov	r3, #2
 6450 4048 3C304BE5 		strb	r3, [fp, #-60]
2223:../cyfxslfifosync.c ****         clkCfg.dmaClkDiv = 2;           /* DMA clock divider */
 6451              		.loc 1 2223 0
 6452 404c 0230A0E3 		mov	r3, #2
 6453 4050 3B304BE5 		strb	r3, [fp, #-59]
2224:../cyfxslfifosync.c ****         clkCfg.mmioClkDiv = 2;          /* MMIO clock divider */
 6454              		.loc 1 2224 0
 6455 4054 0230A0E3 		mov	r3, #2
 6456 4058 3A304BE5 		strb	r3, [fp, #-58]
2225:../cyfxslfifosync.c ****         clkCfg.useStandbyClk = CyFalse; /* device has no 32KHz clock supplied */
 6457              		.loc 1 2225 0
 6458 405c 0030A0E3 		mov	r3, #0
 6459 4060 38300BE5 		str	r3, [fp, #-56]
2226:../cyfxslfifosync.c ****         clkCfg.clkSrc = CY_U3P_SYS_CLK; /* Clock source for a peripheral block  */
 6460              		.loc 1 2226 0
 6461 4064 0330A0E3 		mov	r3, #3
 6462 4068 34304BE5 		strb	r3, [fp, #-52]
2227:../cyfxslfifosync.c **** 
2228:../cyfxslfifosync.c ****     /* Initialize the device */
2229:../cyfxslfifosync.c ****     status = CyU3PDeviceInit (&clkCfg);
 6463              		.loc 1 2229 0
 6464 406c 40304BE2 		sub	r3, fp, #64
 6465 4070 0300A0E1 		mov	r0, r3
 6466 4074 FEFFFFEB 		bl	CyU3PDeviceInit
 6467 4078 08000BE5 		str	r0, [fp, #-8]
2230:../cyfxslfifosync.c ****     if (status != CY_U3P_SUCCESS)
 6468              		.loc 1 2230 0
 6469 407c 08301BE5 		ldr	r3, [fp, #-8]
 6470 4080 000053E3 		cmp	r3, #0
 6471 4084 0000000A 		beq	.L336
2231:../cyfxslfifosync.c ****     {
2232:../cyfxslfifosync.c ****         goto handle_fatal_error;
 6472              		.loc 1 2232 0
 6473 4088 270000EA 		b	.L337
 6474              	.L336:
2233:../cyfxslfifosync.c ****     }
2234:../cyfxslfifosync.c **** 
2235:../cyfxslfifosync.c ****     /* Initialize the caches. Enable instruction cache and keep data cache disabled.
2236:../cyfxslfifosync.c ****      * The data cache is useful only when there is a large amount of CPU based memory
2237:../cyfxslfifosync.c ****      * accesses. When used in simple cases, it can decrease performance due to large 
2238:../cyfxslfifosync.c ****      * number of cache flushes and cleans and also it adds to the complexity of the
2239:../cyfxslfifosync.c ****      * code. */
2240:../cyfxslfifosync.c ****     status = CyU3PDeviceCacheControl (CyTrue, CyFalse, CyFalse);
 6475              		.loc 1 2240 0
 6476 408c 0100A0E3 		mov	r0, #1
 6477 4090 0010A0E3 		mov	r1, #0
 6478 4094 0020A0E3 		mov	r2, #0
 6479 4098 FEFFFFEB 		bl	CyU3PDeviceCacheControl
 6480 409c 08000BE5 		str	r0, [fp, #-8]
2241:../cyfxslfifosync.c ****     if (status != CY_U3P_SUCCESS)
 6481              		.loc 1 2241 0
 6482 40a0 08301BE5 		ldr	r3, [fp, #-8]
 6483 40a4 000053E3 		cmp	r3, #0
 6484 40a8 0000000A 		beq	.L338
2242:../cyfxslfifosync.c ****     {
2243:../cyfxslfifosync.c ****         goto handle_fatal_error;
 6485              		.loc 1 2243 0
 6486 40ac 1E0000EA 		b	.L337
 6487              	.L338:
2244:../cyfxslfifosync.c ****     }
2245:../cyfxslfifosync.c **** 
2246:../cyfxslfifosync.c ****     /* Configure the IO matrix for the device. On the FX3 DVK board, the COM port 
2247:../cyfxslfifosync.c ****      * is connected to the IO(53:56). This means that either DQ32 mode should be
2248:../cyfxslfifosync.c ****      * selected or lppMode should be set to UART_ONLY. Here we are choosing
2249:../cyfxslfifosync.c ****      * UART_ONLY configuration for 16 bit slave FIFO configuration and setting
2250:../cyfxslfifosync.c ****      * isDQ32Bit for 32-bit slave FIFO configuration. */
2251:../cyfxslfifosync.c ****     io_cfg.useUart   = CyFalse;
 6488              		.loc 1 2251 0
 6489 40b0 0030A0E3 		mov	r3, #0
 6490 40b4 2C300BE5 		str	r3, [fp, #-44]
2252:../cyfxslfifosync.c ****     io_cfg.useI2C    = CyTrue;
 6491              		.loc 1 2252 0
 6492 40b8 0130A0E3 		mov	r3, #1
 6493 40bc 28300BE5 		str	r3, [fp, #-40]
2253:../cyfxslfifosync.c ****     io_cfg.useI2S    = CyFalse;
 6494              		.loc 1 2253 0
 6495 40c0 0030A0E3 		mov	r3, #0
 6496 40c4 24300BE5 		str	r3, [fp, #-36]
2254:../cyfxslfifosync.c ****     io_cfg.useSpi    = CyTrue;
 6497              		.loc 1 2254 0
 6498 40c8 0130A0E3 		mov	r3, #1
 6499 40cc 20300BE5 		str	r3, [fp, #-32]
2255:../cyfxslfifosync.c ****     io_cfg.isDQ32Bit = CyFalse;
 6500              		.loc 1 2255 0
 6501 40d0 0030A0E3 		mov	r3, #0
 6502 40d4 30300BE5 		str	r3, [fp, #-48]
2256:../cyfxslfifosync.c ****     io_cfg.lppMode   = CY_U3P_IO_MATRIX_LPP_SPI_ONLY;
 6503              		.loc 1 2256 0
 6504 40d8 0230A0E3 		mov	r3, #2
 6505 40dc 1A304BE5 		strb	r3, [fp, #-26]
2257:../cyfxslfifosync.c **** 
2258:../cyfxslfifosync.c ****     io_cfg.gpioSimpleEn[0]  = 0;
 6506              		.loc 1 2258 0
 6507 40e0 0030A0E3 		mov	r3, #0
 6508 40e4 18300BE5 		str	r3, [fp, #-24]
2259:../cyfxslfifosync.c ****     io_cfg.gpioSimpleEn[1]  = 0;
 6509              		.loc 1 2259 0
 6510 40e8 0030A0E3 		mov	r3, #0
 6511 40ec 14300BE5 		str	r3, [fp, #-20]
2260:../cyfxslfifosync.c ****     io_cfg.gpioComplexEn[0] = 0;
 6512              		.loc 1 2260 0
 6513 40f0 0030A0E3 		mov	r3, #0
 6514 40f4 10300BE5 		str	r3, [fp, #-16]
2261:../cyfxslfifosync.c ****     io_cfg.gpioComplexEn[1] = 0;
 6515              		.loc 1 2261 0
 6516 40f8 0030A0E3 		mov	r3, #0
 6517 40fc 0C300BE5 		str	r3, [fp, #-12]
2262:../cyfxslfifosync.c **** 
2263:../cyfxslfifosync.c ****     status = CyU3PDeviceConfigureIOMatrix (&io_cfg);
 6518              		.loc 1 2263 0
 6519 4100 30304BE2 		sub	r3, fp, #48
 6520 4104 0300A0E1 		mov	r0, r3
 6521 4108 FEFFFFEB 		bl	CyU3PDeviceConfigureIOMatrix
 6522 410c 08000BE5 		str	r0, [fp, #-8]
2264:../cyfxslfifosync.c ****     if (status != CY_U3P_SUCCESS)
 6523              		.loc 1 2264 0
 6524 4110 08301BE5 		ldr	r3, [fp, #-8]
 6525 4114 000053E3 		cmp	r3, #0
 6526 4118 0000000A 		beq	.L339
2265:../cyfxslfifosync.c ****     {
2266:../cyfxslfifosync.c ****         goto handle_fatal_error;
 6527              		.loc 1 2266 0
 6528 411c 020000EA 		b	.L337
 6529              	.L339:
2267:../cyfxslfifosync.c ****     }
2268:../cyfxslfifosync.c **** 
2269:../cyfxslfifosync.c ****     /* This is a non returnable call for initializing the RTOS kernel */
2270:../cyfxslfifosync.c ****     CyU3PKernelEntry ();
 6530              		.loc 1 2270 0
 6531 4120 FEFFFFEB 		bl	_tx_initialize_kernel_enter
2271:../cyfxslfifosync.c **** 
2272:../cyfxslfifosync.c ****     /* Dummy return to make the compiler happy */
2273:../cyfxslfifosync.c ****     return 0;
 6532              		.loc 1 2273 0
 6533 4124 0030A0E3 		mov	r3, #0
 6534 4128 000000EA 		b	.L341
 6535              	.L337:
2274:../cyfxslfifosync.c **** 
2275:../cyfxslfifosync.c **** handle_fatal_error:
2276:../cyfxslfifosync.c **** 
2277:../cyfxslfifosync.c ****     /* Cannot recover from this error. */
2278:../cyfxslfifosync.c ****     while (1);
 6536              		.loc 1 2278 0 discriminator 1
 6537 412c FEFFFFEA 		b	.L337
 6538              	.L341:
2279:../cyfxslfifosync.c **** }
 6539              		.loc 1 2279 0
 6540 4130 0300A0E1 		mov	r0, r3
 6541 4134 04D04BE2 		sub	sp, fp, #4
 6542              		@ sp needed
 6543 4138 0088BDE8 		ldmfd	sp!, {fp, pc}
 6544              		.cfi_endproc
 6545              	.LFE28:
 6547              	.Letext0:
 6548              		.file 2 "c:\\program files (x86)\\cypress\\ez-usb fx3 sdk\\1.3\\arm gcc\\arm-none-eabi\\include\\s
 6549              		.file 3 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyu3ty
 6550              		.file 4 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyfx3_
 6551              		.file 5 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/tx_por
 6552              		.file 6 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/tx_api
 6553              		.file 7 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyu3dm
 6554              		.file 8 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyu3sy
 6555              		.file 9 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyu3er
 6556              		.file 10 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyu3u
 6557              		.file 11 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyu3u
 6558              		.file 12 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyu3g
 6559              		.file 13 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyu3p
 6560              		.file 14 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyu3l
 6561              		.file 15 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyu3g
 6562              		.file 16 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyu3i
 6563              		.file 17 "C:\\Program Files (x86)\\Cypress\\EZ-USB FX3 SDK\\1.3\\firmware\\u3p_firmware\\inc/cyu3s
 6564              		.file 18 "../LMS64C_protocol.h"
 6565              		.file 19 "../stream_brd.h"
 6566              		.file 20 "../cyfxslfifosync.h"
 6567              		.file 21 "../cyfxgpif2config.h"
DEFINED SYMBOLS
                            *ABS*:00000000 cyfxslfifosync.c
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:21     .data:00000000 CyFxGpifTransition
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:18     .data:00000000 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:33     .data:00000010 CyFxGpifWavedata
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:86     .data:000000d0 CyFxGpifWavedataPosition
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:290    .data:00000198 CyFxGpifRegValue
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:372    .rodata:00000000 CyFxGpifConfig
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:369    .rodata:00000000 $d
                            *COM*:00000001 test
                            *COM*:00000001 dac_val
                            *COM*:00000001 block
                            *COM*:00000001 cmd_errors
                            *COM*:00000040 glEp0Buffer
                            *COM*:00000040 glEp0Buffer_Rx
                            *COM*:00000040 glEp0Buffer_Tx
                            *COM*:00000004 wiper_pos
                            *COM*:00000004 tx_id
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:397    .data:000002c8 LMS_Ctrl_Packet_Tx
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:403    .data:000002cc LMS_Ctrl_Packet_Rx
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:410    .bss:00000000 flash_page
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:407    .bss:00000000 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:416    .bss:00000004 flash_page_data_cnt
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:422    .bss:00000008 flash_data_cnt_free
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:428    .bss:0000000c flash_data_counter_to_copy
                            *COM*:00000100 flash_page_data
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:434    .bss:00000010 FPGA_config_thread_runnning
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:440    .bss:00000014 LED_mode
                            *COM*:00000003 LED_timeout
                            *COM*:00000001 temp_byte
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:447    .bss:00000017 need_fx3_reset
                            *COM*:00000004 current_portion
                            *COM*:00000004 fpga_data
                            *COM*:00000001 data_cnt
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:457    .data:000002d0 Board_Config_FPGA
                            *COM*:00000001 finish_flash_page
                            *COM*:00000002 flash_word
                            *COM*:00000002 flash_byte
                            *COM*:00000002 phy_err_cnt
                            *COM*:00000002 lnk_err_cnt
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:469    .bss:00000018 phy_err_cnt_total
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:475    .bss:0000001c lnk_err_cnt_total
                            *COM*:000000a8 slFifoAppThread
                            *COM*:000000ac glChHandleSlFifoUtoP
                            *COM*:000000ac glChHandleSlFifoPtoU
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:484    .bss:00000020 FPGA_config_thread_ptr
                            *COM*:000000a8 FPGA_config_thread_st
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:491    .bss:00000024 glDMARxCount
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:497    .bss:00000028 glDMATxCount
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:503    .bss:0000002c glIsApplnActive
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:508    .bss:00000030 burstLength
                            *COM*:00000004 fpga_byte
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:516    .data:000002d4 config_size
                            *COM*:00000004 fpga_bitstream_size
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:520    .text:00000000 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:523    .text:00000000 Set_LED_mode
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:618    .text:000000dc $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:624    .text:000000e4 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:627    .text:000000e4 Check_many_blocks
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:677    .text:0000014c $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:682    .text:00000154 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:685    .text:00000154 Check_Periph_ID
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:732    .text:000001b4 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:737    .text:000001bc $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:740    .text:000001bc Configure_LM75
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:873    .text:00000320 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:877    .text:00000324 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:880    .text:00000324 Control_TCXO_DAC
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1189   .text:000005e4 Modify_BRDSPI16_Reg_bits
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1513   .text:00000914 Reconfigure_SPI_for_AD5601
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:963    .text:000003dc Control_TCXO_ADF
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1371   .text:000007f4 Reconfigure_SPI_for_LMS
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1122   .text:00000584 SPI_SendByte
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1154   .text:000005b0 SPI_TransferByte
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1435   .text:00000880 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1439   .text:00000884 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1442   .text:00000884 Reconfigure_SPI_for_Flash
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1506   .text:00000910 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1510   .text:00000914 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1577   .text:000009a0 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1581   .text:000009a4 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1584   .text:000009a4 Reconfigure_SPI_for_AVR
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1667   .text:00000a60 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1672   .text:00000a68 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1675   .text:00000a68 Reconfigure_SPI_for_HPM
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1739   .text:00000af4 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1743   .text:00000af8 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1746   .text:00000af8 CyFxSpiInit
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1827   .text:00000bb0 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1831   .text:00000bb4 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1834   .text:00000bb4 CyFxAppErrorHandler
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1862   .text:00000bd0 CyFxI2cInit
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1926   .text:00000c58 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1930   .text:00000c5c $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:1933   .text:00000c5c CyFxSlFifoApplnStart
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:2172   .text:00000ec4 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:2182   .text:00000ee0 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:2185   .text:00000ee0 CyFxSlFifoApplnStop
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:2263   .text:00000f94 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:2269   .text:00000fa0 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:2272   .text:00000fa0 CyFxSlFifoApplnUSBSetupCB
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:2512   .text:00001234 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:2613   .text:000013c0 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:3610   .text:00002038 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:3633   .text:0000208c $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:3827   .text:000022e0 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:3834   .text:000022f0 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5130   .text:00003358 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5144   .text:00003384 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5147   .text:00003384 CyFxSlFifoApplnUSBEventCB
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5216   .text:00003410 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5220   .text:00003414 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5223   .text:00003414 CyFxApplnLPMRqtCB
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5254   .text:0000343c gpif_error_cb
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5286   .text:00003480 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5296   .text:000034a0 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5309   .text:000034b0 CyFxSlFifoApplnInit
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5851   .text:00003a88 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5871   .text:00003acc $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5874   .text:00003acc FPGA_config_thread
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5984   .text:00003bf0 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5993   .text:00003c08 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:5996   .text:00003c08 SlFifoAppThread_Entry
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:6131   .text:00003d6c $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:6137   .text:00003d7c $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:6249   .text:00003ea8 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:6263   .text:00003ec0 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:6266   .text:00003ec0 CyFxApplicationDefine
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:6327   .text:00003f50 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:6338   .text:00003f5c $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:6341   .text:00003f5c FPGA_config_thread_start
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:6417   .text:00004018 $d
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:6424   .text:00004028 $a
C:\Users\Dovydas\AppData\Local\Temp\ccrlKu8l.s:6427   .text:00004028 main
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
CyU3PGpioSimpleSetValue
__aeabi_uidiv
CyU3PI2cTransmitBytes
CyU3PSpiTransmitWords
CyU3PSpiReceiveWords
CyU3PGpioSetValue
CyU3PMemSet
CyU3PSpiSetConfig
CyU3PSpiInit
_tx_thread_sleep
CyU3PI2cInit
CyU3PI2cSetConfig
CyU3PUsbGetSpeed
CyU3PSetEpConfig
CyU3PDmaChannelCreate
CyU3PUsbFlushEp
CyU3PDmaChannelSetXfer
CyU3PDmaChannelDestroy
CyU3PUsbAckSetup
CyU3PUsbStall
CyU3PDmaChannelReset
CyU3PUsbResetEp
CyU3PUsbSendEP0Data
CyU3PDeviceReset
CyU3PUsbGetEP0Data
memset
CyU3PI2cReceiveBytes
FlashSpiTransfer
memcpy
FlashSpiEraseSector
CyU3PUsbLPMDisable
CyU3PPibInit
CyU3PGpifLoad
CyU3PGpifSocketConfigure
CyU3PGpifSMStart
CyU3PGpioInit
CyU3PDeviceGpioOverride
CyU3PGpioSetSimpleConfig
CyU3PUsbStart
CyU3PUsbSetTxSwing
CyU3PPibRegisterCallback
CyU3PUsbRegisterSetupCallback
CyU3PUsbRegisterEventCallback
CyU3PUsbRegisterLPMRequestCallback
CyU3PUsbSetDesc
CyU3PConnectState
CyFxUSB30DeviceDscr
CyFxUSB20DeviceDscr
CyFxUSBBOSDscr
CyFxUSBDeviceQualDscr
CyFxUSBSSConfigDscr
CyFxUSBHSConfigDscr
CyFxUSBFSConfigDscr
CyFxUSBStringLangIDDscr
CyFxUSBManufactureDscr
CyFxUSBProductDscr
CyU3PGpioGetValue
CyU3PDmaChannelGetStatus
CyU3PMemAlloc
_txe_thread_create
_txe_thread_delete
CyU3PDeviceInit
CyU3PDeviceCacheControl
CyU3PDeviceConfigureIOMatrix
_tx_initialize_kernel_enter
